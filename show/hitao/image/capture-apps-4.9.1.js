!function(){var a=function(){function a(a,b){if(a!==b){var c=null===a,d=a===Kb,e=a===a,f=null===b,g=b===Kb,h=b===b;if(a>b&&!f||!e||c&&!g&&h||d&&h)return 1;if(b>a&&!c||!h||f&&!d&&e||g&&e)return-1}return 0}function b(a,b,c){for(var d=a.length,e=c?d:-1;c?e--:++e<d;)if(b(a[e],e,a))return e;return-1}function c(a,b,c){if(b!==b)return g(a,c);for(var d=c-1,e=a.length;++d<e;)if(a[d]===b)return d;return-1}function d(a){return null==a?"":a+""}function e(b,c){return a(b.criteria,c.criteria)||b.index-c.index}function f(b,c,d){for(var e=-1,f=b.criteria,g=c.criteria,h=f.length,i=d.length;++e<h;){var j=a(f[e],g[e]);if(j){if(e>=i)return j;var k=d[e];return j*("asc"===k||k===!0?1:-1)}}return b.index-c.index}function g(a,b,c){for(var d=a.length,e=b+(c?0:-1);c?e--:++e<d;){var f=a[e];if(f!==f)return e}return-1}function h(a){return!!a&&"object"==typeof a}function i(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;)a[c]===b&&(a[c]=Zb,f[++e]=c);return f}function j(a,b){for(var c,d=-1,e=a.length,f=-1,g=[];++d<e;){var h=a[d],i=b?b(h,d,a):h;d&&c===i||(c=i,g[++f]=h)}return g}function k(){}function l(){}function m(a){this.__wrapped__=a,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=gd,this.__views__=[]}function n(a){var b=a?a.length:0;for(this.data={hash:_c(null),set:new Xc};b--;)this.push(a[b])}function o(a,b){var c=a.data,d="string"==typeof b||rb(b)?c.set.has(b):c.hash[b];return d?0:-1}function p(a){var b=this.data;"string"==typeof a||rb(a)?b.set.add(a):b.hash[a]=!0}function q(a,b){var c=-1,d=a.length;for(b||(b=Array(d));++c<d;)b[c]=a[c];return b}function r(a,b){for(var c=-1,d=a.length;++c<d&&b(a[c],c,a)!==!1;);return a}function s(a,b){for(var c=a.length;c--&&b(a[c],c,a)!==!1;);return a}function t(a,b){for(var c=-1,d=a.length;++c<d;)if(!b(a[c],c,a))return!1;return!0}function u(a,b){for(var c=-1,d=a.length,e=-1,f=[];++c<d;){var g=a[c];b(g,c,a)&&(f[++e]=g)}return f}function v(a,b){for(var c=-1,d=a.length,e=Array(d);++c<d;)e[c]=b(a[c],c,a);return e}function w(a,b){for(var c=-1,d=b.length,e=a.length;++c<d;)a[e+c]=b[c];return a}function x(a,b,c,d){var e=-1,f=a.length;for(d&&f&&(c=a[++e]);++e<f;)c=b(c,a[e],e,a);return c}function y(a,b){for(var c=-1,d=a.length;++c<d;)if(b(a[c],c,a))return!0;return!1}function z(a,b,c){for(var d=-1,e=Qd(b),f=e.length;++d<f;){var g=e[d],h=a[g],i=c(h,b[g],g,a,b);(i===i?i===h:h!==h)&&(h!==Kb||g in a)||(a[g]=i)}return a}function A(a,b){return null==b?a:B(b,Qd(b),a)}function B(a,b,c){c||(c={});for(var d=-1,e=b.length;++d<e;){var f=b[d];c[f]=a[f]}return c}function C(a,b,c){var d=typeof a;return"function"==d?b===Kb?a:ca(a,b,c):null==a?Gb:"object"==d?Q(a):b===Kb?Jb(a):R(a,b)}function D(a,b,c,d,e,f,g){var h;if(c&&(h=e?c(a,d,e):c(a)),h!==Kb)return h;if(!rb(a))return a;var i=Od(a);if(i){if(h=Ca(a),!b)return q(a,h)}else{var j=Tc.call(a),k=j==dc;if(j!=gc&&j!=$b&&(!k||e))return Ec[j]?Ea(a,j,b):e?a:{};if(Mc(a))return e?a:{};if(h=Da(k?{}:a),!b)return A(h,a)}f||(f=[]),g||(g=[]);for(var l=f.length;l--;)if(f[l]==a)return g[l];return f.push(a),g.push(h),(i?r:J)(a,function(d,e){h[e]=D(d,b,c,e,a,f,g)}),h}function E(a,b){var d=a?a.length:0,e=[];if(!d)return e;var f=-1,g=za(),h=g===c,i=h&&b.length>=Xb?la(b):null,j=b.length;i&&(g=o,h=!1,b=i);a:for(;++f<d;){var k=a[f];if(h&&k===k){for(var l=j;l--;)if(b[l]===k)continue a;e.push(k)}else g(b,k,0)<0&&e.push(k)}return e}function F(a,b){var c=!0;return rd(a,function(a,d,e){return c=!!b(a,d,e)}),c}function G(a,b){var c=[];return rd(a,function(a,d,e){b(a,d,e)&&c.push(a)}),c}function H(a,b,c,d){var e;return c(a,function(a,c,f){return b(a,c,f)?(e=d?c:a,!1):void 0}),e}function I(a,b,c,d){d||(d=[]);for(var e=-1,f=a.length;++e<f;){var g=a[e];h(g)&&Fa(g)&&(c||Od(g)||mb(g))?b?I(g,b,c,d):w(d,g):c||(d[d.length]=g)}return d}function J(a,b){return td(a,b,Qd)}function K(a,b){return ud(a,b,Qd)}function L(a,b,c){if(null!=a){a=Pa(a),c!==Kb&&c in a&&(b=[c]);for(var d=0,e=b.length;null!=a&&e>d;)a=Pa(a)[b[d++]];return d&&d==e?a:Kb}}function M(a,b,c,d,e,f){return a===b?!0:null==a||null==b||!rb(a)&&!h(b)?a!==a&&b!==b:N(a,b,M,c,d,e,f)}function N(a,b,c,d,e,f,g){var h=Od(a),i=Od(b),j=_b,k=_b;h||(j=Tc.call(a),j==$b?j=gc:j!=gc&&(h=yb(a))),i||(k=Tc.call(b),k==$b?k=gc:k!=gc&&(i=yb(b)));var l=j==gc&&!Mc(a),m=k==gc&&!Mc(b),n=j==k;if(n&&!h&&!l)return va(a,b,j);if(!e){var o=l&&Sc.call(a,"__wrapped__"),p=m&&Sc.call(b,"__wrapped__");if(o||p)return c(o?a.value():a,p?b.value():b,d,e,f,g)}if(!n)return!1;f||(f=[]),g||(g=[]);for(var q=f.length;q--;)if(f[q]==a)return g[q]==b;f.push(a),g.push(b);var r=(h?ua:wa)(a,b,c,d,e,f,g);return f.pop(),g.pop(),r}function O(a,b,c){var d=b.length,e=d,f=!c;if(null==a)return!e;for(a=Pa(a);d--;){var g=b[d];if(f&&g[2]?g[1]!==a[g[0]]:!(g[0]in a))return!1}for(;++d<e;){g=b[d];var h=g[0],i=a[h],j=g[1];if(f&&g[2]){if(i===Kb&&!(h in a))return!1}else{var k=c?c(i,j,h):Kb;if(!(k===Kb?M(j,i,c,!0):k))return!1}}return!0}function P(a,b){var c=-1,d=Fa(a)?Array(a.length):[];return rd(a,function(a,e,f){d[++c]=b(a,e,f)}),d}function Q(a){var b=Aa(a);if(1==b.length&&b[0][2]){var c=b[0][0],d=b[0][1];return function(a){return null==a?!1:(a=Pa(a),a[c]===d&&(d!==Kb||c in a))}}return function(a){return O(a,b)}}function R(a,b){var c=Od(a),d=Ia(a)&&La(b),e=a+"";return a=Qa(a),function(f){if(null==f)return!1;var g=e;if(f=Pa(f),(c||!d)&&!(g in f)){if(f=1==a.length?f:L(f,W(a,0,-1)),null==f)return!1;g=Ua(a),f=Pa(f)}return f[g]===b?b!==Kb||g in f:M(b,f[g],Kb,!0)}}function S(a){return function(b){return null==b?Kb:Pa(b)[a]}}function T(a){var b=a+"";return a=Qa(a),function(c){return L(c,a,b)}}function U(a,b){for(var c=a?b.length:0;c--;){var d=b[c];if(d!=e&&Ga(d)){var e=d;Yc.call(a,d,1)}}return a}function V(a,b,c,d,e){return e(a,function(a,e,f){c=d?(d=!1,a):b(c,a,e,f)}),c}function W(a,b,c){var d=-1,e=a.length;b=null==b?0:+b||0,0>b&&(b=-b>e?0:e+b),c=c===Kb||c>e?e:+c||0,0>c&&(c+=e),e=b>c?0:c-b>>>0,b>>>=0;for(var f=Array(e);++d<e;)f[d]=a[d+b];return f}function X(a,b){var c;return rd(a,function(a,d,e){return c=b(a,d,e),!c}),!!c}function Y(a,b){var c=a.length;for(a.sort(b);c--;)a[c]=a[c].value;return a}function Z(a,b,c){var d=xa(),e=-1;b=v(b,function(a){return d(a)});var g=P(a,function(a){var c=v(b,function(b){return b(a)});return{criteria:c,index:++e,value:a}});return Y(g,function(a,b){return f(a,b,c)})}function $(a,b){var d=-1,e=za(),f=a.length,g=e===c,h=g&&f>=Xb,i=h?la():null,j=[];i?(e=o,g=!1):(h=!1,i=b?[]:j);a:for(;++d<f;){var k=a[d],l=b?b(k,d,a):k;if(g&&k===k){for(var m=i.length;m--;)if(i[m]===l)continue a;b&&i.push(l),j.push(k)}else e(i,l,0)<0&&((b||h)&&i.push(l),j.push(k))}return j}function _(a,b){for(var c=-1,d=b.length,e=Array(d);++c<d;)e[c]=a[b[c]];return e}function aa(a,b,c){var d=0,e=a?a.length:d;if("number"==typeof b&&b===b&&jd>=e){for(;e>d;){var f=d+e>>>1,g=a[f];(c?b>=g:b>g)&&null!==g?d=f+1:e=f}return e}return ba(a,b,Gb,c)}function ba(a,b,c,d){b=c(b);for(var e=0,f=a?a.length:0,g=b!==b,h=null===b,i=b===Kb;f>e;){var j=ad((e+f)/2),k=c(a[j]),l=k!==Kb,m=k===k;if(g)var n=m||d;else n=h?m&&l&&(d||null!=k):i?m&&(d||l):null==k?!1:d?b>=k:b>k;n?e=j+1:f=j}return ed(f,id)}function ca(a,b,c){if("function"!=typeof a)return Gb;if(b===Kb)return a;switch(c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,e,f){return a.call(b,c,d,e,f)};case 5:return function(c,d,e,f,g){return a.call(b,c,d,e,f,g)}}return function(){return a.apply(b,arguments)}}function da(a){var b=new Vc(a.byteLength),c=new Zc(b);return c.set(new Zc(a)),b}function ea(a,b,c){for(var d=c.length,e=-1,f=dd(a.length-d,0),g=-1,h=b.length,i=Array(h+f);++g<h;)i[g]=b[g];for(;++e<d;)i[c[e]]=a[e];for(;f--;)i[g++]=a[e++];return i}function fa(a,b,c){for(var d=-1,e=c.length,f=-1,g=dd(a.length-e,0),h=-1,i=b.length,j=Array(g+i);++f<g;)j[f]=a[f];for(var k=f;++h<i;)j[k+h]=b[h];for(;++d<e;)j[k+c[d]]=a[f++];return j}function ga(a,b){return function(c,d,e){var f=b?b():{};if(d=xa(d,e,3),Od(c))for(var g=-1,h=c.length;++g<h;){var i=c[g];a(f,i,d(i,g,c),c)}else rd(c,function(b,c,e){a(f,b,d(b,c,e),e)});return f}}function ha(a){return kb(function(b,c){var d=-1,e=null==b?0:c.length,f=e>2?c[e-2]:Kb,g=e>2?c[2]:Kb,h=e>1?c[e-1]:Kb;for("function"==typeof f?(f=ca(f,h,5),e-=2):(f="function"==typeof h?h:Kb,e-=f?1:0),g&&Ha(c[0],c[1],g)&&(f=3>e?Kb:f,e=1);++d<e;){var i=c[d];i&&a(b,i,f)}return b})}function ia(a,b){return function(c,d){var e=c?xd(c):0;if(!Ka(e))return a(c,d);for(var f=b?e:-1,g=Pa(c);(b?f--:++f<e)&&d(g[f],f,g)!==!1;);return c}}function ja(a){return function(b,c,d){for(var e=Pa(b),f=d(b),g=f.length,h=a?g:-1;a?h--:++h<g;){var i=f[h];if(c(e[i],i,e)===!1)break}return b}}function ka(a,b){function c(){var e=this&&this!==Lc&&this instanceof c?d:a;return e.apply(b,arguments)}var d=ma(a);return c}function la(a){return _c&&Xc?new n(a):null}function ma(a){return function(){var b=arguments;switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6])}var c=qd(a.prototype),d=a.apply(c,b);return rb(d)?d:c}}function na(a,c){return function(d,e,f){if(e=xa(e,f,3),Od(d)){var g=b(d,e,c);return g>-1?d[g]:Kb}return H(d,e,a)}}function oa(a,b){return function(c,d,e){return"function"==typeof d&&e===Kb&&Od(c)?a(c,d):b(c,ca(d,e,3))}}function pa(a){var b=kb(function(c,d){var e=i(d,b.placeholder);return ta(c,a,Kb,d,e)});return b}function qa(a,b){return function(c,d,e,f){var g=arguments.length<3;return"function"==typeof d&&f===Kb&&Od(c)?a(c,d,e,g):V(c,xa(d,f,4),e,g,b)}}function ra(a,b,c,d,e,f,g,h,j,k){function l(){for(var u=arguments.length,v=u,w=Array(u);v--;)w[v]=arguments[v];if(d&&(w=ea(w,d,e)),f&&(w=fa(w,f,g)),p||s){var x=l.placeholder,y=i(w,x);if(u-=y.length,k>u){var z=h?q(h):Kb,A=dd(k-u,0),B=p?y:Kb,C=p?Kb:y,D=p?w:Kb,E=p?Kb:w;b|=p?Rb:Sb,b&=~(p?Sb:Rb),r||(b&=~(Mb|Nb));var F=[a,b,c,D,B,E,C,z,j,A],G=ra.apply(Kb,F);return Ja(a)&&yd(G,F),G.placeholder=x,G}}var H=n?c:this,I=o?H[a]:a;return h&&(w=Na(w,h)),m&&j<w.length&&(w.length=j),this&&this!==Lc&&this instanceof l&&(I=t||ma(a)),I.apply(H,w)}var m=b&Tb,n=b&Mb,o=b&Nb,p=b&Pb,r=b&Ob,s=b&Qb,t=o?Kb:ma(a);return l}function sa(a,b,c,d){function e(){for(var b=-1,h=arguments.length,i=-1,j=d.length,k=Array(j+h);++i<j;)k[i]=d[i];for(;h--;)k[i++]=arguments[++b];var l=this&&this!==Lc&&this instanceof e?g:a;return l.apply(f?c:this,k)}var f=b&Mb,g=ma(a);return e}function ta(a,b,c,d,e,f,g,h){var i=b&Nb;if(!i&&"function"!=typeof a)throw new TypeError(Yb);var j=d?d.length:0;if(j||(b&=~(Rb|Sb),d=e=Kb),j-=e?e.length:0,b&Sb){var k=d,l=e;d=e=Kb}var m=i?Kb:wd(a),n=[a,b,c,d,e,k,l,f,g,h];if(m&&(Ma(n,m),b=n[1],h=n[9]),n[9]=null==h?i?0:a.length:dd(h-j,0)||0,b==Mb)var o=ka(n[0],n[2]);else o=b!=Rb&&b!=(Mb|Rb)||n[4].length?ra.apply(Kb,n):sa.apply(Kb,n);var p=m?vd:yd;return p(o,n)}function ua(a,b,c,d,e,f,g){var h=-1,i=a.length,j=b.length;if(i!=j&&!(e&&j>i))return!1;for(;++h<i;){var k=a[h],l=b[h],m=d?d(e?l:k,e?k:l,h):Kb;if(m!==Kb){if(m)continue;return!1}if(e){if(!y(b,function(a){return k===a||c(k,a,d,e,f,g)}))return!1}else if(k!==l&&!c(k,l,d,e,f,g))return!1}return!0}function va(a,b,c){switch(c){case ac:case bc:return+a==+b;case cc:return a.name==b.name&&a.message==b.message;case fc:return a!=+a?b!=+b:a==+b;case hc:case jc:return a==b+""}return!1}function wa(a,b,c,d,e,f,g){var h=Qd(a),i=h.length,j=Qd(b),k=j.length;if(i!=k&&!e)return!1;for(var l=i;l--;){var m=h[l];if(!(e?m in b:Sc.call(b,m)))return!1}for(var n=e;++l<i;){m=h[l];var o=a[m],p=b[m],q=d?d(e?p:o,e?o:p,m):Kb;if(!(q===Kb?c(o,p,d,e,f,g):q))return!1;n||(n="constructor"==m)}if(!n){var r=a.constructor,s=b.constructor;if(r!=s&&"constructor"in a&&"constructor"in b&&!("function"==typeof r&&r instanceof r&&"function"==typeof s&&s instanceof s))return!1}return!0}function xa(a,b,c){var d=k.callback||Fb;return d=d===Fb?C:d,c?d(a,b,c):d}function ya(a){for(var b=a.name+"",c=md[b],d=c?c.length:0;d--;){var e=c[d],f=e.func;if(null==f||f==a)return e.name}return b}function za(a,b,d){var e=k.indexOf||Ta;return e=e===Ta?c:e,a?e(a,b,d):e}function Aa(a){for(var b=Db(a),c=b.length;c--;)b[c][2]=La(b[c][1]);return b}function Ba(a,b){var c=null==a?Kb:a[b];return tb(c)?c:Kb}function Ca(a){var b=a.length,c=new a.constructor(b);return b&&"string"==typeof a[0]&&Sc.call(a,"index")&&(c.index=a.index,c.input=a.input),c}function Da(a){var b=a.constructor;return"function"==typeof b&&b instanceof b||(b=Object),new b}function Ea(a,b,c){var d=a.constructor;switch(b){case lc:return da(a);case ac:case bc:return new d(+a);case mc:case nc:case oc:case pc:case qc:case rc:case sc:case tc:case uc:d instanceof d&&(d=nd[b]);var e=a.buffer;return new d(c?da(e):e,a.byteOffset,a.length);case fc:case jc:return new d(a);case hc:var f=new d(a.source,zc.exec(a));f.lastIndex=a.lastIndex}return f}function Fa(a){return null!=a&&Ka(xd(a))}function Ga(a,b){return a="number"==typeof a||Bc.test(a)?+a:-1,b=null==b?kd:b,a>-1&&a%1==0&&b>a}function Ha(a,b,c){if(!rb(c))return!1;var d=typeof b;if("number"==d?Fa(c)&&Ga(b,c.length):"string"==d&&b in c){var e=c[b];return a===a?a===e:e!==e}return!1}function Ia(a,b){var c=typeof a;if("string"==c&&wc.test(a)||"number"==c)return!0;if(Od(a))return!1;var d=!vc.test(a);return d||null!=b&&a in Pa(b)}function Ja(a){var b=ya(a),c=k[b];if("function"!=typeof c||!(b in m.prototype))return!1;if(a===c)return!0;var d=wd(c);return!!d&&a===d[0]}function Ka(a){return"number"==typeof a&&a>-1&&a%1==0&&kd>=a}function La(a){return a===a&&!rb(a)}function Ma(a,b){var c=a[1],d=b[1],e=c|d,f=Tb>e,g=d==Tb&&c==Pb||d==Tb&&c==Ub&&a[7].length<=b[8]||d==(Tb|Ub)&&c==Pb;if(!f&&!g)return a;d&Mb&&(a[2]=b[2],e|=c&Mb?0:Ob);var h=b[3];if(h){var j=a[3];a[3]=j?ea(j,h,b[4]):q(h),a[4]=j?i(a[3],Zb):q(b[4])}return h=b[5],h&&(j=a[5],a[5]=j?fa(j,h,b[6]):q(h),a[6]=j?i(a[5],Zb):q(b[6])),h=b[7],h&&(a[7]=q(h)),d&Tb&&(a[8]=null==a[8]?b[8]:ed(a[8],b[8])),null==a[9]&&(a[9]=b[9]),a[0]=b[0],a[1]=e,a}function Na(a,b){for(var c=a.length,d=ed(b.length,c),e=q(a);d--;){var f=b[d];a[d]=Ga(f,c)?e[f]:Kb}return a}function Oa(a){for(var b=Cb(a),c=b.length,d=c&&a.length,e=!!d&&Ka(d)&&(Od(a)||mb(a)||xb(a)),f=-1,g=[];++f<c;){var h=b[f];(e&&Ga(h,d)||Sc.call(a,h))&&g.push(h)}return g}function Pa(a){if(k.support.unindexedChars&&xb(a)){for(var b=-1,c=a.length,d=Object(a);++b<c;)d[b]=a.charAt(b);return d}return rb(a)?a:Object(a)}function Qa(a){if(Od(a))return a;var b=[];return d(a).replace(xc,function(a,c,d,e){b.push(d?e.replace(yc,"$1"):c||a)}),b}function Ra(a){return a?a[0]:Kb}function Sa(a,b,c){var d=a?a.length:0;return c&&Ha(a,b,c)&&(b=!1),d?I(a,b):[]}function Ta(a,b,d){var e=a?a.length:0;if(!e)return-1;if("number"==typeof d)d=0>d?dd(e+d,0):d;else if(d){var f=aa(a,b);return e>f&&(b===b?b===a[f]:a[f]!==a[f])?f:-1}return c(a,b,d||0)}function Ua(a){var b=a?a.length:0;return b?a[b-1]:Kb}function Va(a,b,c){var d=a?a.length:0;if(!d)return-1;var e=d;if("number"==typeof c)e=(0>c?dd(d+c,0):ed(c||0,d-1))+1;else if(c){e=aa(a,b,!0)-1;var f=a[e];return(b===b?b===f:f!==f)?e:-1}if(b!==b)return g(a,e,!0);for(;e--;)if(a[e]===b)return e;return-1}function Wa(){var a=arguments,b=a[0];if(!b||!b.length)return b;for(var c=0,d=za(),e=a.length;++c<e;)for(var f=0,g=a[c];(f=d(b,g,f))>-1;)Yc.call(b,f,1);return b}function Xa(a,b,c){var d=[];if(!a||!a.length)return d;var e=-1,f=[],g=a.length;for(b=xa(b,c,3);++e<g;){var h=a[e];b(h,e,a)&&(d.push(h),f.push(e))}return U(a,f),d}function Ya(a,b,c){var d=a?a.length:0;return d?(c&&"number"!=typeof c&&Ha(a,b,c)&&(b=0,c=d),W(a,b,c)):[]}function Za(a,b,d,e){var f=a?a.length:0;if(!f)return[];null!=b&&"boolean"!=typeof b&&(e=d,d=Ha(a,b,e)?Kb:b,b=!1);var g=xa();return(null!=d||g!==C)&&(d=g(d,e,3)),b&&za()===c?j(a,d):$(a,d)}function $a(a,b,c){var d=Od(a)?t:F;return c&&Ha(a,b,c)&&(b=Kb),("function"!=typeof b||c!==Kb)&&(b=xa(b,c,3)),d(a,b)}function _a(a,b,c){var d=Od(a)?u:G;return b=xa(b,c,3),d(a,b)}function ab(a,b){return Ed(a,Q(b))}function bb(a,b,c,d){var e=a?xd(a):0;return Ka(e)||(a=Eb(a),e=a.length),c="number"!=typeof c||d&&Ha(b,c,d)?0:0>c?dd(e+c,0):c||0,"string"==typeof a||!Od(a)&&xb(a)?e>=c&&a.indexOf(b,c)>-1:!!e&&za(a,b,c)>-1}function cb(a,b,c){var d=Od(a)?v:P;return b=xa(b,c,3),d(a,b)}function db(a){var b=a?xd(a):0;return Ka(b)?b:Qd(a).length}function eb(a,b,c){var d=Od(a)?y:X;return c&&Ha(a,b,c)&&(b=Kb),("function"!=typeof b||c!==Kb)&&(b=xa(b,c,3)),d(a,b)}function fb(a,b,c){if(null==a)return[];c&&Ha(a,b,c)&&(b=Kb);var d=-1;b=xa(b,c,3);var f=P(a,function(a,c,e){return{criteria:b(a,c,e),index:++d,value:a}});return Y(f,e)}function gb(a,b,c,d){return null==a?[]:(d&&Ha(b,c,d)&&(c=Kb),Od(b)||(b=null==b?[]:[b]),Od(c)||(c=null==c?[]:[c]),Z(a,b,c))}function hb(a,b){return _a(a,Q(b))}function ib(a,b){var c;if("function"!=typeof b){if("function"!=typeof a)throw new TypeError(Yb);var d=a;a=b,b=d}return function(){return--a>0&&(c=b.apply(this,arguments)),1>=a&&(b=Kb),c}}function jb(a){return ib(2,a)}function kb(a,b){if("function"!=typeof a)throw new TypeError(Yb);return b=dd(b===Kb?a.length-1:+b||0,0),function(){for(var c=arguments,d=-1,e=dd(c.length-b,0),f=Array(e);++d<e;)f[d]=c[b+d];switch(b){case 0:return a.call(this,f);case 1:return a.call(this,c[0],f);case 2:return a.call(this,c[0],c[1],f)}var g=Array(b+1);for(d=-1;++d<b;)g[d]=c[d];return g[b]=f,a.apply(this,g)}}function lb(a,b,c,d){return b&&"boolean"!=typeof b&&Ha(a,b,c)?b=!1:"function"==typeof b&&(d=c,c=b,b=!1),"function"==typeof c?D(a,b,ca(c,d,3)):D(a,b)}function mb(a){return h(a)&&Fa(a)&&Sc.call(a,"callee")&&!Wc.call(a,"callee")}function nb(a){return null==a?!0:Fa(a)&&(Od(a)||xb(a)||mb(a)||h(a)&&qb(a.splice))?!a.length:!Qd(a).length}function ob(a,b,c,d){c="function"==typeof c?ca(c,d,3):Kb;var e=c?c(a,b):Kb;return e===Kb?M(a,b,c):!!e}function pb(a){return h(a)&&"string"==typeof a.message&&Tc.call(a)==cc}function qb(a){return rb(a)&&Tc.call(a)==dc}function rb(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}function sb(a){return vb(a)&&a!=+a}function tb(a){return null==a?!1:qb(a)?Uc.test(Rc.call(a)):h(a)&&(Mc(a)?Uc:Ac).test(a)}function ub(a){return null===a}function vb(a){return"number"==typeof a||h(a)&&Tc.call(a)==fc}function wb(a){return rb(a)&&Tc.call(a)==hc}function xb(a){return"string"==typeof a||h(a)&&Tc.call(a)==jc}function yb(a){return h(a)&&Ka(a.length)&&!!Dc[Tc.call(a)]}function zb(a){return a===Kb}function Ab(a){var b=a?xd(a):0;return Ka(b)?b?k.support.unindexedChars&&xb(a)?a.split(""):q(a):[]:Eb(a)}function Bb(a,b,c){var d=qd(a);return c&&Ha(a,b,c)&&(b=Kb),b?A(d,b):d}function Cb(a){if(null==a)return[];rb(a)||(a=Object(a));var b=a.length,c=k.support;b=b&&Ka(b)&&(Od(a)||mb(a)||xb(a))&&b||0;for(var d=a.constructor,e=-1,f=qb(d)&&d.prototype||Pc,g=f===a,h=Array(b),i=b>0,j=c.enumErrorProps&&(a===Oc||a instanceof Error),l=c.enumPrototypes&&qb(a);++e<b;)h[e]=e+"";for(var m in a)l&&"prototype"==m||j&&("message"==m||"name"==m)||i&&Ga(m,b)||"constructor"==m&&(g||!Sc.call(a,m))||h.push(m);if(c.nonEnumShadows&&a!==Pc){var n=a===Qc?jc:a===Oc?cc:Tc.call(a),o=od[n]||od[gc];for(n==gc&&(f=Pc),b=Cc.length;b--;){m=Cc[b];var p=o[m];g&&p||(p?!Sc.call(a,m):a[m]===f[m])||h.push(m)}}return h}function Db(a){a=Pa(a);for(var b=-1,c=Qd(a),d=c.length,e=Array(d);++b<d;){var f=c[b];e[b]=[f,a[f]]}return e}function Eb(a){return _(a,Qd(a))}function Fb(a,b,c){return c&&Ha(a,b,c)&&(b=Kb),h(a)?Hb(a):C(a,b)}function Gb(a){return a}function Hb(a){return Q(D(a,!0))}function Ib(){}function Jb(a){return Ia(a)?S(a):T(a)}var Kb,Lb="3.10.1",Mb=1,Nb=2,Ob=4,Pb=8,Qb=16,Rb=32,Sb=64,Tb=128,Ub=256,Vb=150,Wb=16,Xb=200,Yb="Expected a function",Zb="__lodash_placeholder__",$b="[object Arguments]",_b="[object Array]",ac="[object Boolean]",bc="[object Date]",cc="[object Error]",dc="[object Function]",ec="[object Map]",fc="[object Number]",gc="[object Object]",hc="[object RegExp]",ic="[object Set]",jc="[object String]",kc="[object WeakMap]",lc="[object ArrayBuffer]",mc="[object Float32Array]",nc="[object Float64Array]",oc="[object Int8Array]",pc="[object Int16Array]",qc="[object Int32Array]",rc="[object Uint8Array]",sc="[object Uint8ClampedArray]",tc="[object Uint16Array]",uc="[object Uint32Array]",vc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,wc=/^\w*$/,xc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,yc=/\\(\\)?/g,zc=/\w*$/,Ac=/^\[object .+?Constructor\]$/,Bc=/^\d+$/,Cc=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Dc={};Dc[mc]=Dc[nc]=Dc[oc]=Dc[pc]=Dc[qc]=Dc[rc]=Dc[sc]=Dc[tc]=Dc[uc]=!0,Dc[$b]=Dc[_b]=Dc[lc]=Dc[ac]=Dc[bc]=Dc[cc]=Dc[dc]=Dc[ec]=Dc[fc]=Dc[gc]=Dc[hc]=Dc[ic]=Dc[jc]=Dc[kc]=!1;var Ec={};Ec[$b]=Ec[_b]=Ec[lc]=Ec[ac]=Ec[bc]=Ec[mc]=Ec[nc]=Ec[oc]=Ec[pc]=Ec[qc]=Ec[fc]=Ec[gc]=Ec[hc]=Ec[jc]=Ec[rc]=Ec[sc]=Ec[tc]=Ec[uc]=!0,Ec[cc]=Ec[dc]=Ec[ec]=Ec[ic]=Ec[kc]=!1;var Fc={"function":!0,object:!0},Gc=Fc[typeof exports]&&exports&&!exports.nodeType&&exports,Hc=Fc[typeof module]&&module&&!module.nodeType&&module,Ic=Gc&&Hc&&"object"==typeof global&&global&&global.Object&&global,Jc=Fc[typeof self]&&self&&self.Object&&self,Kc=Fc[typeof window]&&window&&window.Object&&window,Lc=Ic||Kc!==(this&&this.window)&&Kc||Jc||this,Mc=function(){try{Object({toString:0}+"")}catch(a){return function(){return!1}}return function(a){return"function"!=typeof a.toString&&"string"==typeof(a+"")}}(),Nc=Array.prototype,Oc=Error.prototype,Pc=Object.prototype,Qc=String.prototype,Rc=Function.prototype.toString,Sc=Pc.hasOwnProperty,Tc=Pc.toString,Uc=RegExp("^"+Rc.call(Sc).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vc=Lc.ArrayBuffer,Wc=Pc.propertyIsEnumerable,Xc=Ba(Lc,"Set"),Yc=Nc.splice,Zc=Lc.Uint8Array,$c=Ba(Lc,"WeakMap"),_c=Ba(Object,"create"),ad=Math.floor,bd=Ba(Array,"isArray"),cd=Ba(Object,"keys"),dd=Math.max,ed=Math.min,fd=Ba(Date,"now"),gd=Number.POSITIVE_INFINITY,hd=4294967295,id=hd-1,jd=hd>>>1,kd=9007199254740991,ld=$c&&new $c,md={},nd={};nd[mc]=Lc.Float32Array,nd[nc]=Lc.Float64Array,nd[oc]=Lc.Int8Array,nd[pc]=Lc.Int16Array,nd[qc]=Lc.Int32Array,nd[rc]=Zc,nd[sc]=Lc.Uint8ClampedArray,nd[tc]=Lc.Uint16Array,nd[uc]=Lc.Uint32Array;var od={};od[_b]=od[bc]=od[fc]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},od[ac]=od[jc]={constructor:!0,toString:!0,valueOf:!0},od[cc]=od[dc]=od[hc]={constructor:!0,toString:!0},od[gc]={constructor:!0},r(Cc,function(a){for(var b in od)if(Sc.call(od,b)){var c=od[b];c[a]=Sc.call(c,a)}});var pd=k.support={};!function(a){var b=function(){this.x=a},c={0:a,length:a},d=[];b.prototype={valueOf:a,y:a};for(var e in new b)d.push(e);pd.enumErrorProps=Wc.call(Oc,"message")||Wc.call(Oc,"name"),pd.enumPrototypes=Wc.call(b,"prototype"),pd.nonEnumShadows=!/valueOf/.test(d),pd.spliceObjects=(Yc.call(c,0,1),!c[0]),pd.unindexedChars="x"[0]+Object("x")[0]!="xx"}(1,0);var qd=function(){function a(){}return function(b){if(rb(b)){a.prototype=b;var c=new a;a.prototype=Kb}return c||{}}}(),rd=ia(J),sd=ia(K,!0),td=ja(),ud=ja(!0),vd=ld?function(a,b){return ld.set(a,b),a}:Gb,wd=ld?function(a){return ld.get(a)}:Ib,xd=S("length"),yd=function(){var a=0,b=0;return function(c,d){var e=Ld(),f=Wb-(e-b);if(b=e,f>0){if(++a>=Vb)return c}else a=0;return vd(c,d)}}(),zd=kb(function(a,b){return h(a)&&Fa(a)?E(a,I(b,!1,!0)):[]}),Ad=kb(function(a){for(var b=a.length,d=b,e=Array(l),f=za(),g=f===c,h=[];d--;){var i=a[d]=Fa(i=a[d])?i:[];e[d]=g&&i.length>=120?la(d&&i):null}var j=a[0],k=-1,l=j?j.length:0,m=e[0];a:for(;++k<l;)if(i=j[k],(m?o(m,i):f(h,i,0))<0){for(var d=b;--d;){var n=e[d];if((n?o(n,i):f(a[d],i,0))<0)continue a}m&&m.push(i),h.push(i)}return h}),Bd=kb(function(a){return $(I(a,!1,!0))}),Cd=kb(function(a,b){return Fa(a)?E(a,b):[]}),Dd=ga(function(a,b,c){Sc.call(a,c)?++a[c]:a[c]=1}),Ed=na(rd),Fd=na(sd,!0),Gd=oa(r,rd),Hd=oa(s,sd),Id=ga(function(a,b,c){Sc.call(a,c)?a[c].push(b):a[c]=[b]}),Jd=qa(x,rd),Kd=kb(function(a,b){if(null==a)return[];var c=b[2];return c&&Ha(b[0],b[1],c)&&(b.length=1),Z(a,I(b),[])}),Ld=fd||function(){return(new Date).getTime()},Md=kb(function(a,b,c){var d=Mb;if(c.length){var e=i(c,Md.placeholder);d|=Rb}return ta(a,d,b,c,e)}),Nd=pa(Sb),Od=bd||function(a){return h(a)&&Ka(a.length)&&Tc.call(a)==_b},Pd=ha(function(a,b,c){return c?z(a,b,c):A(a,b)}),Qd=cd?function(a){var b=null==a?Kb:a.constructor;return"function"==typeof b&&b.prototype===a||("function"==typeof a?k.support.enumPrototypes:Fa(a))?Oa(a):rb(a)?cd(a):[]}:Oa;return m.prototype=qd(l.prototype),m.prototype.constructor=m,n.prototype.push=p,k.assign=Pd,k.before=ib,k.bind=Md,k.callback=Fb,k.countBy=Dd,k.create=Bb,k.difference=zd,k.filter=_a,k.flatten=Sa,k.forEach=Gd,k.forEachRight=Hd,k.groupBy=Id,k.intersection=Ad,k.keys=Qd,k.keysIn=Cb,k.map=cb,k.matches=Hb,k.once=jb,k.pairs=Db,k.partialRight=Nd,k.property=Jb,k.pull=Wa,k.remove=Xa,k.restParam=kb,k.slice=Ya,k.sortBy=fb,k.sortByAll=Kd,k.sortByOrder=gb,k.toArray=Ab,k.union=Bd,k.uniq=Za,k.values=Eb,k.where=hb,k.without=Cd,k.collect=cb,k.each=Gd,k.eachRight=Hd,k.extend=Pd,k.iteratee=Fb,k.select=_a,k.unique=Za,k.clone=lb,k.every=$a,k.find=Ed,k.findLast=Fd,k.findWhere=ab,k.first=Ra,k.identity=Gb,k.includes=bb,k.indexOf=Ta,k.isArguments=mb,k.isArray=Od,k.isEmpty=nb,k.isEqual=ob,k.isError=pb,k.isFunction=qb,k.isNaN=sb,k.isNative=tb,k.isNull=ub,k.isNumber=vb,k.isObject=rb,k.isRegExp=wb,k.isString=xb,k.isTypedArray=yb,k.isUndefined=zb,k.last=Ua,k.lastIndexOf=Va,k.noop=Ib,k.now=Ld,k.reduce=Jd,k.size=db,k.some=eb,k.all=$a,k.any=eb,k.contains=bb,k.eq=ob,k.detect=Ed,k.foldl=Jd,k.head=Ra,k.include=bb,k.inject=Jd,k.VERSION=Lb,r(["bind","partialRight"],function(a){k[a].placeholder=k}),k}();window.VeAPI={version:{major:4,minor:9,revision:1,deploy:0,build:0}};var b;VeAPI.ready||(VeAPI.ready=function(a){function b(){clearTimeout(d),a(veTagData)}function c(){"complete"===document.readyState&&(document.addEventListener?document.removeEventListener("DOMContentLoaded",c,!1):document.detachEvent("onreadystatechange",c),b())}if("complete"===document.readyState)a(veTagData);else{var d=setInterval(c,10);document.addEventListener?document.addEventListener("DOMContentLoaded",c):document.attachEvent("onreadystatechange",c)}},setTimeout(function(){function c(a){if(a.enabled)for(var b=0,c=i.length;c>b;b+=1)if(a[i[b]])return!0;return!1}function d(a){for(var b,d=[],e=0,f=a.length;f>e;e+=1)b=a[e],b.name=b.name.toLowerCase(),c(b)&&d.push(b.name);return d}var e,f=veTagData,g=function(a){var b,c=0,d=0,e={unsupportedBrowsersVersionPlatform:{},domainsToIgnore:[],windowOpenHandler:!0,hasCustomSettings:!1,consoleMessagesEnabled:!1,waitForLoad:!0};for(b in e)void 0===a[b]&&(a[b]=e[b]);if(a.domainsToIgnore.push(f.veHostDomain.split("//")[1]),a.elementsToIgnore){if(a.elementsStoppingAppsOnClick)for(d=a.elementsToIgnore.length,c=0;d>c;c+=1)a.elementsStoppingAppsOnClick.push(a.elementsToIgnore[c]);else a.elementsStoppingAppsOnClick=a.elementsToIgnore;delete a.elementsToIgnore}if(a.inputSearchAutocomplete){if(a.autocompleteInputsHandler)for(d=a.autocompleteInputsHandler.length,c=0;d>c;c+=1)a.autocompleteInputsHandler.push(a.inputSearchAutocomplete[c]);else a.autocompleteInputsHandler=a.inputSearchAutocomplete;delete a.inputSearchAutocomplete}return a}(veTagData.settings),g=g||{},h=document.referrer,i=["exit","inactivity","backButton","load","exitIntent"],j=d(f.apps);!function(a,c){function d(a){var b=a.length,c=sa.type(a);return sa.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||"function"!==c&&(0===b||"number"==typeof b&&b>0&&b-1 in a)}function e(a){var b=W[a]={};return sa.each(a.match(ua)||[],function(a,c){b[c]=!0}),b}function f(a,b,d,e){if(sa.acceptData(a)){var f,g,h=sa.expando,i="string"==typeof b,j=a.nodeType,k=j?sa.cache:a,l=j?a[h]:a[h]&&h;if(l&&k[l]&&(e||k[l].data)||!i||d!==c)return l||(j?a[h]=l=ja.pop()||sa.guid++:l=h),k[l]||(k[l]={},j||(k[l].toJSON=sa.noop)),("object"==typeof b||"function"==typeof b)&&(e?k[l]=sa.extend(k[l],b):k[l].data=sa.extend(k[l].data,b)),f=k[l],e||(f.data||(f.data={}),f=f.data),d!==c&&(f[sa.camelCase(b)]=d),i?(g=f[b],null==g&&(g=f[sa.camelCase(b)])):g=f,g}}function g(a,b,c){if(sa.acceptData(a)){var d,e,f,g=a.nodeType,h=g?sa.cache:a,j=g?a[sa.expando]:sa.expando;if(h[j]){if(b&&(f=c?h[j]:h[j].data)){for((sa.isArray(b)?b=b.concat(sa.map(b,sa.camelCase)):b in f?b=[b]:(b=sa.camelCase(b),b=b in f?[b]:b.split(" ")),d=0,e=b.length);e>d;d++)delete f[b[d]];if(!(c?i:sa.isEmptyObject)(f))return}(c||(delete h[j].data,i(h[j])))&&(g?sa.cleanData([a],!0):sa.support.deleteExpando||h!=h.window?delete h[j]:h[j]=null)}}}function h(a,b,d){if(d===c&&1===a.nodeType){var e="data-"+b.replace(Y,"-$1").toLowerCase();if(d=a.getAttribute(e),"string"==typeof d){try{d="true"===d?!0:"false"===d?!1:"null"===d?null:+d+""===d?+d:X.test(d)?sa.parseJSON(d):d}catch(f){}sa.data(a,b,d)}else d=c}return d}function i(a){for(var b in a)if(("data"!==b||!sa.isEmptyObject(a[b]))&&"toJSON"!==b)return!1;return!0}function j(){return!0}function k(){return!1}function l(a,b){do a=a[b];while(a&&1!==a.nodeType);return a}function m(a,b,c){if(b=b||0,sa.isFunction(b))return sa.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return sa.grep(a,function(a){return a===b===c});if("string"==typeof b){var d=sa.grep(a,function(a){return 1===a.nodeType});if(Ya.test(b))return sa.filter(b,d,!c);b=sa.filter(b,d)}return sa.grep(a,function(a){return sa.inArray(a,b)>=0===c})}function n(a){var b=_a.split("|"),c=a.createDocumentFragment();if(c.createElement)for(;b.length;)c.createElement(b.pop());return c}function o(a,b){return a.getElementsByTagName(b)[0]||a.appendChild(a.ownerDocument.createElement(b))}function p(a){var b=a.getAttributeNode("type");return a.type=(b&&b.specified)+"/"+a.type,a}function q(a){var b=lb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function r(a,b){for(var c,d=0;null!=(c=a[d]);d++)sa._data(c,"globalEval",!b||sa._data(b[d],"globalEval"))}function s(a,b){if(1===b.nodeType&&sa.hasData(a)){var c,d,e,f=sa._data(a),g=sa._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h)for(d=0,e=h[c].length;e>d;d++)sa.event.add(b,c,h[c][d])}g.data&&(g.data=sa.extend({},g.data))}}function t(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!sa.support.noCloneEvent&&b[sa.expando]){e=sa._data(b);for(d in e.events)sa.removeEvent(b,d,e.handle);b.removeAttribute(sa.expando)}"script"===c&&b.text!==a.text?(p(b).text=a.text,q(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),sa.support.html5Clone&&a.innerHTML&&!sa.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&ib.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}function u(a,b){var d,e,f=0,g=typeof a.getElementsByTagName!==da?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==da?a.querySelectorAll(b||"*"):c;if(!g)for(g=[],d=a.childNodes||a;null!=(e=d[f]);f++)!b||sa.nodeName(e,b)?g.push(e):sa.merge(g,u(e,b));return b===c||b&&sa.nodeName(a,b)?sa.merge([a],g):g}function v(a){ib.test(a.type)&&(a.defaultChecked=a.checked)}function w(a,b){if(b in a)return b;for(var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Fb.length;e--;)if(b=Fb[e]+c,b in a)return b;return d}function x(a,b){return a=b||a,"none"===sa.css(a,"display")||!sa.contains(a.ownerDocument,a)}function y(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=sa._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&x(d)&&(f[g]=sa._data(d,"olddisplay",C(d.nodeName)))):f[g]||(e=x(d),(c&&"none"!==c||!e)&&sa._data(d,"olddisplay",e?c:sa.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}function z(a,b,c){var d=yb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function A(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=sa.css(a,c+Eb[f],!0,e)),d?("content"===c&&(g-=sa.css(a,"padding"+Eb[f],!0,e)),"margin"!==c&&(g-=sa.css(a,"border"+Eb[f]+"Width",!0,e))):(g+=sa.css(a,"padding"+Eb[f],!0,e),"padding"!==c&&(g+=sa.css(a,"border"+Eb[f]+"Width",!0,e)));
return g}function B(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=rb(a),g=sa.support.boxSizing&&"border-box"===sa.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=sb(a,b,f),(0>e||null==e)&&(e=a.style[b]),zb.test(e))return e;d=g&&(sa.support.boxSizingReliable||e===a.style[b]),e=parseFloat(e)||0}return e+A(a,b,c||(g?"border":"content"),d,f)+"px"}function C(a){var b=ea,c=Bb[a];return c||(c=D(a,b),"none"!==c&&c||(qb=(qb||sa("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(b.documentElement),b=(qb[0].contentWindow||qb[0].contentDocument).document,b.write("<!doctype html><html><body>"),b.close(),c=D(a,b),qb.detach()),Bb[a]=c),c}function D(a,b){var c=sa(b.createElement(a)).appendTo(b.body),d=sa.css(c[0],"display");return c.remove(),d}function E(a,b,c,d){var e;if(sa.isArray(b))sa.each(b,function(b,e){c||Hb.test(a)?d(a,e):E(a+"["+("object"==typeof e?b:"")+"]",e,c,d)});else if(c||"object"!==sa.type(b))d(a,b);else for(e in b)E(a+"["+e+"]",b[e],c,d)}function F(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(ua)||[];if(sa.isFunction(c))for(;d=f[e++];)"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function G(a,b,d,e){function f(i){var j;return g[i]=!0,sa.each(a[i]||[],function(a,i){var k=i(b,d,e);return"string"!=typeof k||h||g[k]?h?!(j=k):c:(b.dataTypes.unshift(k),f(k),!1)}),j}var g={},h=a===Xb;return f(b.dataTypes[0])||!g["*"]&&f("*")}function H(a,b){var d,e,f=sa.ajaxSettings.flatOptions||{};for(e in b)b[e]!==c&&((f[e]?a:d||(d={}))[e]=b[e]);return d&&sa.extend(!0,a,d),a}function I(a,b,d){var e,f,g,h,i=a.contents,j=a.dataTypes,k=a.responseFields;for(h in k)h in d&&(b[k[h]]=d[h]);for(;"*"===j[0];)j.shift(),f===c&&(f=a.mimeType||b.getResponseHeader("Content-Type"));if(f)for(h in i)if(i[h]&&i[h].test(f)){j.unshift(h);break}if(j[0]in d)g=j[0];else{for(h in d){if(!j[0]||a.converters[h+" "+j[0]]){g=h;break}e||(e=h)}g=g||e}return g?(g!==j[0]&&j.unshift(g),d[g]):c}function J(a,b){var c,d,e,f,g={},h=0,i=a.dataTypes.slice(),j=i[0];if(a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i[1])for(e in a.converters)g[e.toLowerCase()]=a.converters[e];for(;d=i[++h];)if("*"!==d){if("*"!==j&&j!==d){if(e=g[j+" "+d]||g["* "+d],!e)for(c in g)if(f=c.split(" "),f[1]===d&&(e=g[j+" "+f[0]]||g["* "+f[0]])){e===!0?e=g[c]:g[c]!==!0&&(d=f[0],i.splice(h--,0,d));break}if(e!==!0)if(e&&a["throws"])b=e(b);else try{b=e(b)}catch(k){return{state:"parsererror",error:e?k:"No conversion from "+j+" to "+d}}}j=d}return{state:"success",data:b}}function K(){try{return new a.XMLHttpRequest}catch(b){}}function L(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}function M(){return setTimeout(function(){$b=c}),$b=sa.now()}function N(a,b){sa.each(b,function(b,c){for(var d=(ec[b]||[]).concat(ec["*"]),e=0,f=d.length;f>e;e++)if(d[e].call(a,b,c))return})}function O(a,b,c){var d,e,f=0,g=dc.length,h=sa.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=$b||M(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:sa.extend({},b),opts:sa.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||M(),duration:c.duration,tweens:[],createTween:function(b,c){var d=sa.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(P(k,j.opts.specialEasing);g>f;f++)if(d=dc[f].call(j,a,k,j.opts))return d;return N(j,k),sa.isFunction(j.opts.start)&&j.opts.start.call(a,j),sa.fx.timer(sa.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}function P(a,b){var c,d,e,f,g;for(e in a)if(d=sa.camelCase(e),f=b[d],c=a[e],sa.isArray(c)&&(f=c[1],c=a[e]=c[0]),e!==d&&(a[d]=c,delete a[e]),g=sa.cssHooks[d],g&&"expand"in g){c=g.expand(c),delete a[d];for(e in c)e in a||(a[e]=c[e],b[e]=f)}else b[d]=f}function Q(a,b,c){var d,e,f,g,h,i,j,k,l,m=this,n=a.style,o={},p=[],q=a.nodeType&&x(a);c.queue||(k=sa._queueHooks(a,"fx"),null==k.unqueued&&(k.unqueued=0,l=k.empty.fire,k.empty.fire=function(){k.unqueued||l()}),k.unqueued++,m.always(function(){m.always(function(){k.unqueued--,sa.queue(a,"fx").length||k.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[n.overflow,n.overflowX,n.overflowY],"inline"===sa.css(a,"display")&&"none"===sa.css(a,"float")&&(sa.support.inlineBlockNeedsLayout&&"inline"!==C(a.nodeName)?n.zoom=1:n.display="inline-block")),c.overflow&&(n.overflow="hidden",sa.support.shrinkWrapBlocks||m.always(function(){n.overflow=c.overflow[0],n.overflowX=c.overflow[1],n.overflowY=c.overflow[2]}));for(e in b)if(g=b[e],ac.exec(g)){if(delete b[e],i=i||"toggle"===g,g===(q?"hide":"show"))continue;p.push(e)}if(f=p.length)for((h=sa._data(a,"fxshow")||sa._data(a,"fxshow",{}),"hidden"in h&&(q=h.hidden),i&&(h.hidden=!q),q?sa(a).show():m.done(function(){sa(a).hide()}),m.done(function(){var b;sa._removeData(a,"fxshow");for(b in o)sa.style(a,b,o[b])}),e=0);f>e;e++)d=p[e],j=m.createTween(d,q?h[d]:0),o[d]=h[d]||sa.style(a,d),d in h||(h[d]=j.start,q&&(j.end=j.start,j.start="width"===d||"height"===d?1:0))}function R(a,b,c,d,e){return new R.prototype.init(a,b,c,d,e)}function S(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b)c=Eb[e],d["margin"+c]=d["padding"+c]=a;return b&&(d.opacity=d.width=a),d}function T(a){return sa.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}var U,V,W,X,Y,Z,$,_,aa,ba,ca,da=typeof c,ea=a.document,fa=a.location,ga=a.VEjQuery,ha=a.$,ia={},ja=[],ka="1.9.1",la=ja.concat,ma=ja.push,na=ja.slice,oa=ja.indexOf,pa=ia.toString,qa=ia.hasOwnProperty,ra=ka.trim,sa=function(a,b){return new sa.fn.init(a,b,V)},ta=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ua=/\S+/g,va=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,wa=/^(?:(<[\w\W]+>)[^>]*|#([\w-]*))$/,xa=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ya=/^[\],:{}\s]*$/,za=/(?:^|:|,)(?:\s*\[)+/g,Aa=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,Ba=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,Ca=/^-ms-/,Da=/-([\da-z])/gi,Ea=function(a,b){return b.toUpperCase()},Fa=function(a){(ea.addEventListener||"load"===a.type||"complete"===ea.readyState)&&(Ga(),sa.ready())},Ga=function(){ea.addEventListener?(ea.removeEventListener("DOMContentLoaded",Fa,!1),a.removeEventListener("load",Fa,!1)):(ea.detachEvent("onreadystatechange",Fa),a.detachEvent("onload",Fa))};sa.fn=sa.prototype={VEjQuery:ka,constructor:sa,init:function(a,b,d){var e,f;if(!a)return this;if("string"==typeof a){if(e="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:wa.exec(a),!e||!e[1]&&b)return!b||b.VEjQuery?(b||d).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof sa?b[0]:b,sa.merge(this,sa.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:ea,!0)),xa.test(e[1])&&sa.isPlainObject(b))for(e in b)sa.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}if(f=ea.getElementById(e[2]),f&&f.parentNode){if(f.id!==e[2])return d.find(a);this.length=1,this[0]=f}return this.context=ea,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):sa.isFunction(a)?d.ready(a):(a.selector!==c&&(this.selector=a.selector,this.context=a.context),sa.makeArray(a,this))},selector:"",length:0,size:function(){return this.length},toArray:function(){return na.call(this)},get:function(a){return null==a?this.toArray():0>a?this[this.length+a]:this[a]},pushStack:function(a){var b=sa.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return sa.each(this,a,b)},ready:function(a){return sa.ready.promise().done(a),this},slice:function(){return this.pushStack(na.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},map:function(a){return this.pushStack(sa.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:ma,sort:[].sort,splice:[].splice},sa.fn.init.prototype=sa.fn,sa.extend=sa.fn.extend=function(){var a,b,d,e,f,g,h=arguments[0]||{},i=1,j=arguments.length,k=!1;for("boolean"==typeof h&&(k=h,h=arguments[1]||{},i=2),"object"==typeof h||sa.isFunction(h)||(h={}),j===i&&(h=this,--i);j>i;i++)if(null!=(f=arguments[i]))for(e in f)a=h[e],d=f[e],h!==d&&(k&&d&&(sa.isPlainObject(d)||(b=sa.isArray(d)))?(b?(b=!1,g=a&&sa.isArray(a)?a:[]):g=a&&sa.isPlainObject(a)?a:{},h[e]=sa.extend(k,g,d)):d!==c&&(h[e]=d));return h},sa.extend({noConflict:function(b){return a.$===sa&&(a.$=ha),b&&a.VEjQuery===sa&&(a.VEjQuery=ga),sa},isReady:!1,readyWait:1,holdReady:function(a){a?sa.readyWait++:sa.ready(!0)},ready:function(a){if(a===!0?!--sa.readyWait:!sa.isReady){if(!ea.body)return setTimeout(sa.ready);sa.isReady=!0,a!==!0&&--sa.readyWait>0||(U.resolveWith(ea,[sa]),sa.fn.trigger&&sa(ea).trigger("ready").off("ready"))}},isFunction:function(a){return"function"===sa.type(a)},isArray:Array.isArray||function(a){return"array"===sa.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?ia[pa.call(a)]||"object":typeof a},isPlainObject:function(a){if(!a||"object"!==sa.type(a)||a.nodeType||sa.isWindow(a))return!1;try{if(a.constructor&&!qa.call(a,"constructor")&&!qa.call(a.constructor.prototype,"isPrototypeOf"))return!1}catch(b){return!1}for(var d in a);return d===c||qa.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw Error(a)},parseHTML:function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||ea;var d=xa.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=sa.buildFragment([a],b,e),e&&sa(e).remove(),sa.merge([],d.childNodes))},parseJSON:function(b){return a.JSON&&a.JSON.parse?a.JSON.parse(b):null===b?b:"string"==typeof b&&(b=sa.trim(b),b&&ya.test(b.replace(Aa,"@").replace(Ba,"]").replace(za,"")))?Function("return "+b)():(sa.error("Invalid JSON: "+b),c)},parseXML:function(b){var d,e;if(!b||"string"!=typeof b)return null;try{a.DOMParser?(e=new DOMParser,d=e.parseFromString(b,"text/xml")):(d=new ActiveXObject("Microsoft.XMLDOM"),d.async="false",d.loadXML(b))}catch(f){d=c}return d&&d.documentElement&&!d.getElementsByTagName("parsererror").length||sa.error("Invalid XML: "+b),d},noop:function(){},globalEval:function(b){b&&sa.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(Ca,"ms-").replace(Da,Ea)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var e,f=0,g=a.length,h=d(a);if(c){if(h)for(;g>f&&(e=b.apply(a[f],c),e!==!1);f++);else for(f in a)if(e=b.apply(a[f],c),e===!1)break}else if(h)for(;g>f&&(e=b.call(a[f],f,a[f]),e!==!1);f++);else for(f in a)if(e=b.call(a[f],f,a[f]),e===!1)break;return a},trim:ra&&!ra.call("\ufeff ")?function(a){return null==a?"":ra.call(a)}:function(a){return null==a?"":(a+"").replace(va,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(d(Object(a))?sa.merge(c,"string"==typeof a?[a]:a):ma.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(oa)return oa.call(b,a,c);for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,b){var d=b.length,e=a.length,f=0;if("number"==typeof d)for(;d>f;f++)a[e++]=b[f];else for(;b[f]!==c;)a[e++]=b[f++];return a.length=e,a},grep:function(a,b,c){var d,e=[],f=0,g=a.length;for(c=!!c;g>f;f++)d=!!b(a[f],f),c!==d&&e.push(a[f]);return e},map:function(a,b,c){var e,f=0,g=a.length,h=d(a),i=[];if(h)for(;g>f;f++)e=b(a[f],f,c),null!=e&&(i[i.length]=e);else for(f in a)e=b(a[f],f,c),null!=e&&(i[i.length]=e);return la.apply([],i)},guid:1,proxy:function(a,b){var d,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),sa.isFunction(a)?(d=na.call(arguments,2),e=function(){return a.apply(b||this,d.concat(na.call(arguments)))},e.guid=a.guid=a.guid||sa.guid++,e):c},access:function(a,b,d,e,f,g,h){var i=0,j=a.length,k=null==d;if("object"===sa.type(d)){f=!0;for(i in d)sa.access(a,b,i,d[i],!0,g,h)}else if(e!==c&&(f=!0,sa.isFunction(e)||(h=!0),k&&(h?(b.call(a,e),b=null):(k=b,b=function(a,b,c){return k.call(sa(a),c)})),b))for(;j>i;i++)b(a[i],d,h?e:e.call(a[i],i,b(a[i],d)));return f?a:k?b.call(a):j?b(a[0],d):g},now:function(){return(new Date).getTime()}}),sa.ready.promise=function(b){if(!U)if(U=sa.Deferred(),"complete"===ea.readyState)setTimeout(sa.ready);else if(ea.addEventListener)ea.addEventListener("DOMContentLoaded",Fa,!1),a.addEventListener("load",Fa,!1);else{ea.attachEvent("onreadystatechange",Fa),a.attachEvent("onload",Fa);var c=!1;try{c=null==a.frameElement&&ea.documentElement}catch(d){}c&&c.doScroll&&function e(){if(!sa.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}Ga(),sa.ready()}}()}return U.promise(b)},sa.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){ia["[object "+b+"]"]=b.toLowerCase()}),V=sa(ea),W={},sa.Callbacks=function(a){a="string"==typeof a?W[a]||e(a):sa.extend({},a);var b,d,f,g,h,i,j=[],k=!a.once&&[],l=function(c){for(d=a.memory&&c,f=!0,h=i||0,i=0,g=j.length,b=!0;j&&g>h;h++)if(j[h].apply(c[0],c[1])===!1&&a.stopOnFalse){d=!1;break}b=!1,j&&(k?k.length&&l(k.shift()):d?j=[]:m.disable())},m={add:function(){if(j){var c=j.length;!function e(b){sa.each(b,function(b,c){var d=sa.type(c);"function"===d?a.unique&&m.has(c)||j.push(c):c&&c.length&&"string"!==d&&e(c)})}(arguments),b?g=j.length:d&&(i=c,l(d))}return this},remove:function(){return j&&sa.each(arguments,function(a,c){for(var d;(d=sa.inArray(c,j,d))>-1;)j.splice(d,1),b&&(g>=d&&g--,h>=d&&h--)}),this},has:function(a){return a?sa.inArray(a,j)>-1:!(!j||!j.length)},empty:function(){return j=[],this},disable:function(){return j=k=d=c,this},disabled:function(){return!j},lock:function(){return k=c,d||m.disable(),this},locked:function(){return!k},fireWith:function(a,c){return c=c||[],c=[a,c.slice?c.slice():c],!j||f&&!k||(b?k.push(c):l(c)),this},fire:function(){return m.fireWith(this,arguments),this},fired:function(){return!!f}};return m},sa.extend({Deferred:function(a){var b=[["resolve","done",sa.Callbacks("once memory"),"resolved"],["reject","fail",sa.Callbacks("once memory"),"rejected"],["notify","progress",sa.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return sa.Deferred(function(c){sa.each(b,function(b,f){var g=f[0],h=sa.isFunction(a[b])&&a[b];e[f[1]](function(){var a=h&&h.apply(this,arguments);a&&sa.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[g+"With"](this===d?c.promise():this,h?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?sa.extend(a,d):d}},e={};return d.pipe=d.then,sa.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b,c,d,e=0,f=na.call(arguments),g=f.length,h=1!==g||a&&sa.isFunction(a.promise)?g:0,i=1===h?a:sa.Deferred(),j=function(a,c,d){return function(e){c[a]=this,d[a]=arguments.length>1?na.call(arguments):e,d===b?i.notifyWith(c,d):--h||i.resolveWith(c,d)}};if(g>1)for(b=Array(g),c=Array(g),d=Array(g);g>e;e++)f[e]&&sa.isFunction(f[e].promise)?f[e].promise().done(j(e,d,f)).fail(i.reject).progress(j(e,c,b)):--h;return h||i.resolveWith(d,f),i.promise()}}),sa.support=function(){var b,c,d,e,f,g,h,i,j,k,l=ea.createElement("div");if(l.setAttribute("className","t"),l.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",c=l.getElementsByTagName("*"),d=l.getElementsByTagName("a")[0],!c||!d||!c.length)return{};f=ea.createElement("select"),h=f.appendChild(ea.createElement("option")),e=l.getElementsByTagName("input")[0],d.style.cssText="top:1px;float:left;opacity:.5",b={getSetAttribute:"t"!==l.className,leadingWhitespace:3===l.firstChild.nodeType,tbody:!l.getElementsByTagName("tbody").length,htmlSerialize:!!l.getElementsByTagName("link").length,style:/top/.test(d.getAttribute("style")),hrefNormalized:"/a"===d.getAttribute("href"),opacity:/^0.5/.test(d.style.opacity),cssFloat:!!d.style.cssFloat,checkOn:!!e.value,optSelected:h.selected,enctype:!!ea.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==ea.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===ea.compatMode,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},e.checked=!0,b.noCloneChecked=e.cloneNode(!0).checked,f.disabled=!0,b.optDisabled=!h.disabled;try{delete l.test}catch(m){b.deleteExpando=!1}e=ea.createElement("input"),e.setAttribute("value",""),b.input=""===e.getAttribute("value"),e.value="t",e.setAttribute("type","radio"),b.radioValue="t"===e.value,e.setAttribute("checked","t"),e.setAttribute("name","t"),g=ea.createDocumentFragment(),g.appendChild(e),b.appendChecked=e.checked,b.checkClone=g.cloneNode(!0).cloneNode(!0).lastChild.checked,l.attachEvent&&(l.attachEvent("onclick",function(){b.noCloneEvent=!1}),l.cloneNode(!0).click());for(k in{submit:!0,change:!0,focusin:!0})l.setAttribute(i="on"+k,"t"),b[k+"Bubbles"]=i in a||l.attributes[i].expando===!1;return l.style.backgroundClip="content-box",l.cloneNode(!0).style.backgroundClip="",b.clearCloneStyle="content-box"===l.style.backgroundClip,sa(function(){var c,d,e,f="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",g=ea.getElementsByTagName("body")[0];g&&(c=ea.createElement("div"),c.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",g.appendChild(c).appendChild(l),l.innerHTML="<table><tr><td></td><td>t</td></tr></table>",e=l.getElementsByTagName("td"),e[0].style.cssText="padding:0;margin:0;border:0;display:none",j=0===e[0].offsetHeight,e[0].style.display="",e[1].style.display="none",b.reliableHiddenOffsets=j&&0===e[0].offsetHeight,l.innerHTML="",l.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",b.boxSizing=4===l.offsetWidth,b.doesNotIncludeMarginInBodyOffset=1!==g.offsetTop,a.getComputedStyle&&(b.pixelPosition="1%"!==(a.getComputedStyle(l,null)||{}).top,b.boxSizingReliable="4px"===(a.getComputedStyle(l,null)||{width:"4px"}).width,d=l.appendChild(ea.createElement("div")),d.style.cssText=l.style.cssText=f,d.style.marginRight=d.style.width="0",l.style.width="1px",b.reliableMarginRight=!parseFloat((a.getComputedStyle(d,null)||{}).marginRight)),typeof l.style.zoom!==da&&(l.innerHTML="",l.style.cssText=f+"width:1px;padding:1px;display:inline;zoom:1",b.inlineBlockNeedsLayout=3===l.offsetWidth,l.style.display="block",l.innerHTML="<div></div>",l.firstChild.style.width="5px",b.shrinkWrapBlocks=3!==l.offsetWidth,b.inlineBlockNeedsLayout&&(g.style.zoom=1)),g.removeChild(c),c=l=e=d=null)}),c=f=g=h=d=e=null,b}(),X=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Y=/([A-Z])/g,sa.extend({cache:{},expando:"VEjQuery"+(ka+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(a){return a=a.nodeType?sa.cache[a[sa.expando]]:a[sa.expando],!!a&&!i(a)},data:function(a,b,c){return f(a,b,c)},removeData:function(a,b){return g(a,b)},_data:function(a,b,c){return f(a,b,c,!0)},_removeData:function(a,b){return g(a,b,!0)},acceptData:function(a){if(a.nodeType&&1!==a.nodeType&&9!==a.nodeType)return!1;var b=a.nodeName&&sa.noData[a.nodeName.toLowerCase()];return!b||b!==!0&&a.getAttribute("classid")===b}}),sa.fn.extend({data:function(a,b){var d,e,f=this[0],g=0,i=null;if(a===c){if(this.length&&(i=sa.data(f),1===f.nodeType&&!sa._data(f,"parsedAttrs"))){for(d=f.attributes;d.length>g;g++)e=d[g].name,e.indexOf("data-")||(e=sa.camelCase(e.slice(5)),h(f,e,i[e]));sa._data(f,"parsedAttrs",!0)}return i}return"object"==typeof a?this.each(function(){sa.data(this,a)}):sa.access(this,function(b){return b===c?f?h(f,a,sa.data(f,a)):null:(this.each(function(){sa.data(this,a,b)}),c)},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){sa.removeData(this,a)})}}),sa.extend({queue:function(a,b,d){var e;return a?(b=(b||"fx")+"queue",e=sa._data(a,b),d&&(!e||sa.isArray(d)?e=sa._data(a,b,sa.makeArray(d)):e.push(d)),e||[]):c},dequeue:function(a,b){b=b||"fx";var c=sa.queue(a,b),d=c.length,e=c.shift(),f=sa._queueHooks(a,b),g=function(){sa.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),f.cur=e,e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return sa._data(a,c)||sa._data(a,c,{empty:sa.Callbacks("once memory").add(function(){sa._removeData(a,b+"queue"),sa._removeData(a,c)})})}}),sa.fn.extend({queue:function(a,b){var d=2;return"string"!=typeof a&&(b=a,a="fx",d--),d>arguments.length?sa.queue(this[0],a):b===c?this:this.each(function(){var c=sa.queue(this,a,b);sa._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&sa.dequeue(this,a)})},dequeue:function(a){return this.each(function(){sa.dequeue(this,a)})},delay:function(a,b){return a=sa.fx?sa.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var d,e=1,f=sa.Deferred(),g=this,h=this.length,i=function(){--e||f.resolveWith(g,[g])};for("string"!=typeof a&&(b=a,a=c),a=a||"fx";h--;)d=sa._data(g[h],a+"queueHooks"),d&&d.empty&&(e++,d.empty.add(i));return i(),f.promise(b)}});var Ha,Ia,Ja=/[\t\r\n]/g,Ka=/\r/g,La=/^(?:input|select|textarea|button|object)$/i,Ma=/^(?:a|area)$/i,Na=/^(?:checked|selected|autofocus|autoplay|async|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped)$/i,Oa=/^(?:checked|selected)$/i,Pa=sa.support.getSetAttribute,Qa=sa.support.input;sa.fn.extend({attr:function(a,b){return sa.access(this,sa.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){sa.removeAttr(this,a)})},prop:function(a,b){return sa.access(this,sa.prop,a,b,arguments.length>1)},removeProp:function(a){return a=sa.propFix[a]||a,this.each(function(){try{this[a]=c,delete this[a]}catch(b){}})},addClass:function(a){var b,c,d,e,f,g=0,h=this.length,i="string"==typeof a&&a;if(sa.isFunction(a))return this.each(function(b){sa(this).addClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ua)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ja," "):" ")){for(f=0;e=b[f++];)0>d.indexOf(" "+e+" ")&&(d+=e+" ");c.className=sa.trim(d)}return this},removeClass:function(a){var b,c,d,e,f,g=0,h=this.length,i=0===arguments.length||"string"==typeof a&&a;if(sa.isFunction(a))return this.each(function(b){sa(this).removeClass(a.call(this,b,this.className))});if(i)for(b=(a||"").match(ua)||[];h>g;g++)if(c=this[g],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(Ja," "):"")){for(f=0;e=b[f++];)for(;d.indexOf(" "+e+" ")>=0;)d=d.replace(" "+e+" "," ");c.className=a?sa.trim(d):""}return this},toggleClass:function(a,b){var c=typeof a,d="boolean"==typeof b;return sa.isFunction(a)?this.each(function(c){sa(this).toggleClass(a.call(this,c,this.className,b),b)}):this.each(function(){if("string"===c)for(var e,f=0,g=sa(this),h=b,i=a.match(ua)||[];e=i[f++];)h=d?h:!g.hasClass(e),g[h?"addClass":"removeClass"](e);else(c===da||"boolean"===c)&&(this.className&&sa._data(this,"__className__",this.className),this.className=this.className||a===!1?"":sa._data(this,"__className__")||"")})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++)if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(Ja," ").indexOf(b)>=0)return!0;return!1},val:function(a){var b,d,e,f=this[0];return arguments.length?(e=sa.isFunction(a),this.each(function(b){var f,g=sa(this);1===this.nodeType&&(f=e?a.call(this,b,g.val()):a,null==f?f="":"number"==typeof f?f+="":sa.isArray(f)&&(f=sa.map(f,function(a){return null==a?"":a+""})),d=sa.valHooks[this.type]||sa.valHooks[this.nodeName.toLowerCase()],d&&"set"in d&&d.set(this,f,"value")!==c||(this.value=f))})):f?(d=sa.valHooks[f.type]||sa.valHooks[f.nodeName.toLowerCase()],d&&"get"in d&&(b=d.get(f,"value"))!==c?b:(b=f.value,"string"==typeof b?b.replace(Ka,""):null==b?"":b)):void 0}}),sa.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],!(!c.selected&&i!==e||(sa.support.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&sa.nodeName(c.parentNode,"optgroup"))){if(b=sa(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c=sa.makeArray(b);return sa(a).find("option").each(function(){this.selected=sa.inArray(sa(this).val(),c)>=0}),c.length||(a.selectedIndex=-1),c}}},attr:function(a,b,d){var e,f,g,h=a.nodeType;return a&&3!==h&&8!==h&&2!==h?typeof a.getAttribute===da?sa.prop(a,b,d):(f=1!==h||!sa.isXMLDoc(a),f&&(b=b.toLowerCase(),e=sa.attrHooks[b]||(Na.test(b)?Ia:Ha)),d===c?e&&f&&"get"in e&&null!==(g=e.get(a,b))?g:(typeof a.getAttribute!==da&&(g=a.getAttribute(b)),null==g?c:g):null!==d?e&&f&&"set"in e&&(g=e.set(a,d,b))!==c?g:(a.setAttribute(b,d+""),d):(sa.removeAttr(a,b),c)):void 0},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(ua);if(f&&1===a.nodeType)for(;c=f[e++];)d=sa.propFix[c]||c,Na.test(c)?!Pa&&Oa.test(c)?a[sa.camelCase("default-"+c)]=a[d]=!1:a[d]=!1:sa.attr(a,c,""),a.removeAttribute(Pa?c:d)},attrHooks:{type:{set:function(a,b){if(!sa.support.radioValue&&"radio"===b&&sa.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,b,d){var e,f,g,h=a.nodeType;return a&&3!==h&&8!==h&&2!==h?(g=1!==h||!sa.isXMLDoc(a),g&&(b=sa.propFix[b]||b,f=sa.propHooks[b]),d!==c?f&&"set"in f&&(e=f.set(a,d,b))!==c?e:a[b]=d:f&&"get"in f&&null!==(e=f.get(a,b))?e:a[b]):void 0},propHooks:{tabIndex:{get:function(a){var b=a.getAttributeNode("tabindex");return b&&b.specified?parseInt(b.value,10):La.test(a.nodeName)||Ma.test(a.nodeName)&&a.href?0:c}}}}),Ia={get:function(a,b){var d=sa.prop(a,b),e="boolean"==typeof d&&a.getAttribute(b),f="boolean"==typeof d?Qa&&Pa?null!=e:Oa.test(b)?a[sa.camelCase("default-"+b)]:!!e:a.getAttributeNode(b);return f&&f.value!==!1?b.toLowerCase():c},set:function(a,b,c){return b===!1?sa.removeAttr(a,c):Qa&&Pa||!Oa.test(c)?a.setAttribute(!Pa&&sa.propFix[c]||c,c):a[sa.camelCase("default-"+c)]=a[c]=!0,c}},Qa&&Pa||(sa.attrHooks.value={get:function(a,b){var d=a.getAttributeNode(b);return sa.nodeName(a,"input")?a.defaultValue:d&&d.specified?d.value:c},set:function(a,b,d){return sa.nodeName(a,"input")?(a.defaultValue=b,c):Ha&&Ha.set(a,b,d)}}),Pa||(Ha=sa.valHooks.button={get:function(a,b){var d=a.getAttributeNode(b);return d&&("id"===b||"name"===b||"coords"===b?""!==d.value:d.specified)?d.value:c},set:function(a,b,d){var e=a.getAttributeNode(d);return e||a.setAttributeNode(e=a.ownerDocument.createAttribute(d)),e.value=b+="","value"===d||b===a.getAttribute(d)?b:c}},sa.attrHooks.contenteditable={get:Ha.get,set:function(a,b,c){Ha.set(a,""===b?!1:b,c)}},sa.each(["width","height"],function(a,b){sa.attrHooks[b]=sa.extend(sa.attrHooks[b],{set:function(a,d){return""===d?(a.setAttribute(b,"auto"),d):c}})})),sa.support.hrefNormalized||(sa.each(["href","src","width","height"],function(a,b){sa.attrHooks[b]=sa.extend(sa.attrHooks[b],{get:function(a){var d=a.getAttribute(b,2);return null==d?c:d}})}),sa.each(["href","src"],function(a,b){sa.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}})),sa.support.style||(sa.attrHooks.style={get:function(a){return a.style.cssText||c},set:function(a,b){return a.style.cssText=b+""}}),sa.support.optSelected||(sa.propHooks.selected=sa.extend(sa.propHooks.selected,{get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}})),sa.support.enctype||(sa.propFix.enctype="encoding"),sa.support.checkOn||sa.each(["radio","checkbox"],function(){sa.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}}),sa.each(["radio","checkbox"],function(){sa.valHooks[this]=sa.extend(sa.valHooks[this],{set:function(a,b){return sa.isArray(b)?a.checked=sa.inArray(sa(a).val(),b)>=0:c}})});var Ra=/^(?:input|select|textarea)$/i,Sa=/^key/,Ta=/^(?:mouse|contextmenu)|click/,Ua=/^(?:focusinfocus|focusoutblur)$/,Va=/^([^.]*)(?:\.(.+)|)$/;sa.event={global:{},add:function(a,b,d,e,f){var g,h,i,j,k,l,m,n,o,p,q,r=sa._data(a);if(r){for(d.handler&&(j=d,d=j.handler,f=j.selector),d.guid||(d.guid=sa.guid++),(h=r.events)||(h=r.events={}),(l=r.handle)||(l=r.handle=function(a){return typeof sa===da||a&&sa.event.triggered===a.type?c:sa.event.dispatch.apply(l.elem,arguments)},l.elem=a),b=(b||"").match(ua)||[""],i=b.length;i--;)g=Va.exec(b[i])||[],o=q=g[1],p=(g[2]||"").split(".").sort(),k=sa.event.special[o]||{},o=(f?k.delegateType:k.bindType)||o,k=sa.event.special[o]||{},m=sa.extend({type:o,origType:q,data:e,handler:d,guid:d.guid,selector:f,needsContext:f&&sa.expr.match.needsContext.test(f),namespace:p.join(".")},j),(n=h[o])||(n=h[o]=[],n.delegateCount=0,k.setup&&k.setup.call(a,e,p,l)!==!1||(a.addEventListener?a.addEventListener(o,l,!1):a.attachEvent&&a.attachEvent("on"+o,l))),k.add&&(k.add.call(a,m),m.handler.guid||(m.handler.guid=d.guid)),f?n.splice(n.delegateCount++,0,m):n.push(m),sa.event.global[o]=!0;a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p,q=sa.hasData(a)&&sa._data(a);if(q&&(k=q.events)){for(b=(b||"").match(ua)||[""],j=b.length;j--;)if(h=Va.exec(b[j])||[],n=p=h[1],o=(h[2]||"").split(".").sort(),n){for(l=sa.event.special[n]||{},n=(d?l.delegateType:l.bindType)||n,m=k[n]||[],h=h[2]&&RegExp("(^|\\.)"+o.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=m.length;f--;)g=m[f],!e&&p!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(m.splice(f,1),g.selector&&m.delegateCount--,l.remove&&l.remove.call(a,g));i&&!m.length&&(l.teardown&&l.teardown.call(a,o,q.handle)!==!1||sa.removeEvent(a,n,q.handle),delete k[n])}else for(n in k)sa.event.remove(a,n+b[j],c,d,!0);sa.isEmptyObject(k)&&(delete q.handle,sa._removeData(a,"events"))}},trigger:function(b,d,e,f){var g,h,i,j,k,l,m,n=[e||ea],o=qa.call(b,"type")?b.type:b,p=qa.call(b,"namespace")?b.namespace.split("."):[];if(i=l=e=e||ea,3!==e.nodeType&&8!==e.nodeType&&!Ua.test(o+sa.event.triggered)&&(o.indexOf(".")>=0&&(p=o.split("."),o=p.shift(),p.sort()),h=0>o.indexOf(":")&&"on"+o,b=b[sa.expando]?b:new sa.Event(o,"object"==typeof b&&b),b.isTrigger=!0,b.namespace=p.join("."),b.namespace_re=b.namespace?RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=c,b.target||(b.target=e),d=null==d?[b]:sa.makeArray(d,[b]),k=sa.event.special[o]||{},f||!k.trigger||k.trigger.apply(e,d)!==!1)){if(!f&&!k.noBubble&&!sa.isWindow(e)){for(j=k.delegateType||o,Ua.test(j+o)||(i=i.parentNode);i;i=i.parentNode)n.push(i),l=i;l===(e.ownerDocument||ea)&&n.push(l.defaultView||l.parentWindow||a)}for(m=0;(i=n[m++])&&!b.isPropagationStopped();)b.type=m>1?j:k.bindType||o,g=(sa._data(i,"events")||{})[b.type]&&sa._data(i,"handle"),g&&g.apply(i,d),g=h&&i[h],
g&&sa.acceptData(i)&&g.apply&&g.apply(i,d)===!1&&b.preventDefault();if(b.type=o,!(f||b.isDefaultPrevented()||k._default&&k._default.apply(e.ownerDocument,d)!==!1||"click"===o&&sa.nodeName(e,"a")||!sa.acceptData(e)||!h||!e[o]||sa.isWindow(e))){l=e[h],l&&(e[h]=null),sa.event.triggered=o;try{e[o]()}catch(q){}sa.event.triggered=c,l&&(e[h]=l)}return b.result}},dispatch:function(a){a=sa.event.fix(a);var b,d,e,f,g,h=[],i=na.call(arguments),j=(sa._data(this,"events")||{})[a.type]||[],k=sa.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){for(h=sa.event.handlers.call(this,a,j),b=0;(f=h[b++])&&!a.isPropagationStopped();)for(a.currentTarget=f.elem,g=0;(e=f.handlers[g++])&&!a.isImmediatePropagationStopped();)(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,d=((sa.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),d!==c&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()));return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var d,e,f,g,h=[],i=b.delegateCount,j=a.target;if(i&&j.nodeType&&(!a.button||"click"!==a.type))for(;j!=this;j=j.parentNode||this)if(1===j.nodeType&&(j.disabled!==!0||"click"!==a.type)){for(f=[],g=0;i>g;g++)e=b[g],d=e.selector+" ",f[d]===c&&(f[d]=e.needsContext?sa(d,this).index(j)>=0:sa.find(d,this,null,[j]).length),f[d]&&f.push(e);f.length&&h.push({elem:j,handlers:f})}return b.length>i&&h.push({elem:this,handlers:b.slice(i)}),h},fix:function(a){if(a[sa.expando])return a;var b,c,d,e=a.type,f=a,g=this.fixHooks[e];for(g||(this.fixHooks[e]=g=Ta.test(e)?this.mouseHooks:Sa.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new sa.Event(f),b=d.length;b--;)c=d[b],a[c]=f[c];return a.target||(a.target=f.srcElement||ea),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var d,e,f,g=b.button,h=b.fromElement;return null==a.pageX&&null!=b.clientX&&(e=a.target.ownerDocument||ea,f=e.documentElement,d=e.body,a.pageX=b.clientX+(f&&f.scrollLeft||d&&d.scrollLeft||0)-(f&&f.clientLeft||d&&d.clientLeft||0),a.pageY=b.clientY+(f&&f.scrollTop||d&&d.scrollTop||0)-(f&&f.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&h&&(a.relatedTarget=h===a.target?b.toElement:h),a.which||g===c||(a.which=1&g?1:2&g?3:4&g?2:0),a}},special:{load:{noBubble:!0},click:{trigger:function(){return sa.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):c}},focus:{trigger:function(){if(this!==ea.activeElement&&this.focus)try{return this.focus(),!1}catch(a){}},delegateType:"focusin"},blur:{trigger:function(){return this===ea.activeElement&&this.blur?(this.blur(),!1):c},delegateType:"focusout"},beforeunload:{postDispatch:function(a){a.result!==c&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=sa.extend(new sa.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?sa.event.trigger(e,null,b):sa.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},sa.removeEvent=ea.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===da&&(a[d]=null),a.detachEvent(d,c))},sa.Event=function(a,b){return this instanceof sa.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?j:k):this.type=a,b&&sa.extend(this,b),this.timeStamp=a&&a.timeStamp||sa.now(),this[sa.expando]=!0,c):new sa.Event(a,b)},sa.Event.prototype={isDefaultPrevented:k,isPropagationStopped:k,isImmediatePropagationStopped:k,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=j,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=j,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=j,this.stopPropagation()}},sa.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,b){sa.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!sa.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),sa.support.submitBubbles||(sa.event.special.submit={setup:function(){return sa.nodeName(this,"form")?!1:(sa.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,d=sa.nodeName(b,"input")||sa.nodeName(b,"button")?b.form:c;d&&!sa._data(d,"submitBubbles")&&(sa.event.add(d,"submit._submit",function(a){a._submit_bubble=!0}),sa._data(d,"submitBubbles",!0))}),c)},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&sa.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return sa.nodeName(this,"form")?!1:(sa.event.remove(this,"._submit"),c)}}),sa.support.changeBubbles||(sa.event.special.change={setup:function(){return Ra.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(sa.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),sa.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),sa.event.simulate("change",this,a,!0)})),!1):(sa.event.add(this,"beforeactivate._change",function(a){var b=a.target;Ra.test(b.nodeName)&&!sa._data(b,"changeBubbles")&&(sa.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||sa.event.simulate("change",this.parentNode,a,!0)}),sa._data(b,"changeBubbles",!0))}),c)},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):c},teardown:function(){return sa.event.remove(this,"._change"),!Ra.test(this.nodeName)}}),sa.support.focusinBubbles||sa.each({focus:"focusin",blur:"focusout"},function(a,b){var c=0,d=function(a){sa.event.simulate(b,a.target,sa.event.fix(a),!0)};sa.event.special[b]={setup:function(){0==c++&&ea.addEventListener(a,d,!0)},teardown:function(){0==--c&&ea.removeEventListener(a,d,!0)}}}),sa.fn.extend({on:function(a,b,d,e,f){var g,h;if("object"==typeof a){"string"!=typeof b&&(d=d||b,b=c);for(g in a)this.on(g,b,d,a[g],f);return this}if(null==d&&null==e?(e=b,d=b=c):null==e&&("string"==typeof b?(e=d,d=c):(e=d,d=b,b=c)),e===!1)e=k;else if(!e)return this;return 1===f&&(h=e,e=function(a){return sa().off(a),h.apply(this,arguments)},e.guid=h.guid||(h.guid=sa.guid++)),this.each(function(){sa.event.add(this,a,e,d,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,d){var e,f;if(a&&a.preventDefault&&a.handleObj)return e=a.handleObj,sa(a.delegateTarget).off(e.namespace?e.origType+"."+e.namespace:e.origType,e.selector,e.handler),this;if("object"==typeof a){for(f in a)this.off(f,b,a[f]);return this}return(b===!1||"function"==typeof b)&&(d=b,b=c),d===!1&&(d=k),this.each(function(){sa.event.remove(this,a,d,b)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},trigger:function(a,b){return this.each(function(){sa.event.trigger(a,b,this)})},triggerHandler:function(a,b){var d=this[0];return d?sa.event.trigger(a,b,d,!0):c}}),function(a,b){function c(a){return ma.test(a+"")}function d(){var a,b=[];return a=function(c,d){return b.push(c+=" ")>y.cacheLength&&delete a[b.shift()],a[c]=d}}function e(a){return a[N]=!0,a}function f(a){var b=F.createElement("div");try{return a(b)}catch(c){return!1}finally{b=null}}function g(a,b,c,d){var e,f,g,h,i,j,k,n,o,p;if((b?b.ownerDocument||b:O)!==F&&E(b),b=b||F,c=c||[],!a||"string"!=typeof a)return c;if(1!==(h=b.nodeType)&&9!==h)return[];if(!H&&!d){if(e=na.exec(a))if(g=e[1]){if(9===h){if(f=b.getElementById(g),!f||!f.parentNode)return c;if(f.id===g)return c.push(f),c}else if(b.ownerDocument&&(f=b.ownerDocument.getElementById(g))&&L(b,f)&&f.id===g)return c.push(f),c}else{if(e[2])return Z.apply(c,$.call(b.getElementsByTagName(a),0)),c;if((g=e[3])&&P.getByClassName&&b.getElementsByClassName)return Z.apply(c,$.call(b.getElementsByClassName(g),0)),c}if(P.qsa&&!I.test(a)){if(k=!0,n=N,o=b,p=9===h&&a,1===h&&"object"!==b.nodeName.toLowerCase()){for(j=l(a),(k=b.getAttribute("id"))?n=k.replace(qa,"\\$&"):b.setAttribute("id",n),n="[id='"+n+"'] ",i=j.length;i--;)j[i]=n+m(j[i]);o=la.test(a)&&b.parentNode||b,p=j.join(",")}if(p)try{return Z.apply(c,$.call(o.querySelectorAll(p),0)),c}catch(q){}finally{k||b.removeAttribute("id")}}}return u(a.replace(fa,"$1"),b,c,d)}function h(a,b){var c=b&&a,d=c&&(~b.sourceIndex||W)-(~a.sourceIndex||W);if(d)return d;if(c)for(;c=c.nextSibling;)if(c===b)return-1;return a?1:-1}function i(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function j(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function k(a){return e(function(b){return b=+b,e(function(c,d){for(var e,f=a([],c.length,b),g=f.length;g--;)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function l(a,b){var c,d,e,f,h,i,j,k=T[a+" "];if(k)return b?0:k.slice(0);for(h=a,i=[],j=y.preFilter;h;){(!c||(d=ga.exec(h)))&&(d&&(h=h.slice(d[0].length)||h),i.push(e=[])),c=!1,(d=ha.exec(h))&&(c=d.shift(),e.push({value:c,type:d[0].replace(fa," ")}),h=h.slice(c.length));for(f in y.filter)(d=ka[f].exec(h))&&(!j[f]||(d=j[f](d)))&&(c=d.shift(),e.push({value:c,type:f,matches:d}),h=h.slice(c.length));if(!c)break}return b?h.length:h?g.error(a):T(a,i).slice(0)}function m(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function n(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=R++;return b.first?function(b,c,f){for(;b=b[d];)if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=Q+" "+f;if(g){for(;b=b[d];)if((1===b.nodeType||e)&&a(b,c,g))return!0}else for(;b=b[d];)if(1===b.nodeType||e)if(j=b[N]||(b[N]={}),(i=j[d])&&i[0]===k){if((h=i[1])===!0||h===x)return h===!0}else if(i=j[d]=[k],i[1]=a(b,c,g)||x,i[1]===!0)return!0}}function o(a){return a.length>1?function(b,c,d){for(var e=a.length;e--;)if(!a[e](b,c,d))return!1;return!0}:a[0]}function p(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h));return g}function q(a,b,c,d,f,g){return d&&!d[N]&&(d=q(d)),f&&!f[N]&&(f=q(f,g)),e(function(e,g,h,i){var j,k,l,m=[],n=[],o=g.length,q=e||t(b||"*",h.nodeType?[h]:h,[]),r=!a||!e&&b?q:p(q,m,a,h,i),s=c?f||(e?a:o||d)?[]:g:r;if(c&&c(r,s,h,i),d)for(j=p(s,n),d(j,[],h,i),k=j.length;k--;)(l=j[k])&&(s[n[k]]=!(r[n[k]]=l));if(e){if(f||a){if(f){for(j=[],k=s.length;k--;)(l=s[k])&&j.push(r[k]=l);f(null,s=[],j,i)}for(k=s.length;k--;)(l=s[k])&&(j=f?_.call(e,l):m[k])>-1&&(e[j]=!(g[j]=l))}}else s=p(s===g?s.splice(o,s.length):s),f?f(null,g,s,i):Z.apply(g,s)})}function r(a){for(var b,c,d,e=a.length,f=y.relative[a[0].type],g=f||y.relative[" "],h=f?1:0,i=n(function(a){return a===b},g,!0),j=n(function(a){return _.call(b,a)>-1},g,!0),k=[function(a,c,d){return!f&&(d||c!==D)||((b=c).nodeType?i(a,c,d):j(a,c,d))}];e>h;h++)if(c=y.relative[a[h].type])k=[n(o(k),c)];else{if(c=y.filter[a[h].type].apply(null,a[h].matches),c[N]){for(d=++h;e>d&&!y.relative[a[d].type];d++);return q(h>1&&o(k),h>1&&m(a.slice(0,h-1)).replace(fa,"$1"),c,d>h&&r(a.slice(h,d)),e>d&&r(a=a.slice(d)),e>d&&m(a))}k.push(c)}return o(k)}function s(a,b){var c=0,d=b.length>0,f=a.length>0,h=function(e,h,i,j,k){var l,m,n,o=[],q=0,r="0",s=e&&[],t=null!=k,u=D,v=e||f&&y.find.TAG("*",k&&h.parentNode||h),w=Q+=null==u?1:Math.random()||.1;for(t&&(D=h!==F&&h,x=c);null!=(l=v[r]);r++){if(f&&l){for(m=0;n=a[m++];)if(n(l,h,i)){j.push(l);break}t&&(Q=w,x=++c)}d&&((l=!n&&l)&&q--,e&&s.push(l))}if(q+=r,d&&r!==q){for(m=0;n=b[m++];)n(s,o,h,i);if(e){if(q>0)for(;r--;)s[r]||o[r]||(o[r]=Y.call(j));o=p(o)}Z.apply(j,o),t&&!e&&o.length>0&&q+b.length>1&&g.uniqueSort(j)}return t&&(Q=w,D=u),s};return d?e(h):h}function t(a,b,c){for(var d=0,e=b.length;e>d;d++)g(a,b[d],c);return c}function u(a,b,c,d){var e,f,g,h,i,j=l(a);if(!d&&1===j.length){if(f=j[0]=j[0].slice(0),f.length>2&&"ID"===(g=f[0]).type&&9===b.nodeType&&!H&&y.relative[f[1].type]){if(b=y.find.ID(g.matches[0].replace(ta,ua),b)[0],!b)return c;a=a.slice(f.shift().value.length)}for(e=ka.needsContext.test(a)?0:f.length;e--&&(g=f[e],!y.relative[h=g.type]);)if((i=y.find[h])&&(d=i(g.matches[0].replace(ta,ua),la.test(f[0].type)&&b.parentNode||b))){if(f.splice(e,1),a=d.length&&m(f),!a)return Z.apply(c,$.call(d,0)),c;break}}return B(a,j)(d,b,H,c,la.test(a)),c}function v(){}var w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N="sizzle"+-new Date,O=a.document,P={},Q=0,R=0,S=d(),T=d(),U=d(),V=typeof b,W=-2147483648,X=[],Y=X.pop,Z=X.push,$=X.slice,_=X.indexOf||function(a){for(var b=0,c=this.length;c>b;b++)if(this[b]===a)return b;return-1},aa="[\\x20\\t\\r\\n\\f]",ba="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ca=ba.replace("w","w#"),da="\\["+aa+"*("+ba+")"+aa+"*(?:([*^$|!~]?=)"+aa+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ca+")|)|)"+aa+"*\\]",ea=":("+ba+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+da.replace(3,8)+")*)|.*)\\)|)",fa=RegExp("^"+aa+"+|((?:^|[^\\\\])(?:\\\\.)*)"+aa+"+$","g"),ga=RegExp("^"+aa+"*,"+aa+"*"),ha=RegExp("^"+aa+"*([\\x20\\t\\r\\n\\f>+~])"+aa+"*"),ia=RegExp(ea),ja=RegExp("^"+ca+"$"),ka={ID:RegExp("^#("+ba+")"),CLASS:RegExp("^\\.("+ba+")"),NAME:RegExp("^\\[name=['\"]?("+ba+")['\"]?\\]"),TAG:RegExp("^("+ba.replace("w","w*")+")"),ATTR:RegExp("^"+da),PSEUDO:RegExp("^"+ea),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+aa+"*(even|odd|(([+-]|)(\\d*)n|)"+aa+"*(?:([+-]|)"+aa+"*(\\d+)|))"+aa+"*\\)|)","i"),needsContext:RegExp("^"+aa+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+aa+"*((?:-\\d)?\\d*)"+aa+"*\\)|)(?=[^-]|$)","i")},la=/[\x20\t\r\n\f]*[+~]/,ma=/^[^{]+\{\s*\[native code/,na=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,oa=/^(?:input|select|textarea|button)$/i,pa=/^h\d$/i,qa=/'|\\/g,ra=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,ta=/\\([\da-fA-F]{1,6}[\x20\t\r\n\f]?|.)/g,ua=function(a,b){var c="0x"+b-65536;return c!==c?b:0>c?String.fromCharCode(c+65536):String.fromCharCode(55296|c>>10,56320|1023&c)};try{$.call(O.documentElement.childNodes,0)[0].nodeType}catch(va){$=function(a){for(var b,c=[];b=this[a++];)c.push(b);return c}}A=g.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},E=g.setDocument=function(a){var d=a?a.ownerDocument||a:O;return d!==F&&9===d.nodeType&&d.documentElement?(F=d,G=d.documentElement,H=A(d),P.tagNameNoComments=f(function(a){return a.appendChild(d.createComment("")),!a.getElementsByTagName("*").length}),P.attributes=f(function(a){a.innerHTML="<select></select>";var b=typeof a.lastChild.getAttribute("multiple");return"boolean"!==b&&"string"!==b}),P.getByClassName=f(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",a.getElementsByClassName&&a.getElementsByClassName("e").length?(a.lastChild.className="e",2===a.getElementsByClassName("e").length):!1}),P.getByName=f(function(a){a.id=N+0,a.innerHTML="<a name='"+N+"'></a><div name='"+N+"'></div>",G.insertBefore(a,G.firstChild);var b=d.getElementsByName&&d.getElementsByName(N).length===2+d.getElementsByName(N+0).length;return P.getIdNotName=!d.getElementById(N),G.removeChild(a),b}),y.attrHandle=f(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&typeof a.firstChild.getAttribute!==V&&"#"===a.firstChild.getAttribute("href")})?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},P.getIdNotName?(y.find.ID=function(a,b){if(typeof b.getElementById!==V&&!H){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},y.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){return a.getAttribute("id")===b}}):(y.find.ID=function(a,c){if(typeof c.getElementById!==V&&!H){var d=c.getElementById(a);return d?d.id===a||typeof d.getAttributeNode!==V&&d.getAttributeNode("id").value===a?[d]:b:[]}},y.filter.ID=function(a){var b=a.replace(ta,ua);return function(a){var c=typeof a.getAttributeNode!==V&&a.getAttributeNode("id");return c&&c.value===b}}),y.find.TAG=P.tagNameNoComments?function(a,c){return typeof c.getElementsByTagName!==V?c.getElementsByTagName(a):b}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){for(;c=f[e++];)1===c.nodeType&&d.push(c);return d}return f},y.find.NAME=P.getByName&&function(a,c){return typeof c.getElementsByName!==V?c.getElementsByName(name):b},y.find.CLASS=P.getByClassName&&function(a,c){return typeof c.getElementsByClassName===V||H?b:c.getElementsByClassName(a)},J=[],I=[":focus"],(P.qsa=c(d.querySelectorAll))&&(f(function(a){a.innerHTML="<select><option selected=''></option></select>",a.querySelectorAll("[selected]").length||I.push("\\["+aa+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),a.querySelectorAll(":checked").length||I.push(":checked")}),f(function(a){a.innerHTML="<input type='hidden' i=''/>",a.querySelectorAll("[i^='']").length&&I.push("[*^$]="+aa+"*(?:\"\"|'')"),a.querySelectorAll(":enabled").length||I.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),I.push(",.*:")})),(P.matchesSelector=c(K=G.matchesSelector||G.mozMatchesSelector||G.webkitMatchesSelector||G.oMatchesSelector||G.msMatchesSelector))&&f(function(a){P.disconnectedMatch=K.call(a,"div"),K.call(a,"[s!='']:x"),J.push("!=",ea)}),I=RegExp(I.join("|")),J=RegExp(J.join("|")),L=c(G.contains)||G.compareDocumentPosition?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},M=G.compareDocumentPosition?function(a,b){var c;return a===b?(C=!0,0):(c=b.compareDocumentPosition&&a.compareDocumentPosition&&a.compareDocumentPosition(b))?1&c||a.parentNode&&11===a.parentNode.nodeType?a===d||L(O,a)?-1:b===d||L(O,b)?1:0:4&c?-1:1:a.compareDocumentPosition?-1:1}:function(a,b){var c,e=0,f=a.parentNode,g=b.parentNode,i=[a],j=[b];if(a===b)return C=!0,0;if(!f||!g)return a===d?-1:b===d?1:f?-1:g?1:0;if(f===g)return h(a,b);for(c=a;c=c.parentNode;)i.unshift(c);for(c=b;c=c.parentNode;)j.unshift(c);for(;i[e]===j[e];)e++;return e?h(i[e],j[e]):i[e]===O?-1:j[e]===O?1:0},C=!1,[0,0].sort(M),P.detectDuplicates=C,F):F},g.matches=function(a,b){return g(a,null,null,b)},g.matchesSelector=function(a,b){if((a.ownerDocument||a)!==F&&E(a),b=b.replace(ra,"='$1']"),!(!P.matchesSelector||H||J&&J.test(b)||I.test(b)))try{var c=K.call(a,b);if(c||P.disconnectedMatch||a.document&&11!==a.document.nodeType)return c}catch(d){}return g(b,F,null,[a]).length>0},g.contains=function(a,b){return(a.ownerDocument||a)!==F&&E(a),L(a,b)},g.attr=function(a,b){var c;return(a.ownerDocument||a)!==F&&E(a),H||(b=b.toLowerCase()),(c=y.attrHandle[b])?c(a):H||P.attributes?a.getAttribute(b):((c=a.getAttributeNode(b))||a.getAttribute(b))&&a[b]===!0?b:c&&c.specified?c.value:null},g.error=function(a){throw Error("Syntax error, unrecognized expression: "+a)},g.uniqueSort=function(a){var b,c=[],d=1,e=0;if(C=!P.detectDuplicates,a.sort(M),C){for(;b=a[d];d++)b===a[d-1]&&(e=c.push(d));for(;e--;)a.splice(c[e],1)}return a},z=g.getText=function(a){var b,c="",d=0,e=a.nodeType;if(e){if(1===e||9===e||11===e){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=z(a)}else if(3===e||4===e)return a.nodeValue}else for(;b=a[d];d++)c+=z(b);return c},y=g.selectors={cacheLength:50,createPseudo:e,match:ka,find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ta,ua),a[3]=(a[4]||a[5]||"").replace(ta,ua),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||g.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&g.error(a[0]),a},PSEUDO:function(a){var b,c=!a[5]&&a[2];return ka.CHILD.test(a[0])?null:(a[4]?a[2]=a[4]:c&&ia.test(c)&&(b=l(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(ta,ua).toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=S[a+" "];return b||(b=RegExp("(^|"+aa+")"+a+"("+aa+"|$)"))&&S(a,function(a){return b.test(a.className||typeof a.getAttribute!==V&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=g.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){for(;p;){for(l=b;l=l[p];)if(h?l.nodeName.toLowerCase()===r:1===l.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){for(k=q[N]||(q[N]={}),j=k[a]||[],n=j[0]===Q&&j[1],m=j[0]===Q&&j[2],l=n&&q.childNodes[n];l=++n&&l&&l[p]||(m=n=0)||o.pop();)if(1===l.nodeType&&++m&&l===b){k[a]=[Q,n,m];break}}else if(s&&(j=(b[N]||(b[N]={}))[a])&&j[0]===Q)m=j[1];else for(;(l=++n&&l&&l[p]||(m=n=0)||o.pop())&&((h?l.nodeName.toLowerCase()!==r:1!==l.nodeType)||!++m||(s&&((l[N]||(l[N]={}))[a]=[Q,m]),l!==b)););return m-=e,m===d||0==m%d&&m/d>=0}}},PSEUDO:function(a,b){var c,d=y.pseudos[a]||y.setFilters[a.toLowerCase()]||g.error("unsupported pseudo: "+a);return d[N]?d(b):d.length>1?(c=[a,a,"",b],y.setFilters.hasOwnProperty(a.toLowerCase())?e(function(a,c){for(var e,f=d(a,b),g=f.length;g--;)e=_.call(a,f[g]),a[e]=!(c[e]=f[g])}):function(a){return d(a,0,c)}):d}},pseudos:{not:e(function(a){var b=[],c=[],d=B(a.replace(fa,"$1"));return d[N]?e(function(a,b,c,e){for(var f,g=d(a,null,e,[]),h=a.length;h--;)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),!c.pop()}}),has:e(function(a){return function(b){return g(a,b).length>0}}),contains:e(function(a){return function(b){return(b.textContent||b.innerText||z(b)).indexOf(a)>-1}}),lang:e(function(a){return ja.test(a||"")||g.error("unsupported lang: "+a),a=a.replace(ta,ua).toLowerCase(),function(b){var c;do if(c=H?b.getAttribute("xml:lang")||b.getAttribute("lang"):b.lang)return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===G},focus:function(a){return a===F.activeElement&&(!F.hasFocus||F.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeName>"@"||3===a.nodeType||4===a.nodeType)return!1;return!0},parent:function(a){return!y.pseudos.empty(a)},header:function(a){return pa.test(a.nodeName)},input:function(a){return oa.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||b.toLowerCase()===a.type)},first:k(function(){return[0]}),last:k(function(a,b){return[b-1]}),eq:k(function(a,b,c){return[0>c?c+b:c]}),even:k(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:k(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:k(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:k(function(a,b,c){for(var d=0>c?c+b:c;b>++d;)a.push(d);return a})}};for(w in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})y.pseudos[w]=i(w);for(w in{submit:!0,reset:!0})y.pseudos[w]=j(w);B=g.compile=function(a,b){var c,d=[],e=[],f=U[a+" "];if(!f){for(b||(b=l(a)),c=b.length;c--;)f=r(b[c]),f[N]?d.push(f):e.push(f);f=U(a,s(e,d))}return f},y.pseudos.nth=y.pseudos.eq,y.filters=v.prototype=y.pseudos,y.setFilters=new v,E(),g.attr=sa.attr,sa.find=g,sa.expr=g.selectors,sa.expr[":"]=sa.expr.pseudos,sa.unique=g.uniqueSort,sa.text=g.getText,sa.isXMLDoc=g.isXML,sa.contains=g.contains}(a);var Wa=/Until$/,Xa=/^(?:parents|prev(?:Until|All))/,Ya=/^.[^:#\[\.,]*$/,Za=sa.expr.match.needsContext,$a={children:!0,contents:!0,next:!0,prev:!0};sa.fn.extend({find:function(a){var b,c,d,e=this.length;if("string"!=typeof a)return d=this,this.pushStack(sa(a).filter(function(){for(b=0;e>b;b++)if(sa.contains(d[b],this))return!0}));for(c=[],b=0;e>b;b++)sa.find(a,this[b],c);return c=this.pushStack(e>1?sa.unique(c):c),c.selector=(this.selector?this.selector+" ":"")+a,c},has:function(a){var b,c=sa(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++)if(sa.contains(this,c[b]))return!0})},not:function(a){return this.pushStack(m(this,a,!1))},filter:function(a){return this.pushStack(m(this,a,!0))},is:function(a){return!!a&&("string"==typeof a?Za.test(a)?sa(a,this.context).index(this[0])>=0:sa.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=Za.test(a)||"string"!=typeof a?sa(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c.ownerDocument&&c!==b&&11!==c.nodeType;){if(g?g.index(c)>-1:sa.find.matchesSelector(c,a)){f.push(c);break}c=c.parentNode}return this.pushStack(f.length>1?sa.unique(f):f)},index:function(a){return a?"string"==typeof a?sa.inArray(this[0],sa(a)):sa.inArray(a.VEjQuery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){var c="string"==typeof a?sa(a,b):sa.makeArray(a&&a.nodeType?[a]:a),d=sa.merge(this.get(),c);return this.pushStack(sa.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}}),sa.fn.andSelf=sa.fn.addBack,sa.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return sa.dir(a,"parentNode")},parentsUntil:function(a,b,c){return sa.dir(a,"parentNode",c)},next:function(a){return l(a,"nextSibling")},prev:function(a){return l(a,"previousSibling")},nextAll:function(a){return sa.dir(a,"nextSibling")},prevAll:function(a){return sa.dir(a,"previousSibling")},nextUntil:function(a,b,c){return sa.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return sa.dir(a,"previousSibling",c)},siblings:function(a){return sa.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return sa.sibling(a.firstChild)},contents:function(a){return sa.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:sa.merge([],a.childNodes)}},function(a,b){sa.fn[a]=function(c,d){var e=sa.map(this,b,c);return Wa.test(a)||(d=c),d&&"string"==typeof d&&(e=sa.filter(d,e)),e=this.length>1&&!$a[a]?sa.unique(e):e,this.length>1&&Xa.test(a)&&(e=e.reverse()),this.pushStack(e)}}),sa.extend({filter:function(a,b,c){return c&&(a=":not("+a+")"),1===b.length?sa.find.matchesSelector(b[0],a)?[b[0]]:[]:sa.find.matches(a,b)},dir:function(a,b,d){for(var e=[],f=a[b];f&&9!==f.nodeType&&(d===c||1!==f.nodeType||!sa(f).is(d));)1===f.nodeType&&e.push(f),f=f[b];return e},sibling:function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c}});var _a="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",ab=/ VEjQuery\d+="(?:null|\d+)"/g,bb=RegExp("<(?:"+_a+")[\\s/>]","i"),cb=/^\s+/,db=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,eb=/<([\w:]+)/,fb=/<tbody/i,gb=/<|&#?\w+;/,hb=/<(?:script|style|link)/i,ib=/^(?:checkbox|radio)$/i,jb=/checked\s*(?:[^=]|=\s*.checked.)/i,kb=/^$|\/(?:java|ecma)script/i,lb=/^true\/(.*)/,mb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,nb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:sa.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},ob=n(ea),pb=ob.appendChild(ea.createElement("div"));nb.optgroup=nb.option,nb.tbody=nb.tfoot=nb.colgroup=nb.caption=nb.thead,nb.th=nb.td,sa.fn.extend({text:function(a){return sa.access(this,function(a){return a===c?sa.text(this):this.empty().append((this[0]&&this[0].ownerDocument||ea).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(sa.isFunction(a))return this.each(function(b){sa(this).wrapAll(a.call(this,b))});if(this[0]){var b=sa(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return sa.isFunction(a)?this.each(function(b){sa(this).wrapInner(a.call(this,b))}):this.each(function(){var b=sa(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=sa.isFunction(a);return this.each(function(c){sa(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){sa.nodeName(this,"body")||sa(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,!1,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=0;null!=(c=this[d]);d++)(!a||sa.filter(a,[c]).length>0)&&(b||1!==c.nodeType||sa.cleanData(u(c)),c.parentNode&&(b&&sa.contains(c.ownerDocument,c)&&r(u(c,"script")),c.parentNode.removeChild(c)));return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){for(1===a.nodeType&&sa.cleanData(u(a,!1));a.firstChild;)a.removeChild(a.firstChild);a.options&&sa.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return sa.clone(this,a,b)})},html:function(a){return sa.access(this,function(a){var b=this[0]||{},d=0,e=this.length;if(a===c)return 1===b.nodeType?b.innerHTML.replace(ab,""):c;if(!("string"!=typeof a||hb.test(a)||!sa.support.htmlSerialize&&bb.test(a)||!sa.support.leadingWhitespace&&cb.test(a)||nb[(eb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(db,"<$1></$2>");try{for(;e>d;d++)b=this[d]||{},1===b.nodeType&&(sa.cleanData(u(b,!1)),b.innerHTML=a);b=0}catch(f){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){var b=sa.isFunction(a);return b||"string"==typeof a||(a=sa(a).not(this).detach()),this.domManip([a],!0,function(a){
var b=this.nextSibling,c=this.parentNode;c&&(sa(this).remove(),c.insertBefore(a,b))})},detach:function(a){return this.remove(a,!0)},domManip:function(a,b,d){a=la.apply([],a);var e,f,g,h,i,j,k=0,l=this.length,m=this,n=l-1,r=a[0],s=sa.isFunction(r);if(s||!(1>=l||"string"!=typeof r||sa.support.checkClone)&&jb.test(r))return this.each(function(e){var f=m.eq(e);s&&(a[0]=r.call(this,e,b?f.html():c)),f.domManip(a,b,d)});if(l&&(j=sa.buildFragment(a,this[0].ownerDocument,!1,this),e=j.firstChild,1===j.childNodes.length&&(j=e),e)){for(b=b&&sa.nodeName(e,"tr"),h=sa.map(u(j,"script"),p),g=h.length;l>k;k++)f=j,k!==n&&(f=sa.clone(f,!0,!0),g&&sa.merge(h,u(f,"script"))),d.call(b&&sa.nodeName(this[k],"table")?o(this[k],"tbody"):this[k],f,k);if(g)for(i=h[h.length-1].ownerDocument,sa.map(h,q),k=0;g>k;k++)f=h[k],kb.test(f.type||"")&&!sa._data(f,"globalEval")&&sa.contains(i,f)&&(f.src?sa.ajax({url:f.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):sa.globalEval((f.text||f.textContent||f.innerHTML||"").replace(mb,"")));j=e=null}return this}}),sa.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){sa.fn[a]=function(a){for(var c,d=0,e=[],f=sa(a),g=f.length-1;g>=d;d++)c=d===g?this:this.clone(!0),sa(f[d])[b](c),ma.apply(e,c.get());return this.pushStack(e)}}),sa.extend({clone:function(a,b,c){var d,e,f,g,h,i=sa.contains(a.ownerDocument,a);if(sa.support.html5Clone||sa.isXMLDoc(a)||!bb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(pb.innerHTML=a.outerHTML,pb.removeChild(f=pb.firstChild)),!(sa.support.noCloneEvent&&sa.support.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||sa.isXMLDoc(a)))for(d=u(f),h=u(a),g=0;null!=(e=h[g]);++g)d[g]&&t(e,d[g]);if(b)if(c)for(h=h||u(a),d=d||u(f),g=0;null!=(e=h[g]);g++)s(e,d[g]);else s(a,f);return d=u(f,"script"),d.length>0&&r(d,!i&&u(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,k,l=a.length,m=n(b),o=[],p=0;l>p;p++)if(f=a[p],f||0===f)if("object"===sa.type(f))sa.merge(o,f.nodeType?[f]:f);else if(gb.test(f)){for(h=h||m.appendChild(b.createElement("div")),i=(eb.exec(f)||["",""])[1].toLowerCase(),k=nb[i]||nb._default,h.innerHTML=k[1]+f.replace(db,"<$1></$2>")+k[2],e=k[0];e--;)h=h.lastChild;if(!sa.support.leadingWhitespace&&cb.test(f)&&o.push(b.createTextNode(cb.exec(f)[0])),!sa.support.tbody)for(f="table"!==i||fb.test(f)?"<table>"!==k[1]||fb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;e--;)sa.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j);for(sa.merge(o,h.childNodes),h.textContent="";h.firstChild;)h.removeChild(h.firstChild);h=m.lastChild}else o.push(b.createTextNode(f));for(h&&m.removeChild(h),sa.support.appendChecked||sa.grep(u(o,"input"),v),p=0;f=o[p++];)if((!d||-1===sa.inArray(f,d))&&(g=sa.contains(f.ownerDocument,f),h=u(m.appendChild(f),"script"),g&&r(h),c))for(e=0;f=h[e++];)kb.test(f.type||"")&&c.push(f);return h=null,m},cleanData:function(a,b){for(var c,d,e,f,g=0,h=sa.expando,i=sa.cache,j=sa.support.deleteExpando,k=sa.event.special;null!=(c=a[g]);g++)if((b||sa.acceptData(c))&&(e=c[h],f=e&&i[e])){if(f.events)for(d in f.events)k[d]?sa.event.remove(c,d):sa.removeEvent(c,d,f.handle);i[e]&&(delete i[e],j?delete c[h]:typeof c.removeAttribute!==da?c.removeAttribute(h):c[h]=null,ja.push(e))}}});var qb,rb,sb,tb=/alpha\([^)]*\)/i,ub=/opacity\s*=\s*([^)]*)/,vb=/^(top|right|bottom|left)$/,wb=/^(none|table(?!-c[ea]).+)/,xb=/^margin/,yb=RegExp("^("+ta+")(.*)$","i"),zb=RegExp("^("+ta+")(?!px)[a-z%]+$","i"),Ab=RegExp("^([+-])=("+ta+")","i"),Bb={BODY:"block"},Cb={position:"absolute",visibility:"hidden",display:"block"},Db={letterSpacing:0,fontWeight:400},Eb=["Top","Right","Bottom","Left"],Fb=["Webkit","O","Moz","ms"];sa.fn.extend({css:function(a,b){return sa.access(this,function(a,b,d){var e,f,g={},h=0;if(sa.isArray(b)){for(f=rb(a),e=b.length;e>h;h++)g[b[h]]=sa.css(a,b[h],!1,f);return g}return d!==c?sa.style(a,b,d):sa.css(a,b)},a,b,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(a){var b="boolean"==typeof a;return this.each(function(){(b?a:x(this))?sa(this).show():sa(this).hide()})}}),sa.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=sb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":sa.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,d,e){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var f,g,h,i=sa.camelCase(b),j=a.style;if(b=sa.cssProps[i]||(sa.cssProps[i]=w(j,i)),h=sa.cssHooks[b]||sa.cssHooks[i],d===c)return h&&"get"in h&&(f=h.get(a,!1,e))!==c?f:j[b];if(g=typeof d,"string"===g&&(f=Ab.exec(d))&&(d=(f[1]+1)*f[2]+parseFloat(sa.css(a,b)),g="number"),!(null==d||"number"===g&&isNaN(d)||("number"!==g||sa.cssNumber[i]||(d+="px"),sa.support.clearCloneStyle||""!==d||0!==b.indexOf("background")||(j[b]="inherit"),h&&"set"in h&&(d=h.set(a,d,e))===c)))try{j[b]=d}catch(k){}}},css:function(a,b,d,e){var f,g,h,i=sa.camelCase(b);return b=sa.cssProps[i]||(sa.cssProps[i]=w(a.style,i)),h=sa.cssHooks[b]||sa.cssHooks[i],h&&"get"in h&&(g=h.get(a,!0,d)),g===c&&(g=sb(a,b,e)),"normal"===g&&b in Db&&(g=Db[b]),""===d||d?(f=parseFloat(g),d===!0||sa.isNumeric(f)?f||0:g):g},swap:function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e}}),a.getComputedStyle?(rb=function(b){return a.getComputedStyle(b,null)},sb=function(a,b,d){var e,f,g,h=d||rb(a),i=h?h.getPropertyValue(b)||h[b]:c,j=a.style;return h&&(""!==i||sa.contains(a.ownerDocument,a)||(i=sa.style(a,b)),zb.test(i)&&xb.test(b)&&(e=j.width,f=j.minWidth,g=j.maxWidth,j.minWidth=j.maxWidth=j.width=i,i=h.width,j.width=e,j.minWidth=f,j.maxWidth=g)),i}):ea.documentElement.currentStyle&&(rb=function(a){return a.currentStyle},sb=function(a,b,d){var e,f,g,h=d||rb(a),i=h?h[b]:c,j=a.style;return null==i&&j&&j[b]&&(i=j[b]),zb.test(i)&&!vb.test(b)&&(e=j.left,f=a.runtimeStyle,g=f&&f.left,g&&(f.left=a.currentStyle.left),j.left="fontSize"===b?"1em":i,i=j.pixelLeft+"px",j.left=e,g&&(f.left=g)),""===i?"auto":i}),sa.each(["height","width"],function(a,b){sa.cssHooks[b]={get:function(a,d,e){return d?0===a.offsetWidth&&wb.test(sa.css(a,"display"))?sa.swap(a,Cb,function(){return B(a,b,e)}):B(a,b,e):c},set:function(a,c,d){var e=d&&rb(a);return z(a,c,d?A(a,b,d,sa.support.boxSizing&&"border-box"===sa.css(a,"boxSizing",!1,e),e):0)}}}),sa.support.opacity||(sa.cssHooks.opacity={get:function(a,b){return ub.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=sa.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===sa.trim(f.replace(tb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=tb.test(f)?f.replace(tb,e):f+" "+e)}}),sa(function(){sa.support.reliableMarginRight||(sa.cssHooks.marginRight={get:function(a,b){return b?sa.swap(a,{display:"inline-block"},sb,[a,"marginRight"]):c}}),!sa.support.pixelPosition&&sa.fn.position&&sa.each(["top","left"],function(a,b){sa.cssHooks[b]={get:function(a,d){return d?(d=sb(a,b),zb.test(d)?sa(a).position()[b]+"px":d):c}}})}),sa.expr&&sa.expr.filters&&(sa.expr.filters.hidden=function(a){return 0>=a.offsetWidth&&0>=a.offsetHeight||!sa.support.reliableHiddenOffsets&&"none"===(a.style&&a.style.display||sa.css(a,"display"))},sa.expr.filters.visible=function(a){return!sa.expr.filters.hidden(a)}),sa.each({margin:"",padding:"",border:"Width"},function(a,b){sa.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+Eb[d]+b]=f[d]||f[d-2]||f[0];return e}},xb.test(a)||(sa.cssHooks[a+b].set=z)});var Gb=/%20/g,Hb=/\[\]$/,Ib=/\r?\n/g,Jb=/^(?:submit|button|image|reset|file)$/i,Kb=/^(?:input|select|textarea|keygen)/i;sa.fn.extend({serialize:function(){return sa.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=sa.prop(this,"elements");return a?sa.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!sa(this).is(":disabled")&&Kb.test(this.nodeName)&&!Jb.test(a)&&(this.checked||!ib.test(a))}).map(function(a,b){var c=sa(this).val();return null==c?null:sa.isArray(c)?sa.map(c,function(a){return{name:b.name,value:a.replace(Ib,"\r\n")}}):{name:b.name,value:c.replace(Ib,"\r\n")}}).get()}}),sa.param=function(a,b){var d,e=[],f=function(a,b){b=sa.isFunction(b)?b():null==b?"":b,e[e.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(b===c&&(b=sa.ajaxSettings&&sa.ajaxSettings.traditional),sa.isArray(a)||a.VEjQuery&&!sa.isPlainObject(a))sa.each(a,function(){f(this.name,this.value)});else for(d in a)E(d,a[d],b,f);return e.join("&").replace(Gb,"+")},sa.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){sa.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),sa.fn.hover=function(a,b){return this.mouseenter(a).mouseleave(b||a)};var Lb,Mb,Nb=sa.now(),Ob=/\?/,Pb=/#.*$/,Qb=/([?&])_=[^&]*/,Rb=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Sb=/^(?:GET|HEAD)$/,Tb=/^\/\//,Ub=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,Vb=sa.fn.load,Wb={},Xb={},Yb="*/".concat("*");try{Mb=fa.href}catch(Zb){Mb=ea.createElement("a"),Mb.href="",Mb=Mb.href}Lb=Ub.exec(Mb.toLowerCase())||[],sa.fn.load=function(a,b,d){if("string"!=typeof a&&Vb)return Vb.apply(this,arguments);var e,f,g,h=this,i=a.indexOf(" ");return i>=0&&(e=a.slice(i,a.length),a=a.slice(0,i)),sa.isFunction(b)?(d=b,b=c):b&&"object"==typeof b&&(g="POST"),h.length>0&&sa.ajax({url:a,type:g,dataType:"html",data:b}).done(function(a){f=arguments,h.html(e?sa("<div>").append(sa.parseHTML(a)).find(e):a)}).complete(d&&function(a,b){h.each(d,f||[a.responseText,b,a])}),this},sa.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){sa.fn[b]=function(a){return this.on(b,a)}}),sa.each(["get","post"],function(a,b){sa[b]=function(a,d,e,f){return sa.isFunction(d)&&(f=f||e,e=d,d=c),sa.ajax({url:a,type:b,dataType:f,data:d,success:e})}}),sa.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Mb,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Lb[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Yb,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":sa.parseJSON,"text xml":sa.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?H(H(a,sa.ajaxSettings),b):H(sa.ajaxSettings,a)},ajaxPrefilter:F(Wb),ajaxTransport:F(Xb),ajax:function(a,b){function d(a,b,d,e){var f,l,s,t,v,x=b;2!==u&&(u=2,i&&clearTimeout(i),k=c,h=e||"",w.readyState=a>0?4:0,d&&(t=I(m,w,d)),a>=200&&300>a||304===a?(m.ifModified&&(v=w.getResponseHeader("Last-Modified"),v&&(sa.lastModified[g]=v),v=w.getResponseHeader("etag"),v&&(sa.etag[g]=v)),204===a?(f=!0,x="nocontent"):304===a?(f=!0,x="notmodified"):(f=J(m,t),x=f.state,l=f.data,s=f.error,f=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),w.status=a,w.statusText=(b||x)+"",f?p.resolveWith(n,[l,x,w]):p.rejectWith(n,[w,x,s]),w.statusCode(r),r=c,j&&o.trigger(f?"ajaxSuccess":"ajaxError",[w,m,f?l:s]),q.fireWith(n,[w,x]),j&&(o.trigger("ajaxComplete",[w,m]),--sa.active||sa.event.trigger("ajaxStop")))}"object"==typeof a&&(b=a,a=c),b=b||{};var e,f,g,h,i,j,k,l,m=sa.ajaxSetup({},b),n=m.context||m,o=m.context&&(n.nodeType||n.VEjQuery)?sa(n):sa.event,p=sa.Deferred(),q=sa.Callbacks("once memory"),r=m.statusCode||{},s={},t={},u=0,v="canceled",w={readyState:0,getResponseHeader:function(a){var b;if(2===u){if(!l)for(l={};b=Rb.exec(h);)l[b[1].toLowerCase()]=b[2];b=l[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===u?h:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return u||(a=t[c]=t[c]||a,s[a]=b),this},overrideMimeType:function(a){return u||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>u)for(b in a)r[b]=[r[b],a[b]];else w.always(a[w.status]);return this},abort:function(a){var b=a||v;return k&&k.abort(b),d(0,b),this}};if(p.promise(w).complete=q.add,w.success=w.done,w.error=w.fail,m.url=((a||m.url||Mb)+"").replace(Pb,"").replace(Tb,Lb[1]+"//"),m.type=b.method||b.type||m.method||m.type,m.dataTypes=sa.trim(m.dataType||"*").toLowerCase().match(ua)||[""],null==m.crossDomain&&(e=Ub.exec(m.url.toLowerCase()),m.crossDomain=!(!e||e[1]===Lb[1]&&e[2]===Lb[2]&&(e[3]||("http:"===e[1]?80:443))==(Lb[3]||("http:"===Lb[1]?80:443)))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=sa.param(m.data,m.traditional)),G(Wb,m,b,w),2===u)return w;j=m.global,j&&0==sa.active++&&sa.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Sb.test(m.type),g=m.url,m.hasContent||(m.data&&(g=m.url+=(Ob.test(g)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=Qb.test(g)?g.replace(Qb,"$1_="+Nb++):g+(Ob.test(g)?"&":"?")+"_="+Nb++)),m.ifModified&&(sa.lastModified[g]&&w.setRequestHeader("If-Modified-Since",sa.lastModified[g]),sa.etag[g]&&w.setRequestHeader("If-None-Match",sa.etag[g])),(m.data&&m.hasContent&&m.contentType!==!1||b.contentType)&&w.setRequestHeader("Content-Type",m.contentType),w.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Yb+"; q=0.01":""):m.accepts["*"]);for(f in m.headers)w.setRequestHeader(f,m.headers[f]);if(m.beforeSend&&(m.beforeSend.call(n,w,m)===!1||2===u))return w.abort();v="abort";for(f in{success:1,error:1,complete:1})w[f](m[f]);if(k=G(Xb,m,b,w)){w.readyState=1,j&&o.trigger("ajaxSend",[w,m]),m.async&&m.timeout>0&&(i=setTimeout(function(){w.abort("timeout")},m.timeout));try{u=1,k.send(s,d)}catch(x){if(!(2>u))throw x;d(-1,x)}}else d(-1,"No Transport");return w},getScript:function(a,b){return sa.get(a,c,b,"script")},getJSON:function(a,b,c){return sa.get(a,b,c,"json")}}),sa.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return sa.globalEval(a),a}}}),sa.ajaxPrefilter("script",function(a){a.cache===c&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),sa.ajaxTransport("script",function(a){if(a.crossDomain){var b,d=ea.head||sa("head")[0]||ea.documentElement;return{send:function(c,e){b=ea.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},d.insertBefore(b,d.firstChild)},abort:function(){b&&b.onload(c,!0)}}}}),Z=[],$=/(=)\?(?=&|$)|\?\?/,sa.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Z.pop()||sa.expando+"_"+Nb++;return this[a]=!0,a}}),sa.ajaxPrefilter("json jsonp",function(b,d,e){var f,g,h,i=b.jsonp!==!1&&($.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&$.test(b.data)&&"data");return i||"jsonp"===b.dataTypes[0]?(f=b.jsonpCallback=sa.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i?b[i]=b[i].replace($,"$1"+f):b.jsonp!==!1&&(b.url+=(Ob.test(b.url)?"&":"?")+b.jsonp+"="+f),b.converters["script json"]=function(){return h||sa.error(f+" was not called"),h[0]},b.dataTypes[0]="json",g=a[f],a[f]=function(){h=arguments},e.always(function(){a[f]=g,b[f]&&(b.jsonpCallback=d.jsonpCallback,Z.push(f)),h&&sa.isFunction(g)&&g(h[0]),h=g=c}),"script"):c}),ba=0,ca=a.ActiveXObject&&function(){for(var a in _)_[a](c,!0)},sa.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&K()||L()}:K,aa=sa.ajaxSettings.xhr(),sa.support.cors=!!aa&&"withCredentials"in aa,aa=sa.support.ajax=!!aa,aa&&sa.ajaxTransport(function(b){if(!b.crossDomain||sa.support.cors){var d;return{send:function(e,f){var g,h,i=b.xhr();if(b.username?i.open(b.type,b.url,b.async,b.username,b.password):i.open(b.type,b.url,b.async),b.xhrFields)for(h in b.xhrFields)i[h]=b.xhrFields[h];b.mimeType&&i.overrideMimeType&&i.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(h in e)i.setRequestHeader(h,e[h])}catch(j){}i.send(b.hasContent&&b.data||null),d=function(a,e){var h,j,k,l;try{if(d&&(e||4===i.readyState))if(d=c,g&&(i.onreadystatechange=sa.noop,ca&&delete _[g]),e)4!==i.readyState&&i.abort();else{l={},h=i.status,j=i.getAllResponseHeaders(),"string"==typeof i.responseText&&(l.text=i.responseText);try{k=i.statusText}catch(m){k=""}h||!b.isLocal||b.crossDomain?1223===h&&(h=204):h=l.text?200:404}}catch(n){e||f(-1,n)}l&&f(h,k,l,j)},b.async?4===i.readyState?setTimeout(d):(g=++ba,ca&&(_||(_={},sa(a).unload(ca)),_[g]=d),i.onreadystatechange=d):d()},abort:function(){d&&d(c,!0)}}}});var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=RegExp("^(?:([+-])=|)("+ta+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[Q],ec={"*":[function(a,b){var c,d,e=this.createTween(a,b),f=bc.exec(b),g=e.cur(),h=+g||0,i=1,j=20;if(f){if(c=+f[2],d=f[3]||(sa.cssNumber[a]?"":"px"),"px"!==d&&h){h=sa.css(e.elem,a,!0)||c||1;do i=i||".5",h/=i,sa.style(e.elem,a,h+d);while(i!==(i=e.cur()/g)&&1!==i&&--j)}e.unit=d,e.start=h,e.end=f[1]?h+(f[1]+1)*c:c}return e}]};sa.Animation=sa.extend(O,{tweener:function(a,b){sa.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++)c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),sa.Tween=R,R.prototype={constructor:R,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(sa.cssNumber[c]?"":"px")},cur:function(){var a=R.propHooks[this.prop];return a&&a.get?a.get(this):R.propHooks._default.get(this)},run:function(a){var b,c=R.propHooks[this.prop];return this.pos=b=this.options.duration?sa.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):R.propHooks._default.set(this),this}},R.prototype.init.prototype=R.prototype,R.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=sa.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){sa.fx.step[a.prop]?sa.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[sa.cssProps[a.prop]]||sa.cssHooks[a.prop])?sa.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},R.propHooks.scrollTop=R.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},sa.each(["toggle","show","hide"],function(a,b){var c=sa.fn[b];sa.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(S(b,!0),a,d,e)}}),sa.fn.extend({fadeTo:function(a,b,c,d){return this.filter(x).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=sa.isEmptyObject(a),f=sa.speed(b,c,d),g=function(){var b=O(this,sa.extend({},a),f);g.finish=function(){b.stop(!0)},(e||sa._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,d){var e=function(a){var b=a.stop;delete a.stop,b(d)};return"string"!=typeof a&&(d=b,b=a,a=c),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,c=null!=a&&a+"queueHooks",f=sa.timers,g=sa._data(this);if(c)g[c]&&g[c].stop&&e(g[c]);else for(c in g)g[c]&&g[c].stop&&cc.test(c)&&e(g[c]);for(c=f.length;c--;)f[c].elem!==this||null!=a&&f[c].queue!==a||(f[c].anim.stop(d),b=!1,f.splice(c,1));(b||!d)&&sa.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=sa._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=sa.timers,g=d?d.length:0;for(c.finish=!0,sa.queue(this,a,[]),e&&e.cur&&e.cur.finish&&e.cur.finish.call(this),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),sa.each({slideDown:S("show"),slideUp:S("hide"),slideToggle:S("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){sa.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),sa.speed=function(a,b,c){var d=a&&"object"==typeof a?sa.extend({},a):{complete:c||!c&&b||sa.isFunction(a)&&a,duration:a,easing:c&&b||b&&!sa.isFunction(b)&&b};return d.duration=sa.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in sa.fx.speeds?sa.fx.speeds[d.duration]:sa.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){sa.isFunction(d.old)&&d.old.call(this),d.queue&&sa.dequeue(this,d.queue)},d},sa.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2}},sa.timers=[],sa.fx=R.prototype.init,sa.fx.tick=function(){var a,b=sa.timers,d=0;for($b=sa.now();b.length>d;d++)a=b[d],a()||b[d]!==a||b.splice(d--,1);b.length||sa.fx.stop(),$b=c},sa.fx.timer=function(a){a()&&sa.timers.push(a)&&sa.fx.start()},sa.fx.interval=13,sa.fx.start=function(){_b||(_b=setInterval(sa.fx.tick,sa.fx.interval))},sa.fx.stop=function(){clearInterval(_b),_b=null},sa.fx.speeds={slow:600,fast:200,_default:400},sa.fx.step={},sa.expr&&sa.expr.filters&&(sa.expr.filters.animated=function(a){return sa.grep(sa.timers,function(b){return a===b.elem}).length}),sa.fn.offset=function(a){if(arguments.length)return a===c?this:this.each(function(b){sa.offset.setOffset(this,a,b)});var b,d,e={top:0,left:0},f=this[0],g=f&&f.ownerDocument;return g?(b=g.documentElement,sa.contains(b,f)?(typeof f.getBoundingClientRect!==da&&(e=f.getBoundingClientRect()),d=T(g),{top:e.top+(d.pageYOffset||b.scrollTop)-(b.clientTop||0),left:e.left+(d.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):e):void 0},sa.offset={setOffset:function(a,b,c){var d=sa.css(a,"position");"static"===d&&(a.style.position="relative");var e,f,g=sa(a),h=g.offset(),i=sa.css(a,"top"),j=sa.css(a,"left"),k=("absolute"===d||"fixed"===d)&&sa.inArray("auto",[i,j])>-1,l={},m={};k?(m=g.position(),e=m.top,f=m.left):(e=parseFloat(i)||0,f=parseFloat(j)||0),sa.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(l.top=b.top-h.top+e),null!=b.left&&(l.left=b.left-h.left+f),"using"in b?b.using.call(a,l):g.css(l)}},sa.fn.extend({position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===sa.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),sa.nodeName(a[0],"html")||(c=a.offset()),c.top+=sa.css(a[0],"borderTopWidth",!0),c.left+=sa.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-sa.css(d,"marginTop",!0),left:b.left-c.left-sa.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var a=this.offsetParent||ea.documentElement;a&&!sa.nodeName(a,"html")&&"static"===sa.css(a,"position");)a=a.offsetParent;return a||ea.documentElement})}}),sa.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var d=/Y/.test(b);sa.fn[a]=function(e){return sa.access(this,function(a,e,f){var g=T(a);return f===c?g?b in g?g[b]:g.document.documentElement[e]:a[e]:(g?g.scrollTo(d?sa(g).scrollLeft():f,d?f:sa(g).scrollTop()):a[e]=f,c)},a,e,arguments.length,null)}}),sa.each({Height:"height",Width:"width"},function(a,b){sa.each({padding:"inner"+a,content:b,"":"outer"+a},function(d,e){sa.fn[e]=function(e,f){var g=arguments.length&&(d||"boolean"!=typeof e),h=d||(e===!0||f===!0?"margin":"border");return sa.access(this,function(b,d,e){var f;return sa.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(f=b.documentElement,Math.max(b.body["scroll"+a],f["scroll"+a],b.body["offset"+a],f["offset"+a],f["client"+a])):e===c?sa.css(b,d,h):sa.style(b,d,e,h)},b,g?e:c,g,null)}})}),a.VEjQuery=sa,"function"==typeof b&&b.amd&&b.amd.VEjQuery&&b("VEjQuery",[],function(){return sa})}(window),VEjQuery.noConflict(),function k(a,b,c){function d(f,g){if(!b[f]){if(!a[f]){var h="function"==typeof require&&require;if(!g&&h)return h(f,!0);if(e)return e(f,!0);var i=new Error("Cannot find module '"+f+"'");throw i.code="MODULE_NOT_FOUND",i}var j=b[f]={exports:{}};a[f][0].call(j.exports,function(b){var c=a[f][1][b];return d(c?c:b)},j,j.exports,k,a,b,c)}return b[f].exports}for(var e="function"==typeof require&&require,f=0;f<c.length;f++)d(c[f]);return d}({1:[function(b,c,d){!function(d,e){"use strict";function f(a,b){var c=this;c.registeredApps={},c.settingsHaveBeenAdded=!1,c.session=a,c.isDataCaptured=!1,c.appsPriorityOnEvent=b,c.status=c.STATUS.BEFORE_STARTS}function i(a,b,c){var d,e=!1,f=!1;for(d=0;d<c.length&&!e&&!f;d++)e=c[d]===b,f=c[d]===a;return f}function j(a,b){var c,e;return c=t.referrerIsInDomains(h,g.domainsToIgnore),b&&a.isPlaying()&&!c?(a.markAppAsFired(b),a.displayApp(b),a.backButtonClicked(),e=d.confirm(a.getPopupMessage(b))):(a.delay(),e=!1),e}function k(a,b){var c;return r.log("ExitIntent handler"),b&&a.isPlaying()?(a.markAppAsFired(b),a.displayApp(b),a.exitIntentMouseLeftWindow(),c=!0):(a.delay(),c=!1),c}function l(a){var b,c;return b="Chrome"===a.browser()&&d.parseFloat(a.version())>31,c="Safari"===a.browser()&&"Mac"===a.OS(),b||c}function m(a,b){a.shown(),l(a.browser)&&d.alert(" "),a.reporting.appAccepted(b)}function n(a,b){var c;return a.isPlaying()&&b&&(a.markAppAsFired(b),a.reporting.exitEventFired(b),c=a.getPopupMessage(b),a.displayApp(b),m(a,b)),c}function o(a,b){var c=!1;return b&&a.isPlaying()&&(a.displayApp(b),a.reporting.inactivityFired(b),a.shown(),c=!0),c}function p(a){var b=a.getAppToRunOnLoad();(a.isPlaying()||a.isPaused()||a.isDelayed())&&(a.isDataCaptured?b&&(a.displayApp(b),a.shown()):d.setTimeout(function(){a.onEvent("load")},100))}var q=1e3,r=b("../../Shared/Utils/Shell"),s=b("../../Shared/Utils/Date"),t=b("../../Shared/Utils/Domain"),u=b("../../Shared/Utils/TabsManager"),v=b("../../Shared/Utils/Capture"),w=b("../../Shared/Classes/Reporting"),x=b("../PopEvents/PopEvents"),y=b("./Settings/SettingsManager"),z={BackButton:b("../PopEvents/BackButton"),Exit:b("../PopEvents/Exit"),Inactivity:b("../PopEvents/Inactivity"),Load:b("../PopEvents/Load"),ExitIntent:b("../PopEvents/ExitIntent")};f.prototype.onSettingsDelaying=function(){this.delay()},f.prototype.onSettingsPausingChange=function(a){var b,c=!1;for(b in a)c=c||a[b];c?this.pause():(this.resume(),this.delay())},f.prototype.onSettingsStoppingApps=function(){this.stop()},f.prototype.isEventAdded=function(a){var b=!1;return this.eventsManager&&(b=this.eventsManager.hasBeenAdded(a)),b},f.prototype.onInitializedApp=function(b){var c,d,e=this;for(c in e.appsPriorityOnEvent)"inactivity"!==c&&a.contains(e.appsPriorityOnEvent[c],b)&&e.eventsManager.addEvent(c);if(!e.settingsHaveBeenAdded){e.settingsManager.addSettings("default",null);for(d in g)e.settingsManager.addSettings(d,g[d]);e.settingsHaveBeenAdded=!0}},f.prototype.setInactivityEvent=function(a,b){var c=this,d=c.appsPriorityOnEvent,e=c.currentAppSetOnInactivity,f=d.inactivity;f&&i(a,e,f)&&(c.currentAppSetOnInactivity=a,c.eventsManager.addEvent("inactivity",{delay:b*q}))},f.prototype.onOnloadDataCaptured=function(){this.isDataCaptured=!0},f.prototype.removeEvent=function(b){var c=this;delete c.appsPriorityOnEvent[b],c.eventsManager.removeEvent(b),a.isEmpty(c.appsPriorityOnEvent)&&(r.info("Stop AppsManager"),c.settingsHaveBeenAdded&&(c.removeSettings(g),c.settingsHaveBeenAdded=!1))},f.prototype.removeEvents=function(a){var b;a=a||{};for(b in a)this.eventsManager.removeEvent(b)},f.prototype.removeSettings=function(a){var b;this.settingsManager.removeSettings("default");for(b in a)this.settingsManager.removeSettings(b)},f.prototype.stop=function(){var a,b=this,c=b.appsPriorityOnEvent;b.isLoaded()?(r.log("Stop AppManager"),b.setStatus(b.STATUS.STOPPED),a=u.getCurrentTabInfo(),delete a.availableApps,u.setCurrentTabInfo(a),b.removeEvents(c),b.settingsHaveBeenAdded&&b.removeSettings(g),b.settingsHaveBeenAdded=!1):r.log("Not stopping. AppManager status: "+b.getCurrentStatusName())},f.prototype.setAppsPriorities=function(a){this.appsPriorityOnEvent=a},f.prototype.init=function(a,b){function c(){e.onOnloadDataCaptured()}function d(a){return e.onEvent(a)}var e=this;r.info("Loading AppsManager"),v.mediator.hasOnLoadDataBeenCaptured()?c():v.mediator.once("capture_onload-data-captured",c),e.browser=b,e.eventsManager=new x(d,e,b),e.eventsManager.init(z),e.settingsManager=new y,e.settingsManager.init(),e.reporting=new w(e,a),e.setStatus(e.STATUS.LOADED),e.appsPriorityOnEvent?e.setStatus(e.STATUS.PLAYING):r.info("No priorities, AppsManager doesn't start")},f.prototype.clearAppsDelay=function(){this.isDelayed()&&(r.log("AppManager delay cleared"),d.clearTimeout(this.lastDelayTimeout))},f.prototype.delay=function(){var a=this;a.isPlaying()||a.isDelayed()?(a.clearAppsDelay(),r.info("Delaying AppManager"),a.setStatus(a.STATUS.DELAYED),a.lastDelayTimeout=d.setTimeout(function(){a.isDelayed()&&a.play()},3e3)):r.log("Not delaying. AppManager status: "+a.getCurrentStatusName())},f.prototype.play=function(){r.info("Enabling AppManager"),this.eventsManager.activateEvent("Inactivity"),this.setStatus(this.STATUS.PLAYING)},f.prototype.resume=function(){this.isPaused()?this.play():r.log("Not enabling. AppManager status: "+this.getCurrentStatusName())},f.prototype.pause=function(){var a=this;a.isPlaying()||a.isDelayed()?(r.info("Pausing AppManager"),a.clearAppsDelay(),a.eventsManager.deactivateEvent("Inactivity"),a.setStatus(this.STATUS.PAUSED)):r.log("Not pausing. AppManager status: "+a.getCurrentStatusName())},f.prototype.runApp=function(a){this.registeredApps[a]&&this.registeredApps[a].show()},f.prototype.backButtonClicked=function(){var a,b=this;b.hasBeenShown()||(r.info("Back button has been clicked"),b.setStatus(this.STATUS.GOING_BACK),b.backButtonClickedTimer=d.setTimeout(function(){b.hasBeenShown()||(a=b.getAppToRun("backButton"),b.reporting.backButtonFired(a),b.reporting.appAccepted(a),b.shown())},500))},f.prototype.exitIntentMouseLeftWindow=function(){var a,b=this;b.hasBeenShown()||(r.info("Exit intent mouse has left window"),a=b.getAppToRun("exitIntent"),b.reporting.exitIntentFired(a),b.reporting.appAccepted(a),b.shown())},f.prototype.shown=function(){r.info("App has been shown"),d.clearTimeout(this.backButtonClickedTimer),this.stop(),this.setStatus(this.STATUS.SHOWN)},f.prototype.getAppToRun=function(a){var b,c,d,e,f=this.session,g=!0,h=this.appsPriorityOnEvent[a]||[];for(b=0;b<h.length&&!e;b++)c=h[b],d=this.registeredApps[c],d&&("inactivity"!==a&&(g=d.canShowNow(f.getItem("sessionData"),u.getAllTabsInfo()),g||r.info("not showing "+c+" due to session management restrictions")),d.isAppReady&&g&&(e=c));return e},f.prototype.getAppToRunOnLoad=function(){var a,b,c,d,f,g,h,i,j=this.appsPriorityOnEvent.load||[];for(a=0;a<j.length;a++)if(b=j[a],c=this.getApp(b),d=c.getStatus(),h=d===c.status.Error,i=d===c.status.Loading,g=d===c.status.Ready,(i||g)&&!h){g?f=b:i&&(f=e);break}return f},f.prototype.getPopupMessage=function(a){var b={assist:"You might have missed some products",chat:"An agent wants to speak with you",promote:"Do you want to share?",panel:"Can we help you with something?"},c=this.registeredApps[a].agent.popupMessage;return c||(c=b[a]),c},f.prototype.displayApp=function(a){var b=this.registeredApps[a];b&&this.isPlaying()&&b.show()},f.prototype.markAppAsFired=function(a){var b,c=this.session.getItem("sessionData")||{},d={appFires:0};c[a]=c[a]||d,b=c[a],b.appFires=b.appFires||0,b.lastActivationTime=s.now(),b.appFires++,this.session.setItem("sessionData",c)},f.prototype.onEvent=function(a){var b,c=this,d=c.getAppToRun(a),e={backButton:j,exit:n,inactivity:o,load:p,exitIntent:k};return e[a]&&(b=e[a](c,d)),
b},f.prototype.statusMap={0:"Not Loaded",1:"Loaded",2:"Playing",3:"Delayed",4:"Paused",5:"Going Back",6:"Stopped",7:"Shown"},f.prototype.STATUS={BEFORE_STARTS:0,LOADED:1,PLAYING:2,DELAYED:3,PAUSED:4,GOING_BACK:5,STOPPED:6,SHOWN:7},f.prototype.getStatus=function(){return this.status},f.prototype.getCurrentStatusName=function(){return this.statusMap[this.status]},f.prototype.logCurrentStatusName=function(){r.log(this.getCurrentStatusName())},f.prototype.isLoaded=function(){var a=this.status,b=this.STATUS;return a>b.BEFORE_STARTS&&a<b.SHOWN},f.prototype.isPlaying=function(){return this.getStatus()===this.STATUS.PLAYING},f.prototype.isDelayed=function(){return this.getStatus()===this.STATUS.DELAYED},f.prototype.isPaused=function(){return this.getStatus()===this.STATUS.PAUSED},f.prototype.isGoingBack=function(){return this.getStatus()===this.STATUS.GOING_BACK},f.prototype.isStopped=function(){return this.getStatus()===this.STATUS.STOPPED},f.prototype.hasBeenShown=function(){return this.getStatus()===this.STATUS.SHOWN},f.prototype.setStatus=function(a){this.status=a},f.prototype.registerApp=function(a){this.registeredApps[a.name.toLowerCase()]=a},f.prototype.getApp=function(a){return this.registeredApps[a.toLowerCase()]||null},c.exports=f}(window)},{"../../Shared/Classes/Reporting":60,"../../Shared/Utils/Capture":63,"../../Shared/Utils/Date":66,"../../Shared/Utils/Domain":73,"../../Shared/Utils/Shell":82,"../../Shared/Utils/TabsManager":85,"../PopEvents/BackButton":39,"../PopEvents/Exit":40,"../PopEvents/ExitIntent":41,"../PopEvents/Inactivity":43,"../PopEvents/Load":44,"../PopEvents/PopEvents":45,"./Settings/SettingsManager":2}],2:[function(a,b,c){!function(){"use strict";function c(){function a(){e.onSettingsDelaying()}function b(){a()}function c(){a()}function k(){function b(){a()}var c=document.getElementsByTagName("form");return{addEvent:function(){d.addEventsToArray(c,"submit",b,!0)},removeEvent:function(){d.removeEventsFromArray(c,"submit",b,!0)}}}function l(){function b(){a()}var c=[];return{addEvent:function(a){c=g.getElementsByQuerySelectors(a),d.addEventsToArray(c,"click",b,!0)},removeEvent:function(){d.removeEventsFromArray(c,"click",b,!0)}}}function m(){function b(){a()}var c=[];return{addEvent:function(a){c=g.getElementsByQuerySelectors(a),d.addEventsToArray(c,"mousedown",b,!0),d.addEventsToArray(c,"touchstart",b,!0)},removeEvent:function(){d.removeEventsFromArray(c,"mousedown",b,!0),d.removeEventsFromArray(c,"touchstart",b,!0)}}}function n(a,b){u[a]!==b&&(u[a]=b,e.onSettingsPausingChange(u))}function o(a){n(a,!0)}function p(a){n(a,!1)}function q(){function a(a){var b,c=j.length;for(b=0;c>b;b++)if(a.id==="ve-"+j[b]+"-iframe")return!0;return!1}function b(){window.setTimeout(function(){document.activeElement?"iframe"!==document.activeElement.tagName.toLowerCase()||a(document.activeElement)?p(c):o(c):p(c)},10)}var c="iframeHandler";return{addEvent:function(){var a=document.getElementsByTagName("iframe");d.addEvent(window,"focus",b,!0),d.addEvent(window,"blur",b,!0),a&&"body"===document.activeElement.tagName.toLowerCase()&&(a[0].focus(),document.body.hasAttribute("tabindex")&&""!==document.body.getAttribute("tabindex")?document.body.focus():(document.body.setAttribute("tabindex","0"),document.body.focus(),document.body.removeAttribute("tabindex"))),b()},removeEvent:function(){d.removeEvent(window,"focus",b,!0),d.removeEvent(window,"blur",b,!0),p(c)}}}function r(){function a(a){g=i.removeElementFromArray(g,a),0===g.length&&p(e)}function b(c){c.closed?a(c):setTimeout(function(){b(c)},500)}function c(a){g.push(a),g.length>=1&&o(e),b(a)}function d(){f.log("Overwriting window.open"),window.open=function(a){return function(b,d,e){var f;return d=d||"",f=a(b,d,e),f&&c(f),f}}(window.open)}var e="windowOpenHandler",g=[],h=window.open;return{addEvent:function(){d()},removeEvent:function(){window.open=h,g=[],p(e)}}}function s(){function a(){o(c)}function b(){p(c)}var c="autocompleteInputsHandler",e=null;return{addEvent:function(c){var f;for(e=g.getElementsByQuerySelectors(c),f=0;f<e.length;f++)d.addEvent(e[f],"focus",a,!0),d.addEvent(e[f],"blur",b,!0)},removeEvent:function(){var f;if(e)for(f=0;f<e.length;f++)d.removeEvent(e[f],"focus",a,!0),d.removeEvent(e[f],"blur",b,!0);p(c)}}}function t(){e.onSettingsStoppingApps()}var u={iframeHandler:!1,windowOpenHandler:!1,inputSearchAutocomplete:!1},v=null,w=null,x=null,y=null,z=null,A=null,B=null,C=null,D=null,E=new function(){function a(){t()}var b=[];this.addEvent=function(c){b=g.getElementsByQuerySelectors(c),d.addEventsToArray(b,"click",a)},this.removeEvent=function(){d.removeEventsFromArray(b,"click",a)}},F=new function(){function a(){t()}var b=[];this.addEvent=function(c){b=g.getElementsByQuerySelectors(c),d.addEventsToArray(b,"mousedown",a)},this.removeEvent=function(){d.removeEventsFromArray(b,"mousedown",a)}},G=new function(){function a(){f.log("Element stopping event triggered"),t()}function b(b,c){function e(b){d.addEvent(b,c,a),l.push({element:b,eventType:c,handler:a})}function f(a){setTimeout(function(){e(a)},200)}var h,i=g.querySelectorAll(b);for(h=0;h<i.length;h++)f(i[h])}function c(a){var b=0,c=[];for(b=0;b<k.length;b++)k[b].creatorElement===a&&c.push(b);return c}function e(a,d){var e,f=null,g=c(d);for(e=0;e<g.length;e++)f=k[g[e]],f.elementsQueryArray.length>0?i(f.elementsQueryArray[f.elementsQueryArray.length-1],f.eventsTypeArray[f.eventsTypeArray.length-1],f.elementsQueryArray.slice(0,f.elementsQueryArray.length-1),f.eventsTypeArray.slice(0,f.eventsTypeArray.length-1),f.finalElementQuery,f.finalElementEventType):b(f.finalElementQuery,f.finalElementEventType)}function h(a,b,c,f,g,h){function i(b){e(b,a)}d.addEvent(a,b,i),k.push({creatorElement:a,eventType:b,handler:i,elementsQueryArray:c,eventsTypeArray:f,finalElementQuery:g,finalElementEventType:h})}function i(a,b,c,d,e,f){var i,j=g.querySelectorAll(a);if(j.length>0)for(i=0;i<j.length;i++)h(j[i],b,c,d,e,f)}function j(a,b,c,d,e){var f;for(f=0;f<a.length;f++)a[f].doesElementExistOnLoad?i(a[f].elementQuery,a[f].eventType,b,c,d,e):(b.push(a[f].elementQuery),c.push(a[f].eventType),j(a[f].creatorElements,b,c,d,e))}var k=[],l=[],m=null;this.addEvent=function(a){var c;for(m=a,c=0;c<m.length;c++)m[c].doesElementExistOnLoad?b(m[c].elementQuery,m[c].eventType):j(m[c].creatorElements,[],[],m[c].elementQuery,m[c].eventType)},this.removeEvent=function(){var a;for(a=0;a<k.length;a++)d.removeEvent(k[a].creatorElement,k[a].eventType,k[a].handler);for(a=0;a<l.length;a++)d.removeEvent(l[a].element,l[a].eventType,l[a].handler);k=[],l=[]}};return{init:function(){f.log("Loading SettingsManager"),v=new h.Event(document.body,"mousedown",b,!0),w=new h.Event(document.body,"touchstart",b,!0),x=new h.Event(document.body,"keydown",c,!0),y=k(),z=l(),A=m(),B=q(),C=r(),D=s()},addSettings:function(a,b){switch(a){case"default":v.addEvent(),w.addEvent(),x.addEvent(),y.addEvent(),B.addEvent();break;case"elementsToDelayOnClick":z.addEvent(b);break;case"elementsToDelayOnMouseDown":A.addEvent(b);break;case"windowOpenHandler":b&&C.addEvent();break;case"autocompleteInputsHandler":D.addEvent(b);break;case"elementsStoppingAppsOnClick":E.addEvent(b);break;case"elementsStoppingAppsOnMouseDown":F.addEvent(b);break;case"elementsStoppingAppsOnEvent":G.addEvent(b)}},removeSettings:function(a){switch(a){case"default":v.removeEvent(),w.removeEvent(),x.removeEvent(),y.removeEvent(),B.removeEvent();break;case"elementsToDelayOnClick":z.removeEvent();break;case"elementsToDelayOnMouseDown":A.removeEvent();break;case"windowOpenHandler":C.removeEvent();break;case"autocompleteInputsHandler":D.removeEvent();break;case"elementsStoppingAppsOnClick":E.removeEvent();break;case"elementsStoppingAppsOnMouseDown":F.removeEvent();break;case"elementsStoppingAppsOnEvent":G.removeEvent()}}}}var d=a("../../../Shared/Utils/Event"),f=a("../../../Shared/Utils/Shell"),g=a("../../../Shared/Utils/Dom/ElementSelectors"),h=a("../../../Shared/Utils/Modules"),i=a("../../../Shared/Utils/Array");b.exports=c}()},{"../../../Shared/Utils/Array":62,"../../../Shared/Utils/Dom/ElementSelectors":71,"../../../Shared/Utils/Event":74,"../../../Shared/Utils/Modules":77,"../../../Shared/Utils/Shell":82}],3:[function(a,b,c){!function(c){"use strict";function d(a,b){var c,d,e,f,g,h={};for(c=0;c<b.length;c++){for(f=b[c],e=[],d=0;d<a.length;d++)g=a[d],g[f]===!0&&e.push(g.name);e.length>0&&(h[f]=e)}return h}function f(a,b){var c,d=null;for(c=0;c<b.length&&null===d;c++)b[c].name===a&&(d=b[c]);return d}function g(a,b,c){this.appsApi=a,this.tagData=b,this.browser=c}var h=a("./Apps/AppFactory"),i=a("./Apps/Agents/AgentManager"),j=a("../Shared/Utils/TagTransformer"),k=a("./AppState/AppsManager");g.prototype.APP_EVENT_NAMES=["exit","inactivity","backButton","load","exitIntent"],g.prototype.init=function(){var a=this,b=a.tagData,d=c.VeAPI,e={journeyCode:b.journeycode,veHostDomain:b.veHostDomain,journeyId:b.captureConfig.JourneyId,settings:b.settings,appsMappings:b.appsMappings,promoteLanding:b.promoteLanding,version:d.version||{}},f={customerId:b.captureConfig.customerid,journeyId:b.captureConfig.JourneyId,journeyCode:b.journeycode,criteriaFilters:b.criteriaFilters,browser:a.browser};a.appFactoryConfig=e,a.agentManagerConfig=f},g.prototype.startApps=function(a,b,c){var e,f,g=this,h=g.tagData;a=a||[],e=j.removeDisabledApps(a,h.apps),f=j.removeNotAvailableAppsFromTag(h.apps,e),g.appsPrioritiesByEvent=d(f,g.APP_EVENT_NAMES),g.appsManager=g.createAppsManager(b),g.createAndRegisterApps(e),g.agentManager=g.createAgentManager(e,b),g.agentManager.findAgents(c)},g.prototype.createAppsManager=function(a){return e=new k(a,this.appsPrioritiesByEvent)},g.prototype.createAndRegisterApps=function(a){var b,c,d,e,g,i=this;for(a=a||[],b=new h(i.appFactoryConfig,i.browser),g=0;g<a.length;g++)c=a[g],e=f(c,i.tagData.apps),d=b.createApp(c,e),d.setAppPriorityOnEvent(i.appsPrioritiesByEvent),i.appsManager.registerApp(d)},g.prototype.createAgentManager=function(a,b){var c,d=this,e=d.agentManagerConfig;return e.agentStorage=b,e.appsManager=d.appsManager,e.availableApps=a||[],c=new i(e,d.appsApi)},g.prototype.getAgentManager=function(){return this.agentManager||null},b.exports=g}(window)},{"../Shared/Utils/TagTransformer":86,"./AppState/AppsManager":1,"./Apps/Agents/AgentManager":5,"./Apps/AppFactory":9}],4:[function(a,b,c){!function(){"use strict";var a={utilsReady:!1,appsConfigured:!1,appsFormManager:null,captureCore:null,init:function(a){var b=this;b.captureCore=a.captureCore,b.appsCore=a.appsCore,b.storage=a.storage,a.utilsController.once("utils_ready",function(){b.markUtilsReady(),b.checkAppsReadyToStart()&&b.startApps()}),a.formIdentificationCore.once("form_apps-configured",function(a){b.markAppsConfigured(),b.appsFormManager=a,b.checkAppsReadyToStart()&&b.startApps()})},checkAppsReadyToStart:function(){var a=this;return a.utilsReady&&a.appsConfigured&&null!==a.appsFormManager&&null!==a.captureCore&&null!==a.appsCore},markUtilsReady:function(){this.utilsReady=!0},markAppsConfigured:function(){this.appsConfigured=!0},startApps:function(){var a,b=this,c=b.appsCore,d=b.captureCore,e=b.appsFormManager;c.init(),c.startApps(e.getAppsAvailable(),b.storage,d.getCapturedDataValues()),a=c.getAgentManager(),d.setAgentManager(a)}};b.exports=a}()},{}],5:[function(b,c,d){!function(d){"use strict";function e(b,c){var d,e=!0,f=a.indexOf(c.matchingAgents,b);for(d=0;f>d&&e;d++)a.contains(c.pendingAgents,c.matchingAgents[d])&&(e=!1);return e}function f(a,b,c){var f=a,g=c.appName,h=f.appsManager.getApp(g),i=c.agentId,j=b.agentId,k=c.agentFactoryId,l=f.agentStorage.getItem(g+"."+k);null===i||l===j?(null===i&&f.agentStorage.setItem(g+"."+k,b.agentId),m.log("Recieved agentId: "+j+" for app: "+g),h.canAgentRun(b)?(f.agents[k]=b,b.id=d.parseInt(k),e(k,f)&&(f.appsManager.isLoaded()||f.appsManager.init(f.appsApiInstance,f.browser),h.init(b))):m.info(g+". Agent "+j+": agent can not run")):f.requestAgent(g,k,c.capturedControls,l)}function g(a,b){var c=this;a=a||{},c.appsApiInstance=b,c.agentStorage=a.agentStorage,c.journeyId=a.journeyId,c.customerId=a.customerId,c.journeyCode=a.journeyCode,c.appsManager=a.appsManager,c.appNames=a.availableApps,c.browser=a.browser,c.criteriaManager=new k,c.criteriaManager.init(a.criteriaFilters,a.availableApps)}function h(b,c,d){var e,f=0;return d=d||[],b=b||[],e=b[0],e===c||a.contains(d,e)||(f=e),f}function i(b,c){var d,e=[];for(d=0;d<b.length;d++)a.contains(c,b[d])||e.push(b[d]);return e}function j(a,b,c,d){return{path:["api",b,"agentFactory"],params:{agentId:d||null,journeyId:a.journeyId,customerId:a.customerId,journeyCode:a.journeyCode,agentFactoryId:c}}}var k=b("./CriteriaFilters"),l=b("../../../Shared/Utils/Object"),m=b("../../../Shared/Utils/Shell"),n=b("../../../Shared/Utils/Array"),o=0,p=2,q={Error:-1,NotStarted:0,Requesting:1,Loading:2,Ready:3};g.prototype.disabledApps=[],g.prototype.disabledAgentFactories=[],g.prototype.pendingAgents=[],g.prototype.matchingAgents=[],g.prototype.agents={},g.prototype.findAgents=function(a){var b,c,d,e;for(d=this.appNames||[],b=d.length,c=0;b>c;c++)e=d[c],this.requestApp(e,a)},g.prototype.requestApp=function(b,c){var d,e,f,g=this,j=this.appsManager.getApp(b);null!==j&&(f=j.agent.id),a.contains(g.disabledApps,b)?m.info(b+" is disabled on requesting agents for it."):(d=g.criteriaManager.getAgentFactoryIds(b,c),g.matchingAgents=i(d,g.disabledAgentFactories),e=h(g.matchingAgents,f,g.pendingAgents),e?g.requestAgent(b,e,c):m.info(b+". No agent matches the criteria filters."))},g.prototype.changeAppStatus=function(a,b){var c=this.appsManager.getApp(a)||{},d=c.getStatus()===q.Loading,e=c.getStatus()===q.Ready;switch(b){case q.Loading:c.setStatus(b);break;case q.Requesting:d||e||c.setStatus(b);break;case q.Error:0!==this.pendingAgents.length||d||e||c.setStatus(b)}},g.prototype.requestAgent=function(a,b,c,d){function e(e){var f={appName:a,agentFactoryId:b,agentId:d||null,capturedControls:c};null!==e?h.processAppAgent(e,f):(m.error(a+": No agent data received for agent: "+b),h.changeAppStatus(a,q.Error))}function f(){h.changeAppStatus(a,q.Error)}var g,h=this,i=null,k=h.agentStorage;m.info(a+". Loading agent: "+b),n.pushWithoutDuplicate(b,h.pendingAgents),d||(d=k.getItem(a+"."+b)),h.agents[b]?(m.info(a+". Loading agent: "+b+"from local copy"),e(h.agents[b])):(h.changeAppStatus(a,q.Requesting),g=j(h,a,b,d),i=h.appsManager.getApp(a).getParamAgentRequest(),i=l.concatenate(g.params,i),h.appsApiInstance.request(g.path,null,e,f,a,i))},g.prototype.processAppAgent=function(b,c){var d=this,e=c.appName,g=c.agentFactoryId;m.info(e+". Agent received for agentFactoryId: "+g),a.pull(d.pendingAgents,g),b.status===p?(m.info(e+" app is disabled."),d.disabledApps.push(e),d.changeAppStatus(e,q.Error)):b.status===o?f(d,b,c):(m.info(g+" agent is disabled."),d.disabledAgentFactories.push(g),d.requestApp(e,c.capturedControls),d.changeAppStatus(e,q.Error))},c.exports=g}(window)},{"../../../Shared/Utils/Array":62,"../../../Shared/Utils/Object":78,"../../../Shared/Utils/Shell":82,"./CriteriaFilters":6}],6:[function(b,c,d){!function(b){"use strict";function d(a){var c;for(c=a.length-1;c>=0;c--)a[c].value=b.parseInt(a[c].value,10);return a}function e(){}function f(a,c){var d,e,f=[];for(a=a||[],e=a.length,d=0;e>d;d++)b.parseInt(a[d].fieldId,10)===c&&f.push(decodeURIComponent(a[d].fieldValue));return f}function g(b,c){return a.contains(j[c],b)}function h(a,b,c){var d=!1;return"="===a?d=b===c:"Like"===a?d=new RegExp(c).test(b):"Start"===a?d=new RegExp("^"+c).test(b):"End"===a?d=new RegExp(c+"$").test(b):"NotLike"===a?d=!new RegExp(c).test(b):"<"===a?d=c>b:"<="===a?d=c>=b:">"===a?d=b>c:">="===a&&(d=b>=c),d}function i(a,b){var c,d;return"String"===b?a=a.toString():"Number"===b?(c=new RegExp(".*?([-]?[0-9]+([.][0-9]+)?).*",""),a=parseFloat(a.toString().replace(c,"$1"))):"Currency"===b&&(d=new RegExp("[^0-9-.]","g"),a=parseFloat(a.toString().replace(d,""))),a}var j={String:["=","Like","Start","End","NotLike"],Number:["=","<","<=",">",">="],Currency:["=","<","<=",">",">="]};e.prototype.init=function(a,b){var c,e,f,g;for(this.criteria={},b=b||[],e=b.length,c=0;e>c;c++)f=b[c],g=a[f]||[],this.criteria[f]=d(g)},e.prototype.getAgentFactoryIds=function(a,b){var c,d=[],e=this.criteria[a]||[],f=e.length;for(c=0;f>c;c++)this.testAgent(e[c],b)&&d.push(e[c].value);return d},e.prototype.testAgent=function(a,b){return this.testCriteria(a.criteria,b)},e.prototype.testCriteria=function(a,b){var c,d,e,j,k,l,m,n,o,p,q=[],r=!1;for(a=a||[],o=a.length,r=0===o,c=0;o>c;c++){for(q=f(b,a[c].formMappingId),e=a[c].operator,j=a[c].typeName,d=i(a[c].value,j),n=a[c].innerGrouping,m=n&&n.length>0,p=q.length,l=0;p>l&&!r;l++)g(e,j)&&(k=i(q[l],j),r=h(e,k,d));r&&m&&(r=this.testCriteria(n,b))}return r},c.exports=e}(window)},{}],7:[function(b,c,d){!function(d){"use strict";function f(a){var b=a.data;b.appName===this.name&&(b=b.messageBody,"function"==typeof h[b.status]?h[b.status](this,b):h["default"](this,b))}function g(a){var b=this,c={maxActivationsPerSession:null,activateOnlyOnLastTab:!1,minTimeBetweenActivations:0};a=a||{},a.session&&(c=a.session),b.config=a,b.sessionConfig=c,b.customOptions={},b.agent={},b.currentStatus=b.status.NotStarted,b.browser=a.browser,b.searchTerm=a.searchTerm,b.name="",b.container=null,b.isDraggable=!1,b.inactivityTime=0,b.handleDraggable=null,b.appContainer=null,b.options={closeBtn:!0,overlay:!0,windowPosition:4,isDraggable:!1}}var h,i=b("../../Shared/Utils/Shell"),j=b("../../Shared/Utils/Date"),k=b("../../Shared/Utils/Dom"),l=b("../../Shared/Utils/Array"),m=b("../../Shared/Utils/Domain"),n=b("../../Shared/Utils/Capture"),o=b("../../Shared/Utils/Storage"),p=b("../../Shared/Utils/TabsManager"),q=b("../../Shared/Utils/PromoCode"),r=b("../../Shared/Classes/MessageManager"),s=b("./AppDisplay"),t=b("./AppMarkupBuilder"),u=b("./DragManager"),v="waiting",w="number";h={success:function(a,b){i.info(a.name+". Iframe is initializing"),a.displayController.setAppHeight(b.iframeHeight),k.addClass(a.container,v),a.finishInit(),b.firstMessageId&&(a.agent.firstMessageId=b.firstMessageId)},resize:function(a,b){a.displayController.setAppHeight(b.iframeHeight)},hide:function(a){a.displayController.hide()},close:function(a,b){a.remove(a,b)},getData:function(a){var b="https:"+a.config.veHostDomain,c={messageType:"appData",messageBody:a.getDataForIframe(),id:a.agent.iframeId};r.postMessage(a.appContainer.contentWindow,c,b)},"default":function(a,b){i.info(b)}},g.prototype.status={Error:-1,NotStarted:0,Requesting:1,Loading:2,Ready:3},g.prototype.canAgentRun=function(a){var b=a.enabled,c=this.name+". Agent "+a.agentId+": ";return b&&(this.browser.deviceIsOneOf(a.supportedDevices)||(i.info(c+"It does not support this device"),b=!1)),b},g.prototype.getParamAgentRequest=function(){return{}},g.prototype.isAvailableOnEvent=function(a){var b=!1;return("inactivity"!==a||this.agent.inactivityTime>1)&&(b=!0),b},g.prototype.getElementsToClose=function(){var a=this.agent||{},b=this.name,c=["ve-"+b+"-iframe-close"];return a.overlayClickClose&&c.push("ve-"+b+"-iframe-overlay"),c},g.prototype.getElementsToFocusOnApp=function(){var a=this.agent||{},b=this.name,c=[];return a.overlayClickClose||c.push("ve-"+b+"-iframe-overlay"),c},g.prototype.show=function(){i.info(this.name+". Showing"),this.displayController.show(),q.storePromoCode(),q.checkForAutofill()},g.prototype.remove=function(){var a=this,b=a.name;i.log(b+". Removing from DOM"),a.isAppReady=!1,k.removeElement(a.container),a.container=null},g.prototype.getParamFromStorage=function(a){var b=o.getStorage().getItem(a);return b||""},g.prototype.initCurrency=function(){var a={},b=this.config.appsMappings.currency;b&&b.length>0?(a.enabled=!0,a.value=n.getAppsMappingsValue(b)||this.getParamFromStorage("currency")||""):a.enabled=!1,this.setCustomOptions({currency:a})},g.prototype.initSearchTerm=function(){this.setCustomOptions({searchTerm:this.searchTerm.getSearchTerm()})},g.prototype.storeSearchTerm=function(){this.searchTerm.storeSearchTerm()},g.prototype.setup=function(){},g.prototype.runAgentSettings=function(){},g.prototype.init=function(a){var b=this,c=b.name,d={appName:c,overlay:b.options.overlay,closeBtn:b.options.closeBtn,isDraggable:b.options.isDraggable};b.agent=a,b.agentId=a.agentId,b.setStatus(b.status.Loading),b.runAgentSettings(b.agent),i.info(c+". Loading"),b.remove(),b.agent.iframeId=j.now(),r.subscribeTo(b.agent.iframeId,f,b),q.listenForPromoCode(b.agent.iframeId),d.iframeUrl=b.getIframeURL(),b.createMarkup(d,a),b.isDraggable&&null!==b.handleDraggable&&(b.dragHandler=new u(c,b.handleDraggable,b.appContainer.parentElement,b.appContainer,b.closeButton),b.dragHandler.init()),b.displayController=b.createDisplayController()},g.prototype.createMarkup=function(a,b,c){var d,e=this,f=e.config;c=c||t,d=new c(e.name,e.container),d.init(),d.createCSS(f.veHostDomain,f.version),d.buildHtml(a,b),e.container=d.getContainer(),e.appContainer=d.getIframe(),e.closeButton=d.getCloseButton(),e.handleDraggable=d.getDragArea()},g.prototype.finishInit=function(){var a,b=this,c=b.name,d=b.agent;k.addClass(b.container,"ready"),b.inactivityTime=d.inactivityTime||0,b.browser.isMobile()&&(b.inactivityTime=d.mobileInactivityTime||0),b.setStatus(b.status.Ready),b.isAppReady=!0,e.onInitializedApp(c),0===b.inactivityTime?b.removeAppFromEvent("inactivity"):e.setInactivityEvent(c,b.inactivityTime),a=p.getCurrentTabInfo(),a.availableApps=a.availableApps||[],l.pushWithoutDuplicate(c,a.availableApps),p.setCurrentTabInfo(a)},g.prototype.canShowNow=function(a,b){var c=this,d=c.sessionConfig,e=c.appActivationsAvailable(a,d),f=c.activateInThisTab(b,d,null===a),g=c.isInAppActivationInterval(a,d);return e&&f&&!g},g.prototype.appActivationsAvailable=function(a,b){var c,e,f=this.name,g=!1;return c=null===a?NaN:a&&a[f]?a[f].appFires||0:0,i.info(f+" has already been shown "+(c||0)+" time(s)"),null===b.maxActivationsPerSession?g=!0:(e=d.parseInt(b.maxActivationsPerSession),e&&e>c&&(g=!0)),g},g.prototype.activateInThisTab=function(b,c,d){var e,f,g,h=!0,j=this.name,k=0;if(c.activateOnlyOnLastTab&&!this.browser.isMobile()){for(e in b)f=b[e]&&b[e].availableApps||[],a.contains(f,j)&&k++;(0!==k||d)&&(g=d?"the session has expired":"this app should show in a later tab",i.info("cannot show "+j+" because "+g),h=!1)}return h},g.prototype.isInAppActivationInterval=function(a,b){var c,d,e=j.now(),f=this.name,g=1e3,h=!1;return null===a?b.minTimeBetweenActivations>0&&(h=!0):(a=a||{},c=a[f]||{},d=c.lastActivationTime,"number"==typeof d&&(h=(e-d)/g<b.minTimeBetweenActivations)),h},g.prototype.setCustomOptions=function(a){var b;for(b in a)this.customOptions[b]=a[b]},g.prototype.getCustomOptions=function(){return this.customOptions},g.prototype.getStatus=function(){var a=this.currentStatus;return typeof a!==w&&(a=this.status.Error),a},g.prototype.setStatus=function(a){this.currentStatus=a},g.prototype.getIframeURL=function(){var a=this,b=a.config||{},c=b.journeyCode||"",d=a.name,e=a.agent,f={iframeId:e.iframeId},g=["tags",c.replace(/-/g,"/"),d,a.agentId+".html"],h="https:"+b.veHostDomain;return m.createUrl(h,g,f)},g.prototype.getDataForIframe=function(){var a=this,b=a.getSpecificDataForIframe();return b.journeyId=a.config.journeyId,b.sessionId=a.agent.sessionId,b.agentFactoryId=a.agent.id,b.agentId=a.agentId,b},g.prototype.getSpecificDataForIframe=function(){return{}},g.prototype.setAppPriorityOnEvent=function(a){this.appsPriorityOnEvent=a},g.prototype.removeAppFromEvent=function(b){var c=this.appsPriorityOnEvent;c[b]&&(a.pull(c[b],this.name),e.setAppsPriorities(c),0===c[b].length&&e.removeEvent(b))},g.prototype.createDisplayController=function(){var a=this,b={appIframe:a.appContainer,appContainer:a.container,windowPosition:a.options.windowPosition,elementsToFocusOnApp:a.getElementsToFocusOnApp(),elementsToClose:a.getElementsToClose()};return new s(b)},c.exports=g}(window)},{"../../Shared/Classes/MessageManager":58,"../../Shared/Utils/Array":62,"../../Shared/Utils/Capture":63,"../../Shared/Utils/Date":66,"../../Shared/Utils/Dom":67,"../../Shared/Utils/Domain":73,"../../Shared/Utils/PromoCode":80,"../../Shared/Utils/Shell":82,"../../Shared/Utils/Storage":83,"../../Shared/Utils/TabsManager":85,"./AppDisplay":8,"./AppMarkupBuilder":10,"./DragManager":14}],8:[function(a,b,c){!function(c,d){"use strict";function e(a){var b=this;a=a||{},b.appIframe=a.appIframe,b.windowPosition=a.windowPosition,b.animationTypeId=a.animationTypeId,b.appContainer=a.appContainer,b.elementsToClose=a.elementsToClose||[],b.elementsToFocusOnApp=a.elementsToFocusOnApp||[]}var f=a("./AppPositioner"),g=a("../../Shared/Utils/Dom/ClassNames"),h=a("../../Shared/Utils/Functions"),i=a("../../Shared/Utils/Event"),j=a("../../Shared/Utils/Shell"),k="visible",l={1:"ve-bounceindown",2:"ve-bounceinleft",3:"ve-bounceinright",4:"ve-bounceinup",5:"ve-fadein",6:"ve-rotatein",7:"ve-slideinup",8:"ve-slideinleft",9:"ve-slideinright",10:"ve-slideindown",11:"ve-panel-shift-left",12:"ve-panel-reveal"};e.prototype.getPositioner=function(){var a=this,b=a.positioner||new f(a.appIframe.parentElement,a.windowPosition);return a.positioner=b,b},e.prototype.show=function(){var a=this;g.addClass(a.appContainer,k),i.addEvent(c,"resize",a),a.setPosition(),a.setFocusOnApp(),a.addEntryAnimation(),a.addCloseListeners(),a.addFocusOnAppListeners()},e.prototype.setFocusOnApp=function(){var a=this.appIframe;c.setTimeout(function(){a.contentWindow?a.contentWindow.focus():a.contentDocument&&a.contentDocument.documentElement&&a.contentDocument.documentElement.focus()},100)},e.prototype.addEntryAnimation=function(){var a=this.appIframe,b=this.animationTypeId;b&&g.addClass(a.parentElement,l[b])},e.prototype.addCloseListeners=function(){var a,b,c,e=this;for(e.boundHide||(e.boundHide=h.bind(e.hide,e)),a=0,b=e.elementsToClose.length;b>a;a++)c=d.getElementById(e.elementsToClose[a]),c&&i.addEvent(c,"click",e.boundHide)},e.prototype.addFocusOnAppListeners=function(){var a,b,c,e=this;for(e.boundFocus||(e.boundFocus=h.bind(e.setFocusOnApp,e)),a=0,b=e.elementsToFocusOnApp.length;b>a;a++)c=d.getElementById(e.elementsToFocusOnApp[a]),c&&i.addEvent(c,"click",e.boundFocus)},e.prototype.hide=function(){var a,b,e,f=this,h=f.elementsToClose,l=f.elementsToFocusOnApp;for(j.info(this.name+". Hiding"),g.removeClass(f.appContainer,k),i.removeEvent(c,"resize",f),a=0,b=h.length;b>a;a++)e=d.getElementById(h[a]),e&&i.removeEvent(e,"click",f.boundHide);for(a=0,b=l.length;b>a;a++)e=d.getElementById(l[a]),e&&i.removeEvent(e,"click",f.boundFocus)},e.prototype.handleEvent=function(){this.setPosition()},e.prototype.setAppHeight=function(a){this.getPositioner().setAppHeight(a)},e.prototype.setPosition=function(){this.getPositioner().setPosition()},b.exports=e}(window,document)},{"../../Shared/Utils/Dom/ClassNames":69,"../../Shared/Utils/Event":74,"../../Shared/Utils/Functions":75,"../../Shared/Utils/Shell":82,"./AppPositioner":11}],9:[function(a,b,c){!function(c){"use strict";function d(a,b){this.config=a||{},this.config.referrer=document.referrer,this.browser=b,this.searchTerm=new e(a.referrer,a.settings.keywordsRegExp,a.appsMappings.searchTermFromPage)}var e=a("./SearchTerm/SearchTerm"),f={chat:a("./Chat"),assist:a("./Assist"),promote:a("./Promote"),panel:a("./Panel")};d.prototype.createApp=function(a,b){var d,e=this.config,g=this.browser,h={journeyCode:e.journeyCode,veHostDomain:e.veHostDomain,promoteLanding:e.promoteLanding,journeyId:e.journeyId,referrer:e.referrer,appsMappings:e.appsMappings,version:e.version,session:{maxActivationsPerSession:null,activateOnlyOnLastTab:!(!b||!b.activateOnlyOnLastTab),minTimeBetweenActivations:c.parseInt(b.minTimeBetweenActivations)>=0?b.minTimeBetweenActivations:0},browser:g,searchTerm:this.searchTerm};return c.parseInt(b.maxActivationsPerSession)>=0&&(h.session.maxActivationsPerSession=b.maxActivationsPerSession),"IE"===g.browser()&&(h.session={maxActivationsPerSession:null,activateOnlyOnLastTab:!1,minTimeBetweenActivations:0}),d=new f[a](h),d.setup(),d},b.exports=d}(window)},{"./Assist":12,"./Chat":13,"./Panel":15,"./Promote":18,"./SearchTerm/SearchTerm":20}],10:[function(a,b,c){!function(){"use strict";function c(a,b){this.appName=a,this.container=b||null,this.id="ve-"+a+"-iframe"}var d=a("../../Shared/Utils/Shell");c.prototype.createCSS=function(a,b){var c,d,e,f="ve-apps-style-css",g=b.major+"."+b.minor;document.getElementById(f)||(e=window.location.protocol+a+"/scripts/"+g+"/capture-apps-"+g+"."+b.revision+".css",document.createStyleSheet?document.createStyleSheet(e):(d=document.head||document.getElementsByTagName("head")[0],c=document.createElement("link"),c.id=f,c.type="text/css",c.rel="stylesheet",d.appendChild(c),c.href=e))},c.prototype.getContainer=function(){return this.container},c.prototype.getIframe=function(){return this.iframe||null},c.prototype.getCloseButton=function(){return this.closeButton||null},c.prototype.getDragArea=function(){return this.dragArea||null},c.prototype.buildIframeContainer=function(){var a=this;a.iframeContainer=document.createElement("div"),a.iframeContainer.id=a.id+"-container",a.container.appendChild(a.iframeContainer)},c.prototype.buildCloseButton=function(a){var b=this,c=a.closeButtonColor||"",d=a.closeButtonBackgroundColor||"",e=document.createElement("div");e.id=b.id+"-close",e.className="ve-icon ve-cross",e.style.color=c,e.style.backgroundColor=d,b.iframeContainer.appendChild(e),b.closeButton=e},c.prototype.buildOverlay=function(){var a=document.createElement("div");a.id=this.id+"-overlay",this.container.appendChild(a)},c.prototype.buildDragArea=function(){var a=this;a.dragArea=document.createElement("div"),a.dragArea.id=a.id+"-drag-area",a.iframeContainer.appendChild(a.dragArea)},c.prototype.buildIframe=function(a){var b=document.createElement("iframe");b.id=this.id,b.frameBorder=0,b.src=a,b.tabIndex="-1",this.iframeContainer.appendChild(b),this.iframe=b},c.prototype.buildHtml=function(a,b){var c=this,d=c.id+"-container";document.getElementById(d)||(c.buildIframeContainer(),a.closeBtn&&c.buildCloseButton(b),a.overlay&&c.buildOverlay(),a.isDraggable&&c.buildDragArea(),a.iframeUrl&&c.buildIframe(a.iframeUrl))},c.prototype.init=function(){var a,b=this;null===b.container&&(d.log(b.appName+". Adding to DOM"),a=document.createElement("div"),a.id="ve-"+b.appName+"-container",document.getElementsByTagName("body")[0].appendChild(a),b.container=a)},b.exports=c}()},{"../../Shared/Utils/Shell":82}],11:[function(a,b,c){!function(c){"use strict";function d(a,b){this.appContainer=a,this.windowPosition=b}function e(a){var b,c,d,e=0,f=a.getBoundingClientRect().right,g=a.children.length;for(d=0;g>d;d++)b=a.children[d].getBoundingClientRect().right,c=b-f,c>e&&(e=c);return e}function f(a){var b,c,d,e=0,f=a.getBoundingClientRect().left,g=a.children.length;for(d=0;g>d;d++)b=a.children[d].getBoundingClientRect().left,c=f-b,c>e&&(e=c);return e}var g=25,h=a("../../Shared/Utils/Dom/WindowDimensions");d.POSITIONS={TOP_LEFT:1,TOP_CENTER:2,TOP_RIGHT:3,MIDDLE_LEFT:4,MIDDLE_CENTER:5,MIDDLE_RIGHT:6,BOTTOM_LEFT:7,BOTTOM_CENTER:8,BOTTOM_RIGHT:9},d.prototype.placeVertically=function(){var a=this,b=a.windowPosition,c=d.POSITIONS;switch(b){case c.TOP_LEFT:case c.TOP_CENTER:case c.TOP_RIGHT:a.setPositionTop(a.appContainer);break;case c.MIDDLE_LEFT:case c.MIDDLE_CENTER:case c.MIDDLE_RIGHT:a.setPositionMiddle(a.appContainer);break;case c.BOTTOM_LEFT:case c.BOTTOM_CENTER:case c.BOTTOM_RIGHT:a.setPositionBottom(a.appContainer);break;default:a.setPositionTop(a.appContainer)}},d.prototype.placeVerticallyFitting=function(){var a=this,b=a.appHeight<h.getWindowHeight();b?a.placeVertically():a.setPositionTop(a.appContainer)},d.prototype.placeHorizontally=function(){var a=this,b=a.windowPosition,c=d.POSITIONS;switch(b){case c.TOP_LEFT:case c.MIDDLE_LEFT:case c.BOTTOM_LEFT:a.setPositionLeft(a.appContainer);break;case c.TOP_CENTER:case c.MIDDLE_CENTER:case c.BOTTOM_CENTER:a.setPositionCenter(a.appContainer);break;case c.TOP_RIGHT:case c.MIDDLE_RIGHT:case c.BOTTOM_RIGHT:a.setPositionRight(a.appContainer);break;default:a.setPositionCenter(a.appContainer)}},d.prototype.setPosition=function(){this.placeVerticallyFitting(),this.placeHorizontally();
},d.prototype.setPositionTop=function(a){var b=h.windowTop()+g;a.style.top=b+"px"},d.prototype.setPositionRight=function(a){var b=e(a)+g;a.style.right=b+"px"},d.prototype.setPositionBottom=function(a){var b=a.getElementsByTagName("iframe")[0],c=h.windowTop(),d=h.getWindowHeight(),e=b.getBoundingClientRect(),f=e.top-a.getBoundingClientRect().top;a.style.top=c+d-(e.height+f)-g+"px"},d.prototype.setPositionLeft=function(a){var b=f(a)+g;a.style.left=b+"px"},d.prototype.setPositionCenter=function(a){var b=c.parseInt(a.style.width)||a.offsetWidth,d=h.getWindowWidth(),e=0,f=d-b;e=f/2,a.style.left=e+"px"},d.prototype.setPositionMiddle=function(a){var b=a.getElementsByTagName("iframe")[0],c=h.windowTop(),d=h.getWindowHeight(),e=0,f=d-b.getBoundingClientRect().height,g=b.getBoundingClientRect().top-a.getBoundingClientRect().top;e=f/2-g+c,a.style.top=e+"px"},d.prototype.setAppHeight=function(a){var b=this;b.appHeight=a,b.appContainer.getElementsByTagName("iframe")[0].style.height=a+"px",b.appContainer.style.height=a+"px",b.placeVerticallyFitting()},b.exports=d}(window)},{"../../Shared/Utils/Dom/WindowDimensions":72}],12:[function(b,c,d){!function(d){"use strict";function e(){var a,b=this;i.apply(b,arguments),a=b.options||{},a.closeBtn=!0,a.isDraggable=!1,b.name="assist",b.paramAgentRequest=["searchTerm","currency","urlToExclude"]}var f=b("../../Shared/Utils/Domain.js"),g=b("../../Shared/Utils/Storage.js"),h=b("../../Shared/Utils/Shell.js"),i=b("./App.js");e.prototype=a.create(i.prototype),e.prototype.getParamAgentRequest=function(){var a=i.prototype.getParamAgentRequest.apply(this,arguments),b=this.customOptions,c=b.currency;return a.searchTerm=b.searchTerm,a.urlToExclude=document.location.href,c.enabled&&(a.currency=c.value),a},e.prototype.canAgentRun=function(a){var b=this,c=i.prototype.canAgentRun.apply(b,arguments),d=f.getSearchEngine(b.config.referrer),e=a.agentId,g=b.name,j=g+". Agent "+e+": ";return h.info(g+'. Search terms: "'+b.customOptions.searchTerm+'"'),c&&(a.showOnlyFromSearchEngine&&!d?(h.info(j+"Referrer is not a search Engine"),c=!1):a.hasProducts||(h.info(j+"No product matched the search terms"),a.showWhenNoProductFound&&a.searchBoxEnabled?h.info(j+"showWhenNoProductFound AND searchBox are enabled"):(h.info(j+"Can not show as showWhenNoProductFound OR searchBox is disabled"),c=!1))),c},e.prototype.processParamAgentRequest=function(a,b,c){var d,e=!!b;return"currency"===c?b?(d=a[c].currencyAbbreviation+" - "+a[c].currencySymbol,this.customOptions.currencyId=a[c].currencyId,g.getStorage().setItem("currency",a[c].currencyAbbreviation)):d="not found":d=b,h.info(c+": "+d),e},e.prototype.canAppRun=function(a){var b,c,d=this,e=0,f=!0;for(e=d.paramAgentRequest.length-1;e>=0&&f;e--)b=d.paramAgentRequest[e],c=a[b],d.config.appsMappings[b]&&d.config.appsMappings[b].length>0&&void 0!==c&&(f=d.processParamAgentRequest(a,c,b));return f},e.prototype.setup=function(){i.prototype.setup.apply(this,arguments),this.initSearchTerm(),this.initCurrency()},e.prototype.runAgentSettings=function(a){i.prototype.runAgentSettings.apply(this,arguments),a.saveSearchTerms&&this.storeSearchTerm()},e.prototype.init=function(a){var b=this;a=a||{},b.canAppRun(a)?(b.options={closeBtn:!0,overlay:a.overlay,windowPosition:a.windowPosition},i.prototype.init.apply(b,arguments)):(b.setStatus(b.status.Error),h.info("Assist can not run"))},e.prototype.getSpecificDataForIframe=function(){var a=this.getCustomOptions(),b={searchTerm:a.searchTerm,currencyId:a.currencyId||null,currentUrl:d.location.href};return b},c.exports=e}(window)},{"../../Shared/Utils/Domain.js":73,"../../Shared/Utils/Shell.js":82,"../../Shared/Utils/Storage.js":83,"./App.js":7}],13:[function(b,c,d){!function(){"use strict";function d(){var a,b=this;g.apply(b,arguments),a=b.options||{},a.isDraggable=!0,a.closeBtn=!1,b.name="chat",b.isDraggable=!0,b.handleDraggableId="ve-chat-iframe-drag-area",b.options=a}var e=b("../../Shared/Utils/Dom.js"),f=b("../../Shared/Utils/Shell.js"),g=b("./App.js");d.prototype=a.create(g.prototype),d.prototype.canAgentRun=function(a){var b=g.prototype.canAgentRun.apply(this,arguments),c=this.name+". Agent "+a.agentId+": ";return b&&a.profanityExceeded&&(f.info(c+"The number of profanity has been exeeded"),b=!1),b},d.prototype.init=function(a){var b=this,c=b.options||{};a=a||{},b.elementsToClose=[],c.overlay=a.overlay,c.windowPosition=a.windowPosition,b.options=c,g.prototype.init.apply(b,arguments),b.needsResponsiveIframe()&&b.makeIframeResponsive()},d.prototype.needsResponsiveIframe=function(){var b=1;return a.contains(this.agent.supportedDevices,b)},d.prototype.makeIframeResponsive=function(){e.addClass(this.container,"ve-responsive")},c.exports=d}()},{"../../Shared/Utils/Dom.js":67,"../../Shared/Utils/Shell.js":82,"./App.js":7}],14:[function(a,b,c){!function(){"use strict";function c(a,b){var c=parseInt(a.style.width)||a.offsetWidth;return b&&b.offsetLeft>0&&(c+=parseInt(b.style.width)||b.offsetWidth),c}function d(a){return a.pageY?a.pageY:a.clientY+document.body.scrollTop+document.documentElement.scrollTop}function e(a){return a.pageX?a.pageX:a.clientX+document.body.scrollLeft+document.documentElement.scrollLeft}function f(a,b,c,d){var e,f,g,h;d===j?(h="y",g="top"):d===k&&(h="x",g="left"),e=b.app[h]-(c[h]-b.window[h]),f=e,e<b.windowEdge[d]?f=b.windowEdge[d]:e+b.app[d]>b.window[d]&&(f=b.window[d]-b.app[d]),a.style[g]=f+"px"}function g(a,b,c,d){var e=parseInt(d.style.left)||d.offsetLeft,f=parseInt(d.style.top)||d.offsetTop,g=window.scrollY||window.pageYOffset,h=window.scrollX||window.pageXOffset;return{windowEdge:{width:h,height:g},window:{width:document.documentElement.clientWidth+h,height:document.documentElement.clientHeight+g,y:a-f,x:b-e},app:{width:c,height:parseInt(d.style.height)||d.offsetHeight,x:e,y:f}}}function h(a,b,c,d,e){this.appName=a,this.dragHandle=b,this.container=c,this.closeButton=e,this.appContainer=d}var i=a("../../Shared/Utils/Event"),j="height",k="width",l="mousemove",m="mouseup";h.prototype.onDragEvent=function(a){var b=d(a),h=e(a),i=this.container,l=this.mousePosition,m=g(b,h,c(this.container,this.closeButton),i);f(i,m,l,j),f(i,m,l,k)},h.prototype.handleEvent=function(a){var b=this,c=b.dragHandle,d=b.appContainer;switch(a=a||window.event,a.type){case"mousedown":i.addEvent(window,l,b),i.addEvent(window,m,b),b.saveMousePosition(a),c.style.width=d.offsetWidth+"px",c.style.height=d.offsetHeight+"px";break;case"mouseup":i.removeEvent(window,l,b),i.removeEvent(window,m,b),c.style.width="",c.style.height="";break;case"mousemove":b.onDragEvent(a)}},h.prototype.init=function(){i.addEvent(this.dragHandle,"mousedown",this)},h.prototype.saveMousePosition=function(a){var b=this.container;this.mousePosition={x:e(a)-(parseInt(b.style.left)||b.offsetLeft),y:d(a)-(parseInt(b.style.top)||b.offsetTop)}},b.exports=h}()},{"../../Shared/Utils/Event":74}],15:[function(b,c,d){"use strict";function e(){i.apply(this,arguments),this.name="panel",this.isDraggable=!1,this.options={isDraggable:!1,closeBtn:!0}}var f=b("../../Shared/Utils/Dom/ClassNames"),g=b("../../Shared/Utils/Shell"),h=b("../../Shared/Utils/Storage"),i=b("./App"),j=b("./PanelDisplay"),k=b("./PanelMarkupBuilder"),l="visible";e.prototype=a.create(i.prototype),e.prototype.setup=function(){i.prototype.setup.apply(this,arguments),this.initSearchTerm(),this.initCurrency()},e.prototype.getParamAgentRequest=function(){var a=i.prototype.getParamAgentRequest.apply(this,arguments),b=this.customOptions.currency;return b.enabled&&(a.currency=b.value),a},e.prototype.runAgentSettings=function(){i.prototype.runAgentSettings.apply(this,arguments),this.storeSearchTerm()},e.prototype.getSpecificDataForIframe=function(){var a=this.getCustomOptions(),b={searchTerm:a.searchTerm,currencyId:a.currency.currencyId||null};return b},e.prototype.createDisplayController=function(){var a,b=this,c={appIframe:b.appContainer,appContainer:b.container,pushWebsiteContent:b.agent.pushWebsiteContent,elementsToFocusOnApp:b.getElementsToFocusOnApp(),elementsToClose:b.getElementsToClose()};return a=new j(c),a.init(),a},e.prototype.init=function(a){var b=this;b.canAppRun(a)?i.prototype.init.apply(b,arguments):(b.setStatus(b.status.Error),g.info("Panel can not run"))},e.prototype.createMarkup=a.partialRight(i.prototype.createMarkup,k),e.prototype.canAppRun=function(b){var c=!0,d=this.customOptions.currency,e=b.currency;return d.enabled&&(e?(a.extend(d,e),h.getStorage().setItem("currency",e.currencyAbbreviation)):c=!1),c},e.prototype.remove=function(){var a=this;a.container&&f.hasClass(a.container,l)?a.displayController.hide():i.prototype.remove.call(a)},c.exports=e},{"../../Shared/Utils/Dom/ClassNames":69,"../../Shared/Utils/Shell":82,"../../Shared/Utils/Storage":83,"./App":7,"./PanelDisplay":16,"./PanelMarkupBuilder":17}],16:[function(b,c,d){!function(d){"use strict";function e(){}function f(a){a=a||{},a.animationTypeId=a.animationTypeId||k,this.pushWebsiteContent=a.pushWebsiteContent||!1,g.call(this,a)}var g=b("./AppDisplay"),h=b("../../Shared/Utils/Dom/ClassNames"),i="ve-body-shift-left",j="ve-animate",k=12,l={11:"ve-panel-shift-left",12:"ve-panel-reveal"};f.prototype=a.create(g.prototype),f.prototype.init=function(){h.addClass(this.appContainer,l[this.animationTypeId])},f.prototype.show=function(){g.prototype.show.call(this),this.pushWebsiteContent&&(h.addClass(d.body,j),h.addClass(d.body,i))},f.prototype.hide=function(){g.prototype.hide.apply(this,arguments),h.removeClass(d.body,i)},f.prototype.addEntryAnimation=e,f.prototype.setAppHeight=e,f.prototype.handleEvent=e,f.prototype.setPosition=e,c.exports=f}(document)},{"../../Shared/Utils/Dom/ClassNames":69,"./AppDisplay":8}],17:[function(b,c,d){!function(){"use strict";function d(){e.apply(this,a.slice(arguments))}var e=b("./AppMarkupBuilder");d.prototype=a.create(e.prototype),d.prototype.buildCloseButton=function(a){var b=this,c=a.closeButtonColor||"",d=a.closeButtonBackgroundColor||"",e=document.createElement("div");e.id=b.id+"-close",e.className="ve-icon ve-cross",e.style.color=c,e.style.backgroundColor=d,b.container.appendChild(e),b.closeButton=e},c.exports=d}()},{"./AppMarkupBuilder":10}],18:[function(b,c,d){!function(d){"use strict";function e(){var a=this;f.apply(a,arguments),a.name="promote",a.promoteAgent=null,a.productPage=!1,a.shareCode=i.getQueryParameter("shareCode",d.referrer)}var f=b("./App"),g=b("./Promote/DataValidator"),h=b("../../Shared/Utils/Shell"),i=b("../../Shared/Utils/Domain"),j=b("../../Shared/Utils/Capture"),k=b("../Capture/Plugins/ProductAggregator"),l=b("../Capture/Plugins/ProductLocalStorage"),m=2;e.prototype=a.create(f.prototype),e.prototype.isDraggable=!0,e.prototype.handleDraggableId="ve-promote-iframe-drag-area",e.prototype.checkRequiredInformation=function(a){var b,c=!1;return a&&(this.isProductPage()?(b=a[a.length-1],c=g.validateProduct(b)):c=g.validateBasket(a)),c},e.prototype.canAgentRun=function(a){var b,c,d=this,e=f.prototype.canAgentRun.apply(d,arguments),g=d.retrieveData(),i=d.name+". Agent "+a.agentId+": ";return e&&(d.shareCode||(b=d.checkRequiredInformation(g),c=d.hasSocialNetworks(a),e=b&&c,b||h.info(i+"There is not enough product data to show Promote"),c||h.info(i+"No Social Networks Added to the agent"))),e},e.prototype.isProductPage=function(){var a=!1;return k.isFromProductPage()&&(a=!0,this.productPage=!0),a},e.prototype.isCompleteOKPage=function(){return j.mediator.getFormTypeIdCaptured()===m},e.prototype.hasSocialNetworks=function(a){var b=!1;return a&&a.socialNetworks&&a.socialNetworks.length>0&&(b=!0),b},e.prototype.startUp=function(a){var b=this;a=a||{},b.promoteAgent=a,b.elementsToClose=[],b.options={closeBtn:!1,overlay:a.overlay,isDraggable:!0,windowPosition:a.windowPosition},f.prototype.init.apply(b,arguments)},e.prototype.init=function(a){var b=this;j.mediator.hasOnLoadDataBeenCaptured()?b.startUp(a):j.mediator.on("capture_onload-data-captured",function(){b.startUp(a)})},e.prototype.retrieveData=function(){var a;return a=this.isProductPage()?l.getBrowsedProducts():l.getBasket()},e.prototype.getSpecificDataForIframe=function(){var a=this;return{promoteLandingUrl:a.config.promoteLanding,journeyCode:a.config.journeyCode,productPage:a.productPage,completeOKPage:a.isCompleteOKPage(),shareCode:a.shareCode,isMobile:a.browser.isMobile(),titleSnippet:a.agent.titleSnippet}},c.exports=e}(document)},{"../../Shared/Utils/Capture":63,"../../Shared/Utils/Domain":73,"../../Shared/Utils/Shell":82,"../Capture/Plugins/ProductAggregator":34,"../Capture/Plugins/ProductLocalStorage":35,"./App":7,"./Promote/DataValidator":19}],19:[function(a,b,c){!function(){"use strict";function a(b,c,d){var e,f,g,h,i=!1,j=!0,k=!0;for(d=!!d,c=c||[],f=c.length,h=0;f>h&&k;h++)g=c[h].constructor===Array,e=g?a(b,c[h],!0):b.hasOwnProperty(c[h]),j=j&&e,i=i||e,k=d&&!i||j&&!d;return d&&i||j}var c;c={validateBasket:function(b){var c,d,e=!0,f=["name","url"];for(d=0;d<b.length&&e;d++)c=b[d],e=a(c,f);return 0===b.length&&(e=!1),e},validateProduct:function(b){var c=!1,d=["name","description","url",["largeImage","smallImage"],["priceAndCurrency","price"]];return c=a(b,d)}},b.exports=c}()},{}],20:[function(a,b,c){!function(c){"use strict";function d(a,b,d){this.referrer=a,this.regExpSettings=b,this.searchTermMappings=d,this.URL=c.location.href,this.searchTerm=null}var e=a("../../../Shared/Utils/Domain"),f=a("../../../Shared/Utils/Storage"),g=a("../../../Shared/Utils/Capture"),h=a("../../../Shared/Utils/Shell"),i=a("./SearchTermFromRegExp");d.prototype.storeSearchTerm=function(){this.searchTerm&&f.getStorage().setItem("searchTerm",this.searchTerm)},d.prototype.getSearchTerm=function(){return null===this.searchTerm&&this.findSearchTerm(),this.searchTerm},d.prototype.getSearchTermFromSearchEngine=function(a){var b,d,f;return d=e.getSearchEngine(a),d&&(b=e.getSearchEngineKeywords()[d],b&&(f=e.getQueryParameter(b,a)||"",f=f.replace(/\+/g," "),f=c.decodeURIComponent(f))),f=f||"",h.info("Search terms from the search engine: "+f),f},d.prototype.getSearchTermFromPage=function(){var a;return a=g.getAppsMappingsValue(this.searchTermMappings),a=a||"",h.info("Search terms from the page: "+a),a},d.prototype.getSearchTermFromRegExp=function(){var a,b;return b=new i(this.regExpSettings,this.URL),a=b.getSearchTerm(),a=a||"",h.info("Search terms from the RegExp: "+a),a},d.prototype.getSearchTermFromStorage=function(){var a;return a=f.getStorage().getItem("searchTerm"),a=a||"",h.info("Search terms from the storage: "+a),a},d.prototype.findSearchTerm=function(){var a;a=this.getSearchTermFromSearchEngine(this.referrer),a||(a=this.getSearchTermFromPage()),a||(a=this.getSearchTermFromRegExp()),a||(a=this.getSearchTermFromStorage()),h.info("found search terms: "+a),this.searchTerm=a},b.exports=d}(window)},{"../../../Shared/Utils/Capture":63,"../../../Shared/Utils/Domain":73,"../../../Shared/Utils/Shell":82,"../../../Shared/Utils/Storage":83,"./SearchTermFromRegExp":21}],21:[function(a,b,c){!function(){"use strict";function c(a,b){this.regExpSettings=a||[],this.URL=b}var d=a("../../../Shared/Utils/Domain.js"),e=a("../../../Shared/Utils/Shell.js");c.prototype.replaceWithSpaces=function(a,b){return b&&("function"==typeof b.test&&(b=b.source),"string"==typeof b&&(a=a.replace(new RegExp(b,"gi")," "))),a},c.prototype.applyCustomFunction=function(a,b){var c;if("function"==typeof b)try{c=b(a),"string"==typeof c?a=c:e.error('The setting "customRegExp" is not providing a valid string.')}catch(d){e.error('The setting "customRegExp" is not a valid function.')}return a},c.prototype.cleanSearchTerm=function(a,b){return b=d.recursiveURIDecode(b),b=this.applyCustomFunction(b,a.customRegExp),b=this.replaceWithSpaces(b,a.replaceCharactersBySpace)},c.prototype.getFromRegExp=function(a,b){var c="",d=a.regexp;return-1!==b.search(d)&&(c=b.match(d)[1]||""),c},c.prototype.getSearchTerm=function(){var a,b,c=this.URL,d="",e=this.regExpSettings.length;for(a=0;e>a;a++)if(b=this.regExpSettings[a],d=this.getFromRegExp(b,c)){d=this.cleanSearchTerm(b,d);break}return d},b.exports=c}()},{"../../../Shared/Utils/Domain.js":73,"../../../Shared/Utils/Shell.js":82}],22:[function(b,c,d){!function(){"use strict";function d(b,c,d){b=b||{},a.extend(this,{tagData:b,plugins:c||{},customEvents:d,storage:q.getStorage("Ve."+((b.captureConfig||{}).JourneyId||"0")+"."),formIdentificationStarted:!1})}var e=b("./UtilsGlobal"),f=b("./FormIdentificationCore"),g=b("../Shared/Classes/Browser"),h=b("../Shared/Classes/QueueManager"),i=b("./AppsInitialiser"),j=b("../Shared/Classes/ApiManager"),k=b("./AppsCore"),l=b("./CaptureCore"),m=b("./VeAPI"),n=b("../Shared/Classes/CaptureData"),o=b("../Shared/Utils/Shell"),p=b("../Shared/Utils/ComplianceMediator"),q=b("../Shared/Utils/Storage"),r=b("../Shared/Utils/TagTransformer"),s=b("../Shared/Utils/UtilsIframe"),t=b("../Shared/Utils/Array"),u=b("../Shared/Utils/Domain"),v={productAggregator:b("./Capture/Plugins/ProductAggregator"),liveDataStorer:b("./Capture/Plugins/LiveDataStorer"),productLocalStorage:b("./Capture/Plugins/ProductLocalStorage")};d.prototype.forceAppOnLoadWhenRequired=function(){var a,b=this.tagData;a=u.getQueryParameter("veAppForceLoad",document.referrer),a&&(this.tagData.apps=r.appForceLoad(b.apps,a))},d.prototype.init=function(){var a,b,c,d,i,k,p=this;m(window.VeAPI),n.init(this.customEvents),p.forceAppOnLoadWhenRequired(),a=p.tagData,b=new e(a),c=new j({domain:a.appsServicesUrl,queueManager:h,methodWindow:s()}),d=new l(a),i=new f(a),k=new g(a.settings.unsupportedBrowsersVersionPlatform),o.log("initialising capture-apps"),p.appsApi=c,p.globalUtils=b,k.init(),p.checkAppsSupported(k)&&(p.initializePlugins(),p.setUpAppsInit(i,d,k)),p.startFormIdentification(i,d),b.init(c,p.storage)},d.prototype.startFormIdentification=function(a,b){var c=this;c.formIdentificationStarted||(o.log("starting form identification process"),c.listenForCompliance(a),c.listenForCaptureConfigured(a,b),c.listenForNoCaptureMatchingForm(a,b),a.init(),c.formIdentificationStarted=!0)},d.prototype.listenForCompliance=function(a){function b(a){p.init(c,a.getFormId())}var c=this.tagData;a.on("form-classicForms_identification-complete",b)},d.prototype.listenForCaptureConfigured=function(a,b){function c(a){b.init(a)}a.on("form_capture-configured",c)},d.prototype.listenForNoCaptureMatchingForm=function(a,b){function c(){b.onLoadDataNothingToCapture()}a.on("form_no-capture-matching-form",c)},d.prototype.checkAppsSupported=function(a){var b=!0;return a.isSupported||(o.info("Not loading VeApps : "+a.messageNotSupported()),b=!1),u.isInIframe()&&(o.info("Not loading VeApps: within an Iframe"),b=!1),b},d.prototype.setUpAppsInit=function(a,b,c){var d,e=this;d=new k(e.appsApi,e.tagData,c),i.init({captureCore:b,appsCore:d,storage:e.storage,utilsController:e.globalUtils,formIdentificationCore:a})},d.prototype.getEnabledApps=function(){var a,b,c,d=this,e=d.tagData.apps||[],f=[];for(c=0;c<e.length;c++)a=e[c],a.name&&a.enabled&&(b=a.name.toLowerCase(),f.push(b));return f},d.prototype.getDefaultPlugins=function(){var a=[];return this.tagData.settings.liveDataEnabled&&(a=t.concatWithoutDuplicate(a,this.plugins.liveData)),a},d.prototype.getActivePlugins=function(){var b,c,d,e=this,f=e.getEnabledApps(),g=e.tagData.criteriaFilters||{},h=e.getDefaultPlugins(),i=e.plugins.byApp;for(b in g)a.contains(f,b)&&(d=i[b],d&&d.length>0&&(c=g[b]||[],c.length>0&&(h=t.concatWithoutDuplicate(d,h))));return h},d.prototype.initializePlugins=function(){var b=this;a.each(b.getActivePlugins(),function(a){v[a]&&v[a].init({appsApi:b.appsApi,utilsController:b.globalUtils})})},c.exports=d}()},{"../Shared/Classes/ApiManager":52,"../Shared/Classes/Browser":53,"../Shared/Classes/CaptureData":54,"../Shared/Classes/QueueManager":59,"../Shared/Utils/Array":62,"../Shared/Utils/ComplianceMediator":65,"../Shared/Utils/Domain":73,"../Shared/Utils/Shell":82,"../Shared/Utils/Storage":83,"../Shared/Utils/TagTransformer":86,"../Shared/Utils/UtilsIframe":88,"./AppsCore":3,"./AppsInitialiser":4,"./Capture/Plugins/LiveDataStorer":33,"./Capture/Plugins/ProductAggregator":34,"./Capture/Plugins/ProductLocalStorage":35,"./CaptureCore":23,"./FormIdentificationCore":38,"./UtilsGlobal":49,"./VeAPI":50}],23:[function(a,b,c){!function(c){"use strict";function d(a){this.tagData=a}var e=a("./Capture/CaptureApi"),f=a("./Capture/FormChangeStatus"),g=a("./Capture/CapturedFormMapping"),h=a("../Shared/Utils/Shell"),i=a("../Shared/Utils/Capture"),j=a("../Shared/Utils/PageMediator"),k=a("./Capture/FormMapping");d.prototype.init=function(a){var b=this,c=b.createCaptureApi();b.checkForFormStatusChange(c,a),b.setFormTypeId(a),b.setFormMapping(c,a),b.startCapture(),b.publishVeApiMethods()},d.prototype.createCaptureApi=function(){var a=new e(this.tagData.captureConfig.datareceiverurl);return a},d.prototype.checkForFormStatusChange=function(a,b){var c=new f(a,this.tagData.journeycode);c.checkForm(b.FormTypeId)},d.prototype.setFormTypeId=function(a){this.formTypeId=a.FormTypeId},d.prototype.setFormMapping=function(a,b){function c(a){var b=d.getAgentManager();b&&b.findAgents(a)}var d=this;d.capturedFormMapping=new g(d.tagData,c,a),d.formMapping=new k(b.formfields,d.capturedFormMapping)},d.prototype.startCapture=function(){function a(){h.log("running VeCapture"),b.formMapping?b.formMapping.init():h.error("trying to start capture without initialising!"),i.mediator.onLoadDataHasBeenCaptured(),i.mediator.setFormTypeIdCaptured(b.formTypeId)}var b=this;j.hasBeenLoaded()?a():j.on("page_loaded",a)},d.prototype.onLoadDataNothingToCapture=function(){function a(){h.log("no onload data to capture"),i.mediator.onLoadDataHasBeenCaptured()}j.hasBeenLoaded()?a():j.on("page_loaded",a)},d.prototype.publishVeApiMethods=function(){var a=this;c.VeAPI.capture&&(c.VeAPI.capture.getCapturedControls=function(){return a.getCapturedDataValues()})},d.prototype.setAgentManager=function(a){this.agentManager=a},d.prototype.getAgentManager=function(){return this.agentManager||null},d.prototype.getCapturedDataValues=function(){var a=[];return this.capturedFormMapping&&(a=this.capturedFormMapping.getData()),a},b.exports=d}(window)},{"../Shared/Utils/Capture":63,"../Shared/Utils/PageMediator":79,"../Shared/Utils/Shell":82,"./Capture/CaptureApi":24,"./Capture/CapturedFormMapping":25,"./Capture/FormChangeStatus":27,"./Capture/FormMapping":30}],24:[function(a,b,c){!function(c){"use strict";function d(a){for(var b=h.now()+"";b.length<a;)b+="x";return b.replace(/x/g,function(){var a=c.Math.floor(10*c.Math.random())+"";return a[0]})}function e(a){var b,c=this;a=a||"",b=a.split("/")[0],c.apiManager=new i({domain:b,queueManager:f,methodWindow:g()}),c.instanceId=d(20)}var f=a("../../Shared/Classes/QueueManager"),g=a("../../Shared/Utils/UtilsIframe"),h=a("../../Shared/Utils/Date"),i=a("../../Shared/Classes/ApiManager");e.prototype.dataReceiverPath=["Data","ProcessData"],e.prototype.changeStatusPath=["Data","ChangeStatus"],e.prototype.send=function(a,b){a.pageId=this.instanceId,this.apiManager.request(this.dataReceiverPath,null,null,null,b,a)},e.prototype.updateStatus=function(a,b){a.pageId=this.instanceId,this.apiManager.request(this.changeStatusPath,null,null,null,b,a)},b.exports=e}(window)},{"../../Shared/Classes/ApiManager":52,"../../Shared/Classes/QueueManager":59,"../../Shared/Utils/Date":66,"../../Shared/Utils/UtilsIframe":88}],25:[function(a,b,c){!function(){"use strict";function c(a,b,c){var d,e=this;a=a||{},d=a.captureConfig||{},e.callForChangedData=b,e.captureApi=c,e.data=[],e.basicParameters={journeyCode:a.journeycode,captureUrl:g.getHref().replace(/http(s)?\:\/\/(www\.)?/,"").replace(/([#;])/gi,"?"),customerId:d.customerid}}var d=a("../../Shared/Utils/Capture"),e=a("../../Shared/Utils/Json"),f=a("../../Shared/Utils/Shell"),g=a("../../Shared/Utils/Domain"),h=a("../../Shared/Utils/String");c.prototype.getParameters=function(a,b,c){var d=e.parseJSON(e.stringify(this.basicParameters));return d.valueField=b,d.seriesNumber=c,d.identifyPage=a.identifypage,d.formMappingId=a.FormMappingId,d.fieldIdName=a.ClientFieldName,d},c.prototype.doRequest=function(a,b,c){var d=null,e="DataReceiver request for FormMapping: "+a.FormMappingId;b&&!h.isCreditCard(b)&&(!a.isEmail||a.isEmail&&h.isValidEmail(b))&&(f.log("Captured formMapping: "+a.FormMappingId+" - data captured: "+b),d=this.getParameters(a,b,c),this.captureApi.send(d,e))},c.prototype.changeData=function(a,b,c){var d,e=!1,f=!1;for(d=this.data.length-1;d>=0;d--)if(this.data[d].fieldId===a&&this.data[d].series===c){e=!0,this.data[d].fieldValue!==b&&(f=!0,this.data[d].fieldValue=b);break}return{isValueInArray:e,valueChanged:f}},c.prototype.storeData=function(a,b,c){var d;return c=c||1,d=this.changeData(a,b,c),d.isValueInArray||(d.valueChanged=!0,this.data.push({fieldId:a,fieldValue:b,series:c})),d.valueChanged},c.prototype.processData=function(a,b,c){this.storeData(a.FormMappingId,b,c)&&this.callForChangedData(this.data),this.doRequest(a,b,c)},c.prototype.processRawSeriesData=function(a,b){var c;for(c=0;c<b.length;c++)this.processData(a,b[c],c+1)},c.prototype.sendData=function(a,b){"RawSeries"===a.FieldTypeName?(d.mediator.dataHasBeenProcessed(a,b),this.processRawSeriesData(a,b)):(d.mediator.dataHasBeenProcessed(a,[b[0]]),this.processData(a,b[0],null))},c.prototype.getData=function(){return this.data},b.exports=c}()},{"../../Shared/Utils/Capture":63,"../../Shared/Utils/Domain":73,"../../Shared/Utils/Json":76,"../../Shared/Utils/Shell":82,"../../Shared/Utils/String":84}],26:[function(a,b,c){!function(){"use strict";function c(a){function b(a){if(d.log("Loading custom events."),f=g,e.isEmpty(a))f.hasCustomSettings=!1;else{f.hasCustomSettings=!0;for(c in a)f[c]=a[c]}return f}var c="",f={},g={reload:function(a){b(a)},onLoad:function(){},onPageLoad:function(){},onFormIdentified:function(a,b){return!1},onGetCaptureValue:function(a,b,c){return b},onBackButton:function(){return!0}};return a&&b(a),f}var d=a("../../Shared/Utils/Shell"),e=a("../../Shared/Utils/Object");b.exports=c}()},{"../../Shared/Utils/Object":78,"../../Shared/Utils/Shell":82}],27:[function(a,b,c){!function(){"use strict";function c(a,b){this.captureApi=a,this.journeyCode=b}var d="2",e="3",f=a("../../Shared/Utils/Shell");c.prototype.updateStatus=function(a,b){var c="Change Status request as form type "+b+" identified -> form status: "+a,d={journeyCode:this.journeyCode,status:a};f.info(c),this.captureApi.updateStatus(d,c)},c.prototype.checkForm=function(a){var b;a+="",a===d&&(b=1,this.updateStatus(b,a)),a===e&&(b=9,this.updateStatus(b,a))},b.exports=c}()},{"../../Shared/Utils/Shell":82}],28:[function(a,b,c){!function(c){"use strict";function d(a,b){this.formList=a||[],this.pageURL=b||"",this.isIdentificationComplete=!1,this.matchedForms=[]}var e=6,f=a("../../Shared/Utils/Capture"),g=a("../../Shared/Utils/Domain");d.prototype.init=function(){var a,b=this.pageURL||"";b=f.toLowerCaseString(b),b=b.replace(/http(s)?\:\/\/(www\.)?/,""),b=b.replace(/([#;])/gi,"?"),a=b.split("?",2),this.pageBaseURL=a.shift(),this.pageParameters="",a[0]!==c&&(this.pageParameters="?"+a[0])},d.prototype.matchesWhiteList=function(a){var b,c=!1,d=a.FormURLs||[],g=d.length,h=this.pageURL,i=this.pageBaseURL;for(c=a.FormTypeId===e&&0===g,b=0;g>b&&!c;b++)a.whiteListUseRegex?c=d[b].test(h):(c=f.stringMatch(d[b],i),c=c&&this.matchParameters(a.Paremeter));return c},d.prototype.matchesBlackList=function(a){var b,c=!1,d=a.FormBlackListURLs||[],e=d.length,g=this.pageURL,h=this.pageBaseURL;for(b=0;e>b&&!c;b++)c=a.blackListUseRegex?d[b].test(g):f.stringMatch(d[b],h);return c},d.prototype.formMatchesURL=function(a){var b;return b=this.matchesWhiteList(a),b=b&&!this.matchesBlackList(a)},d.prototype.getMatchingForms=function(){return this.matchedForms},d.prototype.matchFormsByUrl=function(){var a,b,c=[],d=this.formList||[],e=d.length;for(a=0;e>a;a++)b=d[a],this.formMatchesURL(b)&&c.push(b);return this.matchedForms=c,c},d.prototype.matchParameters=function(a){var b,c,d,e,h,i=this.pageParameters,j=!0;for(a=a||[],b=0;b<a.length&&j;b++)c=f.toLowerCaseString(a[b].Paremeter),d=f.toLowerCaseString(a[b].ParameterValue),"*"===d?(h=new RegExp("[?&]"+c+"([=&]|$)","i"),j=h.test(i)):(e=g.getQueryParameter(c,i),j=f.stringMatch(d,e));return j},d.prototype.preferFormsWithParameters=function(){var a,b,c,d=this.matchedForms,e=d.length,f=[],g=!1;for(c=0;e>c;c++)b=d[c],b.Paremeter&&b.Paremeter.length>0&&(g=!0,f.push(b));return a=g?f:d,this.matchedForms=a,a},d.prototype.preferFormsWithVisibleFormMappings=function(){var a,b,c,d,g,h,i,j=this.matchedForms,k=[],l=!1;for(b=j.length,a=0;b>a;a++)if(c=j[a],c.FormTypeId===e)k.push(c);else for(d=c.FormFields||[],g=d.length,h=0;g>h;h++)f.checkForControls(d[h]).length>0&&k.push(c);return l=k.length>0,i=l?k:j,this.matchedForms=i,i},d.prototype.identificationComplete=function(a){return"boolean"==typeof a&&(this.isIdentificationComplete=a),this.isIdentificationComplete},d.prototype.forceFormMatch=function(a){a instanceof Array||(a=[a]),this.getMatchingForms=function(){return a}},d.prototype.getFormId=function(){var a=0,b=this.matchedForms;return 1===b.length?a=b[0].FormId:b.length>1&&(a=-1),a},b.exports=d}()},{"../../Shared/Utils/Capture":63,"../../Shared/Utils/Domain":73}],29:[function(a,b,c){!function(){"use strict";function c(a){function b(a){for(var b=0,c=[];b<a.length;b++)c=d.concatWithoutDuplicate(c,a[b].FormFields);return c}function c(){var b;for(b=0;b<t.length;b++)t[b]!==a&&(u=d.concatWithoutDuplicate(u,t[b]))}function g(){u.length>0&&!(w.length>0)&&(w=b(u))}function h(){0===x.length&&(v.length>0||w.length>0)&&(x=d.concatWithoutDuplicate(v,w))}function i(){var b,c,f=d.concatWithoutDuplicate(a,u);for(b=0;b<x.length;b++)c=x[b].FormMappingId,x[b].FormTypeId=e.getFormTypeIdByFormMappingId(c,f)}function j(b){var c,d=!0;for(b=parseInt(b),c=0;c<a.length;c++)d=d&&a[c].FormTypeId===b;return d}function k(){var b;for(b=0;b<a.length;b++)r=d.pushWithoutDuplicate(a[b].appName,r),s[a[b].appName]?s[a[b].appName]=d.pushWithoutDuplicate(a[b],s[a[b].appName]):s[a[b].appName]=[a[b]]}function l(){(!p&&6===a[0].FormTypeId||p&&j(6))&&(q=!0)}function m(){function a(a,b){return parseInt(a.priority)>parseInt(b.priority)?1:parseInt(b.priority)>parseInt(a.priority)?-1:0}var b;for(b in s)s[b].sort(a)}function n(){0!==a.length&&(a.length>1&&(p=!0),l(),p||q?q?o=6:(o=1,v=b(a)):(v=a[0].FormFields,o=a[0].FormTypeId))}var o,p=!1,q=!1,r=[],s={},t=arguments,u=[],v=[],w=[],x=[];n(),q?(k(),m()):(c(),g(),h(),i()),this.FormTypeId=o,this.formfields=e.initialiseFormMappings(x),this.customerid=f.captureConfig.customerid,this.IdentifyAbandonmentOr=f.captureConfig.IdentifyAbandonmentOr,this.NumberIdentifiedFields=f.captureConfig.NumberIdentifiedFields,this.datareceiverurl=f.captureConfig.datareceiverurl,this.getAppsAvailable=function(){return r},this.getAgents=function(a,b){return s[a]&&s[a][b]?s[a][b].appAgents:!1},this.getFormCountPerApp=function(a){return s[a]?s[a].length:0},this.getFormIdForApp=function(a,b){return s[a]&&s[a][b]?s[a][b].FormId:0}}var d=a("../../Shared/Utils/Array"),e=a("../../Shared/Utils/Capture");b.exports=c}()},{"../../Shared/Utils/Array":62,"../../Shared/Utils/Capture":63}],30:[function(b,c,d){!function(){"use strict";function d(a){var b,c,d={onLoadFormMappings:[],onChangeFormMappings:[],dynamicFormMappings:[]};for(c=a.length-1;c>=0;c--)switch(b=a[c],b.identifypage=!1,a[c].DomEvent){case"OnLoad":d.onLoadFormMappings.push(b);break;case"OnChange":d.onChangeFormMappings.push(b);break;case"OnloadOnChange":d.onLoadFormMappings.push(b),d.onChangeFormMappings.push(b);break;case"DynamicPageIdentified":b.identifypage=!0,d.dynamicFormMappings.push(b);break;case"DynamicActivity":d.dynamicFormMappings.push(b);break;default:h.error("unknown event type: "+b.DomEvent)}return d}function e(a,b){var c,d=a.length!==b.length;for(c=0;c<a.length&&!d;c++)d=a[c]!==b[c];return d}function f(a,b){var c;a=a||[],c=d(a),this.onLoadFormMappings=c.onLoadFormMappings,this.onChangeFormMappings=c.onChangeFormMappings,this.dynamicFormMappings=c.dynamicFormMappings,this.dynamicFormMappingInterval=null,this.captureData=g,this.capturedFormMapping=b}var g=b("../../Shared/Classes/CaptureData"),h=b("../../Shared/Utils/Shell"),i=b("../../Shared/Utils/Event"),j=b("../../Shared/Utils/Functions"),k=b("../../Shared/Utils/Dom/ElementSelectors"),l=b("../../Shared/Utils/ComplianceMediator"),m=b("../../Shared/Utils/Capture"),n=!1;
f.prototype.checkForCompliance=function(b,c){b.isEmail&&a.any(c,function(a){return a.length>0})&&l.emit("compliance_needed",b.ClientFieldName)},f.prototype.processData=function(a,b){this.checkForCompliance(a,b),this.capturedFormMapping.sendData(a,b)},f.prototype.onLoadChangeEvents=function(a){var b=this.captureData,c=b.getValue(a.ClientFieldName,a.HtmlAttributeTag,a.FormMappingId,a.htmlPath);c.length>0&&(this.processData(a,c),m.mediator.onChangeDataHasBeenCaptured())},f.prototype.addLoadEvent=function(){var a;for(a=this.onLoadFormMappings.length-1;a>=0;a--)this.onLoadChangeEvents(this.onLoadFormMappings[a])},f.prototype.addChangeEvent=function(){var a=0,b=0,c=null;for(a=this.onChangeFormMappings.length-1;a>=0;a--)for(c=k.querySelectorAll(this.onChangeFormMappings[a].ClientFieldName),this.onChangeFormMappings[a].onLoadChangeEvents=j.bind(this.onLoadChangeEvents,this,this.onChangeFormMappings[a]),b=c.length-1;b>=0;b--)i.addEvent(c[b],"change",this.onChangeFormMappings[a].onLoadChangeEvents)},f.prototype.onDynamicFormMappingInterval=function(){var a,b,c,d,f=this,g=f.captureData;for(a=f.dynamicFormMappings.length-1;a>=0;a--)c=f.dynamicFormMappings[a],d=g.getValue(c.ClientFieldName,c.HtmlAttributeTag,c.FormMappingId),b=c.oldValues||[],e(d,b)&&(c.oldValues=d,f.processData(c,d));m.mediator.onRerenderDataHasBeenCaptured()},f.prototype.addDynamicEvent=function(){this.onDynamicFormMappingIntervalBinded=j.bind(this.onDynamicFormMappingInterval,this),this.dynamicFormMappingInterval=setInterval(this.onDynamicFormMappingIntervalBinded,750)},f.prototype.init=function(){n||(n=!0,this.addLoadEvent(),this.addChangeEvent(),this.addDynamicEvent())},c.exports=f}()},{"../../Shared/Classes/CaptureData":54,"../../Shared/Utils/Capture":63,"../../Shared/Utils/ComplianceMediator":65,"../../Shared/Utils/Dom/ElementSelectors":71,"../../Shared/Utils/Event":74,"../../Shared/Utils/Functions":75,"../../Shared/Utils/Shell":82}],31:[function(a,b,c){!function(){"use strict";function a(a){function b(){var a={":text":"value",":radio":"value",":checkbox":"checkbox",":hidden":"value",select:"value",textarea:"value"},b=a[p];return"Value"===n?b?b:"innerHTML":n}function c(){var c={":text":"input[type='text']",":radio":"input[type='radio']",":checkbox":"input[type='checkbox']",":hidden":"input[type='hidden']",select:"select",textarea:"textarea"},d=c[a.HtmlType];n=b(),d&&(p=d)}function d(){var a=0,b=j.length;return"Raw"===l||"RawSeries"===l?a:(0===j.indexOf("*")&&a++,j.indexOf("*",1)===b-1&&(a+=2),a)}function e(){var b=d(a),c=[function(){return{clientFieldName:j,fieldTypeName:l}},function(){return{clientFieldName:p+"["+l.toLowerCase()+"$='"+j.substring(1,j.length)+"']",fieldTypeName:"RawSeries"}},function(){return{clientFieldName:p+"["+l.toLowerCase()+"^='"+j.substring(0,j.length-1)+"']",fieldTypeName:"RawSeries"}},function(){return{clientFieldName:p+"["+l.toLowerCase()+"*='"+j.substring(0,j.length-1).substring(1,j.length)+"']",fieldTypeName:"RawSeries"}}][b]();j=c.clientFieldName,l=c.fieldTypeName}function f(){var a={Id:"#"+j,Name:"[name='"+j+"']",Class:"."+j},b=a[l];b&&(j=b,l="Raw")}function g(){return"Raw"===l||"RawSeries"===l?void(n=b()):(c(),e(),void f())}function h(){var b=d(a),c=["","^","$","*"];return c[b]}function i(){return"Raw"===l||"RawSeries"===l?VEjQuery(j):VEjQuery()}var j=a.ClientFieldName,k=a.DomEvent,l=a.FieldTypeName,m=a.FormMappingId,n=a.HtmlAttributeTag,o=a.IdentifyAbandonment,p=a.HtmlType,q=a.FormMappingTypeId,r=a.FormTypeId,s=a.isEmail,t=a.HtmlPath;g(),this.ClientFieldName=j,this.DomEvent=k,this.FieldTypeName=l,this.FormMappingId=m,this.HtmlAttributeTag=n,this.IdentifyAbandonment=o,this.HtmlType=p,this.formMappingTypeId=q,this.formTypeId=r,this.isEmail=s,this.htmlPath=t,this.getElementsWithSelector=function(){return i()},this.getFilter=function(){return h()}}b.exports=a}()},{}],32:[function(a,b,c){var d=a("../../Shared/Utils/Shell");b.exports=function(){"use strict";function a(){var a="klarnaCheckoutIntegration";document.getElementById(a)||(e=document.createElement("div"),e.id=a,e.style.display="none",document.body.appendChild(e))}function b(a,b){var c="h_KlarnaCheckout_",d=document.getElementById(c+a);d||(d=document.createElement("input"),d.type="hidden",d.id=c+a,d.name=c+a,e.appendChild(d)),d.value=b}function c(a){var c,d,e,f,g=["email","postal_code","given_name","family_name"];if(a)for(d=0,e=g.length;e>d;d++)c=g[d],f=a[c],f&&b(c,f)}var e;void 0!==window._klarnaCheckout&&window._klarnaCheckout(function(b){a(),d.info("Loading Klarna intergation"),b.on({change:function(a){c(a)}})})}},{"../../Shared/Utils/Shell":82}],33:[function(a,b,c){!function(){"use strict";var c=a("../../../Shared/Utils/Capture"),d=a("../../Session/SessionMediator"),e=a("./ProductAggregator"),f=function(){},g={},h=["api","live","history"],i=["api","live","basket"];g.sessionId=null,g.queued=!1,g.isReady=!1,g.init=function(a){a=a||{},this.api=a.appsApi,this.initSessionId(),this.subscribeToDataCaptureOnLoad()},g.initSessionId=function(){d.isSessionIdRetrieved()?(this.sessionId=d.getSessionId(),this.isReady=!0):this.subscribeToSessionInit()},g.subscribeToSessionInit=function(){var a=this;d.once("session_retrieved",function(b){a.sessionId=b,a.isReady=!0,a.queued&&(a.sendCapturedData(),a.queued=!1)})},g.subscribeToDataCaptureOnLoad=function(){var a=this;c.mediator.on("capture_onload-data-captured",function(){a.isReady?a.sendCapturedData():a.queued=!0})},g.sendCapturedData=function(){var a=e.getProducts(),b=e.getBasket(),c={sessionId:this.sessionId,withoutCredentials:!0,requestMethod:"POST"};a=JSON.parse(JSON.stringify(a)),b=JSON.parse(JSON.stringify(b)),a.length>0&&(c.products=a,this.api.request(h,void 0,f,f,"sending product to live data",c)),b.length>0&&(c.products=b,this.api.request(i,void 0,f,f,"sending basket to live data",c))},b.exports=g}()},{"../../../Shared/Utils/Capture":63,"../../Session/SessionMediator":48,"./ProductAggregator":34}],34:[function(a,b,c){!function(){"use strict";var c,d=a("../../../Shared/Utils/Capture"),e=1,f=4,g={8:"totalBasket",10:"sku",11:"name",12:"description",13:"smallImage",14:"largeImage",15:"price",16:"priceAndCurrency",29:"url"};c={dataContainer:{products:[],basket:[]},hasAggregatedDataFromProductPage:!1,init:function(){var a=this,b=d.mediator;b.on("capture_data-processed",function(b,c){a.aggregate(b,c)})},getPropertyNameByFormMappingTypeId:function(a){var b=!1;return a&&g[a]&&(b=g[a]),b},processCapturedData:function(a,b,c){var d,e,f=this.dataContainer[a];if(f)for(d=0;d<c.length;d++)e=this.getPropertyNameByFormMappingTypeId(b),e&&("totalBasket"===e?this.dataContainer.totalBasket=c[d]:f[d]||(f[d]={}),f[d][e]=c[d])},aggregate:function(a,b){var c=this,d=a.formMappingTypeId,g=a.formTypeId;b&&b.length>0&&(g===e?c.processCapturedData("basket",d,b):g===f&&(c.hasAggregatedDataFromProductPage=!0,c.processCapturedData("products",d,b)))},isFromProductPage:function(){return this.hasAggregatedDataFromProductPage},getProducts:function(){return this.dataContainer.products},getBasket:function(){return this.dataContainer.basket},setBasket:function(a){this.dataContainer.basket=a},getTotalBasket:function(){return this.dataContainer.totalBasket}},b.exports=c}()},{"../../../Shared/Utils/Capture":63}],35:[function(b,c,d){!function(){"use strict";var d,e=b("../../../Shared/Utils/Storage.js"),f=b("./ProductAggregator"),g=b("../../../Shared/Utils/Capture"),h="historyProducts",i="basketProducts",j="producStorage.",k=10;d={storage:!1,isLoadDataSaved:!1,isStorageReady:!1,queue:[],executeOrQueue:function(a){this.isStorageReady?a():this.queue.push(a)},updateFromProductAggregator:function(){var a=this,b=f.getProducts(),c=f.getBasket(),d=f.getTotalBasket();a.isLoadDataSaved&&a.executeOrQueue(function(){a.updateLastBrowsedProduct(b[0]),a.setBasket(c,d)})},subscribeToDataCaptureOnLoad:function(){var a=this,b=g.mediator;b.on("capture_onload-data-captured",function(){var b=f.getProducts(),c=f.getBasket(),d=f.getTotalBasket();b.length>0&&a.executeOrQueue(function(){a.setNewBrowsedProduct(b[0])}),c.length>0&&a.executeOrQueue(function(){a.setBasket(c,d)}),a.isLoadDataSaved=!0})},subscribeToDataCaptureOnChange:function(){var a=this,b=g.mediator;b.on("capture_onchange-data-captured",function(){a.updateFromProductAggregator()})},subscribeToDataCaptureOnRerender:function(){var a=this,b=g.mediator;b.on("capture_onrerender-data-captured",function(){a.updateFromProductAggregator()})},subscribeToStorageIsReady:function(a){var b=this;a.once("utils_ready",function(){var a;for(b.isStorageReady=!0,a=0;a<b.queue.length;a++)b.queue[a].call()})},init:function(a){var b=this;b.storage=e.getStorage(j,!1),b.subscribeToDataCaptureOnLoad(),b.subscribeToDataCaptureOnChange(),b.subscribeToDataCaptureOnRerender(),b.subscribeToStorageIsReady(a.utilsController)},setNewBrowsedProduct:function(a){var b=this.getBrowsedProducts()||[];a&&(b.push(a),b.length>k&&b.shift(),this.storage.setItem(h,b))},updateLastBrowsedProduct:function(a){var b=this.getBrowsedProducts()||[];a&&b.length>0&&(b.pop(),b.push(a),this.storage.setItem(h,b))},setBasket:function(b,c){a.remove(b,a.isNull),b.length>0&&c&&(this.storage.setItem(i,b),f.setBasket([]))},getBrowsedProducts:function(){return this.storage.getItem(h)},getBasket:function(){return this.storage.getItem(i)}},c.exports=d}()},{"../../../Shared/Utils/Capture":63,"../../../Shared/Utils/Storage.js":83,"./ProductAggregator":34}],36:[function(b,c,d){!function(d,e){"use strict";function f(b){function c(a,b){b="//"+b+"IsOptedOut?journeyCode="+a;try{r.JSONP.request(b,function(a){switch(a.result){case"none":u=!0;break;case"True":u=!1;break;case"False":u=!1}})}catch(c){g.error(c)}}function f(b,c){var d,e={};try{parseInt(c)>0&&(d=a.find(b.Forms,function(a){return a.FormId===c}),e.controls=a.filter(d.FormFields,function(a){return a.isEmail}),e.optOut=a.find(d.OptOuts,function(a){return a.Default||s(a.Selector).text()===a.Criteria}),e.optOut&&(e.result=!0,e.optOut.optOutId=b.OptOutField))}catch(f){g.error(f),e={}}return e}function i(a,b,c,e){var f,h="//"+c+"?journeycode="+e+"&captureurl="+encodeURIComponent(d.location.href.replace(/http(s)?\:\/\/(www\.)?/,"").replace(/([#;])/gi,"?"))+"&customerid="+x.customerid+"&identifyabandonmentor="+x.IdentifyAbandonmentOr+"&numberidentifiedfields="+x.NumberIdentifiedFields;try{c="//"+c+"MarkOptedOut?journeyCode="+e+"&value="+a,f=h+"&formmappingid="+b+"&identifyabandonment="+!1+"&fieldidname=optOut&identifypage="+!1+"&SerieNumber=&valuefield="+a,r.JSONP.request(c),r.JSONP.request(f)}catch(i){g.error(i)}}function j(a){return a.replace(/^\s+|\s+$/g,"")}function k(a){var b,c=e.createElement("div"),d=j(a);c.innerHTML=d,b=1===c.childElementCount?c.children[0]:null,b&&(b.id="veEMail",e.body.appendChild(b))}function l(b,c,d,e){function f(){p||(u=!1),""===q?k.hide():k.toggle(q)}function j(a){f(),i(a,b.optOutId,d,e)}var k=s("#veEMail"),l=s(".veClose"),m=s(".veYesClick"),n=s(".veNoClick"),o=s(".veClick"),p=0===m.length&&0===n.length&&0===o.length;try{q=b.Effect,l.click(f),o.change(function(){j(this.checked)}),m.click(function(){j(!0)}),n.click(function(){j(!1)}),p&&a.each(c,function(a){new h(a).getElementsWithSelector().blur(f)}),k.css("position","absolute"),k.css("z-index",1e3),k.hide(),t={Position:b.Position,X:b.X,Y:b.Y},u=!0}catch(r){g.error(r)}}function m(a,b,c,d){try{k(a.MarkUp),l(a,b,c,d)}catch(e){g.error(e)}}function n(a){w||(g.log("Initialising VeCompliance"),p=f(x,a),p.result&&(c(x.JourneyCode,x.datareceiverurl),v=!0,m(p.optOut,p.controls,x.datareceiverurl,x.JourneyCode)),w=!0)}function o(a){var b,c,d,e=s("#veEMail");try{switch(b=s(a),c=b.offset().left,d=b.offset().top,t.Position){case"TopLeft":break;case"TopRight":c+=b.width();break;case"BottonLeft":d+=b.height();break;case"BottomRight":c+=b.width(),d+=b.height()}c+=t.X,d+=t.Y,e.css("left",c).css("top",d),e.is(":visible")||(""===q?e.show():e.toggle(q))}catch(f){g.error(f)}}var p,q,r=d.VeAPI,s=d.VEjQuery,t={},u=!1,v=!1,w=!1,x=b.captureConfig;return g.log("Loading VeCompliance"),function(c){var d,f,g=a.any(c.Forms,function(b){return b.FormTypeId<6&&a.any(b.OptOuts,function(b){return!a.isEmpty(b.Effect)})});g&&(f=e.getElementById("veEffects"),f||(f=e.createElement("script"),f.id="veEffects",f.type="text/javascript",f.async=!0,f.src="//"+b.veHostDomain+"/scripts/shared/compliance-effects.js",d=e.getElementsByTagName("script")[0],d.parentNode.insertBefore(f,d)))}(x),{showEmailAuthForm:function(a){o(a)},showCompliance:function(){return u},complianceRequired:function(){return v},startCompliance:function(a){n(a)},isInitialised:function(){return w}}}var g=b("../../Shared/Utils/Shell"),h=b("./FormMappingBuilder");c.exports=f}(window,document)},{"../../Shared/Utils/Shell":82,"./FormMappingBuilder":31}],37:[function(b,c,d){!function(d){"use strict";function e(){g.emit("cookie_complete")}function f(a){e(),g.cookieExchange(a)}var g,h=b("../Shared/Classes/ApiManager"),i=b("../Shared/Utils/UtilsIframe"),j=b("events");g=new j,g.getCookie=function(a,b){var c=["api","SetCookie",b],d={domain:a,methodWindow:i()};g.cookiesEnabled()?new h(d).request(c,null,f,e):e()},g.cookieExchange=function(b){b=b||[],a.each(b,function(a){(new Image).src=a})},g.cookiesEnabled=function(){return d.cookieEnabled},c.exports=g}(window.navigator)},{"../Shared/Classes/ApiManager":52,"../Shared/Utils/UtilsIframe":88,events:89}],38:[function(b,c,d){!function(d,e){"use strict";function f(a,b){var c,d={};for(c in a)a[c]&&(d[c]=new p(a[c],b));return d}function g(a,b){var c,d=b.criteriaFilters||{},e=d[a]||[],f=[];for(c=0;c<e.length;c++)f=q.pushWithoutDuplicate(e[c].value,f);return f}function h(a,b){return{appName:a,appAgents:g(a,b),priority:1,FormBlackListURLs:[],FormURLs:[],Paremeter:[],FormTypeId:6,FormId:a}}function i(a){var b=this;n.call(b),a=a||{},b.tagData=a,b.formGroups={},b.isInitialized=!1}var j="classicForms",k="productForms",l={1:j,2:j,3:j,4:k,5:k},m="form_no-capture-matching-form",n=b("events"),o=b("./Capture/FormManager"),p=b("./Capture/FormIdentifier"),q=b("../Shared/Utils/Array"),r=b("../Shared/Utils/Shell"),s=b("../Shared/Utils/PageMediator");i.prototype=a.create(n.prototype),i.prototype.init=function(){var a,b=this,c=b.tagData,d=c.settings||{},e=d.appsForms;b.isInitialized||(b.publishVeApiMethods(),b.listenForClassicFormsIdentification(),b.listenForProductFormsIdentification(),b.listenForAppsFormsIdentification(),a=b.splitFormsByType(),e&&e.length>0?a.appsForms=e:a.appsForms=b.buildDefaultApps(),b.formGroups=f(a,window.location.href),b.matchAllFormGroups(),a[j]||a[k]||b.emit(m),b.isInitialized=!0)},i.prototype.publishVeApiMethods=function(){var a=this;d.VeAPI.capture&&(d.VeAPI.capture.getFormId=function(b){return b=b||"classicForms",a.getFormGroupFormId(b)})},i.prototype.listenForClassicFormsIdentification=function(){var a=this;a.on("form-classicForms_identification-complete",function(){a.checkCaptureRequired()})},i.prototype.listenForProductFormsIdentification=function(){var a=this;a.on("form-productForms_identification-complete",function(){a.checkCaptureRequired()})},i.prototype.checkCaptureRequired=function(){var a,b,c,d=this,e=d.formGroups.classicForms,f=d.formGroups.productForms;d.isCaptureIdentificationCompleted()&&(d.needsCapture()?(r.log("Capture configured for this page"),b=f&&f.getMatchingForms()||[],a=e&&e.getMatchingForms()||[],c=new o(a,b),d.emit("form_capture-configured",c)):d.emit(m))},i.prototype.listenForAppsFormsIdentification=function(){var a=this;a.on("form-appsForms_identification-complete",function(b){a.checkAppsRequired(b)})},i.prototype.checkAppsRequired=function(a){var b;this.needsApps()&&(r.log("Apps configured for this page"),b=new o(a.getMatchingForms()),this.emit("form_apps-configured",b))},i.prototype.matchAllFormGroups=function(){var a,b,c=this,d=c.formGroups;for(a in d)b=d[a],r.log("beginning identification for formGroup: "+a),c.identifyFormGroup(b,a)},i.prototype.splitFormsByType=function(){var a,b,c,d=this.tagData,f=d.captureConfig||{},g=f.Forms||[],h={};for(a=0;a<g.length;a++)c=g[a],b=l[c.FormTypeId],b!==e&&(h[b]?h[b]=q.pushWithoutDuplicate(c,h[b]):h[b]=[c]);return h},i.prototype.buildDefaultApps=function(){var a,b,c=this.tagData,d=c.apps||[],e=[];for(a=0;a<d.length;a++)b=d[a].name.toLowerCase(),e.push(h(b,c));return 0===e.length&&(e=null),e},i.prototype.isCaptureIdentificationCompleted=function(){var a=this.formGroups,b=a.classicForms,c=a.productForms,d=!0;return b&&(d=b.identificationComplete()),d&&c&&(d=c.identificationComplete()),!!d},i.prototype.needsCapture=function(){var a=!1,b=!1,c=this.formGroups,d=c.classicForms,e=c.productForms;return a=d&&d.getMatchingForms().length>0,b=e&&e.getMatchingForms().length>0,!(!a&&!b)},i.prototype.needsApps=function(){var a=this.formGroups.appsForms;return!!(a&&a.identificationComplete()&&a.getMatchingForms().length>0)},i.prototype.onFormIdentificationComplete=function(a,b){var c=a.getFormId();r.log("identified formId as: "+c+" for form group: "+b),a.identificationComplete(!0),this.emit("form-"+b+"_identification-complete",a)},i.prototype.identifyFormGroup=function(a,b){var c,d=this;a.init(),c=a.matchFormsByUrl(),c.length>1?(c=a.preferFormsWithParameters(),c.length>1?s.hasBeenLoaded()?(a.preferFormsWithVisibleFormMappings(),d.onFormIdentificationComplete(a,b)):s.once("page_loaded",function(){a.preferFormsWithVisibleFormMappings(),d.onFormIdentificationComplete(a,b)}):1===c.length&&d.onFormIdentificationComplete(a,b)):d.onFormIdentificationComplete(a,b)},i.prototype.getFormGroupFormId=function(a){var b=this.formGroups[a];return b?b.getFormId():0},c.exports=i}(window)},{"../Shared/Utils/Array":62,"../Shared/Utils/PageMediator":79,"../Shared/Utils/Shell":82,"./Capture/FormIdentifier":28,"./Capture/FormManager":29,events:89}],39:[function(a,b,c){!function(c){"use strict";function d(a,b,d){var e=this;e.numberOfPage=0,e.callback=a,e.backButtonSystem=null,e.appsManagerStatus=b,e.browser=d,e.history=c.history}var e=a("./IframeBackButton"),f=a("./PushStateBackButton"),g=a("../../Shared/Utils/Functions"),h=a("../../Shared/Utils/Shell");d.prototype.historyGoBack=function(){var a=this;a.numberOfPage>0&&(a.history.go(-1),a.numberOfPage--),a.numberOfPage>0&&(a.historyGoBackBinded||(a.historyGoBackBinded=g.bind(a.historyGoBack,a)),c.setTimeout(a.historyGoBackBinded,10))},d.prototype.getDependencies=function(){return this.backButtonSystem.getDependencies()},d.prototype.handleEvent=function(a){var b,d=this;h.info("BackButton pressed"),d.numberOfPage=a,b=d.callback("backButton"),b||(d.historyGoBackBinded||(d.historyGoBackBinded=g.bind(d.historyGoBack,d)),c.setTimeout(d.historyGoBackBinded,10))},d.prototype.getBackButtonSystem=function(){var a=this,b=null;return a.handleEventBinded||(a.handleEventBinded=g.bind(a.handleEvent,a)),b="IE"===a.browser.browser()?new e(a.handleEventBinded):new f(a.handleEventBinded,a.appsManagerStatus,a.browser)},d.prototype.add=function(){var a=this,b=!1;return a.backButtonSystem||(a.backButtonSystem=a.getBackButtonSystem()),a.history.length>1&&(b=a.backButtonSystem.add()),b},d.prototype.activate=function(){this.backButtonSystem.activate()},d.prototype.deactivate=function(){this.backButtonSystem.deactivate()},d.prototype.remove=function(){this.backButtonSystem.remove()},b.exports=d}(window)},{"../../Shared/Utils/Functions":75,"../../Shared/Utils/Shell":82,"./IframeBackButton":42,"./PushStateBackButton":46}],40:[function(a,b,c){!function(c){"use strict";function d(a){this.callback=a}var e=a("../../Shared/Utils/Event"),f=a("../../Shared/Utils/Shell");d.prototype.getDependencies=function(){return["backButton"]},d.prototype.handleEvent=function(a){var b;return f.info("Beforeunload event fired"),this.isActive&&(b=this.callback("exit"))?((a||c.event).returnValue=b,b):void 0},d.prototype.add=function(){return e.addEvent(c,"beforeunload",this)},d.prototype.activate=function(){this.isActive=!0},d.prototype.deactivate=function(){this.isActive=!1},d.prototype.remove=function(){return e.removeEvent(c,"beforeunload",this)},b.exports=d}(window)},{"../../Shared/Utils/Event":74,"../../Shared/Utils/Shell":82}],41:[function(a,b,c){!function(c,d){"use strict";function e(){return Math.max(d.documentElement.clientHeight,c.innerHeight||0)}function f(a,b,c){var d=this;d.callback=a,d.documentHeight=e(),d.distanceSensitivity=20,d.movementSensitivity=40,d.appsManagerStatus=b,d.isIE="IE"===c.browser(),d.mouseY=1,d.movementY=0}var g=a("../../Shared/Utils/Event"),h=a("../../Shared/Utils/Shell"),i=a("../../Shared/Utils/Functions");f.prototype.getDependencies=function(){return[]},f.prototype.handleEvent=function(a){var b=this,c=!1;b.isIE?(b.movementY>b.movementSensitivity||b.mouseY<b.distanceSensitivity||b.mouseY>b.documentHeight-b.distanceSensitivity)&&(c=!0):(a.clientY<0||a.clientY>this.documentHeight)&&(c=!0),c&&(h.info("ExitIntent event fired"),b.callback("exitIntent"))},f.prototype.onMouseMove=function(a){this.movementY=Math.abs(this.mouseY-a.clientY),this.mouseY=a.clientY},f.prototype.onResizeWindow=function(){this.documentHeight=e()},f.prototype.add=function(){var a,b,e=this,f=!0;return e.onMouseMoveBound=i.bind(e.onMouseMove,e),e.onResizeWindowBound=i.bind(e.onResizeWindow,e),b=g.addEvent(d.documentElement,"mouseleave",e),a=g.addEvent(c,"resize",e.onResizeWindowBound),e.isIE&&(f=g.addEvent(d.documentElement,"mousemove",e.onMouseMoveBound)),f&&a&&b},f.prototype.activate=function(){this.isActive=!0},f.prototype.deactivate=function(){this.isActive=!1},f.prototype.remove=function(){var a,b,e=this,f=!0;return b=g.removeEvent(d.documentElement,"mouseleave",e),a=g.removeEvent(c,"resize",e.onResizeWindowBound),e.isIE&&(f=g.removeEvent(d.documentElement,"mousemove",e.onMouseMoveBound)),f&&a&&b},b.exports=f}(window,document)},{"../../Shared/Utils/Event":74,"../../Shared/Utils/Functions":75,"../../Shared/Utils/Shell":82}],42:[function(a,b,c){!function(c){"use strict";function d(a){this.callback=a,this.countIframeLoadEvent=0,this.iframe=c.createElement("iframe")}var e=a("../../Shared/Utils/Event"),f=a("../../Shared/Utils/Functions");d.prototype.getDependencies=function(){return["exit"]},d.prototype.handleEvent=function(){this.countIframeLoadEvent<2?(0===this.countIframeLoadEvent&&(this.iframe.src="about:blank"),this.countIframeLoadEvent=this.countIframeLoadEvent+1):2===this.countIframeLoadEvent&&this.isActive&&this.callback(1)},d.prototype.add=function(){var a=!1;return this.iframe.src="about:inprivate",this.iframe.style.display="none",this.iframe.tabindex=-1,this.handleEventBinded=f.bind(this.handleEvent,this),a=e.addEvent(this.iframe,"load",this.handleEventBinded),c.body.appendChild(this.iframe),a},d.prototype.activate=function(){this.isActive=!0},d.prototype.deactivate=function(){this.isActive=!1},d.prototype.remove=function(){return this.deactivate(),!0},b.exports=d}(document)},{"../../Shared/Utils/Event":74,"../../Shared/Utils/Functions":75}],43:[function(a,b,c){!function(c,d){"use strict";function e(a){this.callback=a,this.inactivityStartTime=0,this.timerDelay=3e5}var f=a("../../Shared/Utils/Functions"),g=a("../../Shared/Utils/Date"),h=a("../../Shared/Utils/Shell"),i=a("../../Shared/Utils/Event");e.prototype.getDependencies=function(){return[]},e.prototype.handleEvent=function(){h.info("Inactivity event fired"),this.callback("inactivity")||this.reset()},e.prototype.start=function(a){a&&a.delay&&(this.timerDelay=a.delay),this.inactivityStartTime=g.now(),this.timer=d.setTimeout(f.bind(this.handleEvent,this),this.timerDelay)},e.prototype.reset=function(a){d.clearTimeout(this.timer),this.start(a)},e.prototype.delay=function(){this.reset()},e.prototype.stop=function(){clearTimeout(this.timer),this.inactivityStartTime=0},e.prototype.add=function(a){var b=this;return a&&a.delay&&this.start(a),this.delayBinded=f.bind(this.delay,this),i.addEvent(c,"mousemove",this.delayBinded),i.addEvent(c,"keydown",this.delayBinded),VeAPI.manager.inactivityCounter=function(){h.log(0!==b.inactivityStartTime?(g.now()-b.inactivityStartTime)/1e3+" secs":"Not active")},!0},e.prototype.activate=function(){this.reset()},e.prototype.deactivate=function(){this.stop()},e.prototype.remove=function(){return i.removeEvent(c,"mousemove",this.delayBinded),i.removeEvent(c,"keydown",this.delayBinded),this.stop(),!0},b.exports=e}(document,window)},{"../../Shared/Utils/Date":66,"../../Shared/Utils/Event":74,"../../Shared/Utils/Functions":75,"../../Shared/Utils/Shell":82}],44:[function(a,b,c){!function(){"use strict";function c(a){this.callback=a}var d=a("../../Shared/Utils/Shell"),e=a("../../Shared/Utils/Functions");c.prototype.getDependencies=function(){return[]},c.prototype.handleEvent=function(){this.isActive&&(d.info("Load event fired"),this.callback("load"))},c.prototype.add=function(){return this.handleEventBinded=e.bind(this.handleEvent,this),setTimeout(this.handleEventBinded,10),!0},c.prototype.reset=function(){setTimeout(this.handleEventBinded,10)},c.prototype.activate=function(){this.isActive=!0},c.prototype.deactivate=function(){this.isActive=!1},c.prototype.remove=function(){return!0},b.exports=c}()},{"../../Shared/Utils/Functions":75,"../../Shared/Utils/Shell":82}],45:[function(a,b,c){!function(){"use strict";function c(a,b,c){this.myEvents={},this.eventsRequiredBy={},this.callback=a,this.appsManagerInstance=b,this.browser=c}var d=a("../../Shared/Utils/Functions"),e=a("../../Shared/Utils/Shell");c.prototype.addEvent=function(a,b){var c,d,e=this,f=e.myEvents,g=e.eventsRequiredBy,h=!1,i=null;if(e.hasBeenAdded(a))f[a].reset&&f[a].reset(b);else if(h=f[a].add(b)){for(f[a].hasBeenAdded=!0,i=f[a].getDependencies(),c=0;c<i.length;c++)d=i[c],g[d]=g[d]||[],g[d].push(a),e.addEvent(d);e.activateEvent(a)}},c.prototype.activateEvent=function(a){this.myEvents[a]&&this.myEvents[a].activate()},c.prototype.deactivateEvent=function(a){this.myEvents[a]&&this.myEvents[a].deactivate()},c.prototype.removeEvent=function(a){var b,c=!0,d=null;if(this.hasBeenAdded(a)){if(d=this.eventsRequiredBy[a])for(b=0;b<d.length;b++)this.hasBeenAdded(d[b])&&(c=!1);c&&(this.myEvents[a].remove(),this.myEvents[a].hasBeenAdded=!1,this.deactivateEvent(a))}},c.prototype.hasBeenAdded=function(a){return this.myEvents[a]&&this.myEvents[a].hasBeenAdded},c.prototype.isActive=function(a){return this.myEvents[a]&&this.myEvents[a].isActive},c.prototype.onEventDetected=function(a){return this.callback(a)},c.prototype.changeAppsManagerStatus=function(a){return this.appsManagerInstance[a]()},c.prototype.init=function(a){var b=null,c=null,f=d.bind(this.onEventDetected,this),g=d.bind(this.changeAppsManagerStatus,this);e.log("Loading PopEvents");for(b in a)c=b[0].toLowerCase()+b.substring(1),this.myEvents[c]=new a[b](f,g,this.browser)},b.exports=c}()},{"../../Shared/Utils/Functions":75,"../../Shared/Utils/Shell":82}],46:[function(a,b,c){!function(c,d){"use strict";function e(a,b,c){this.timer=null,this.hashChanged=!1,this.readyStateInteractive=!1,this.stateFunctionsOverwrited=!1,this.VE_BACK_BUTTON1="VeBackButton1",this.VE_BACK_BUTTON2="VeBackButton2",this.VE_BACK_BUTTON_REPLACED="VeBackButtonReplaced",this.lastHistoryState=history.state,this.callback=a,this.appsManagerStatus=b,this.browser=c}var f=a("../../Shared/Utils/Event"),g=a("../../Shared/Utils/Functions");e.prototype.getDependencies=function(){return["exit"]},e.prototype.triggerHandlerReplacedState=function(){f.removeEvent(c,"hashchange",this.onHashChangeEventBinded),this.hashChanged?this.hashChanged=!1:(this.appsManagerStatus("delay"),c.history.go(-1))},e.prototype.onHashChangeEvent=function(){c.clearTimeout(this.timer),this.hashChanged=!0,this.triggerHandlerReplacedState()},e.prototype.onStateMatch=function(){this.isActive?(this.appsManagerStatus("isDelayed")&&(this.appsManagerStatus("pause"),this.appsManagerStatus("resume")),this.callback(2)):(this.appsManagerStatus("delay"),c.history.go(-2))},e.prototype.replaceStateMatch=function(){this.onHashChangeEventBinded=g.bind(this.onHashChangeEvent,this),this.triggerHandlerReplacedStateBinded=g.bind(this.triggerHandlerReplacedState,this),f.addEvent(c,"hashchange",this.onHashChangeEventBinded),this.timer=c.setTimeout(this.triggerHandlerReplacedStateBinded,100)},e.prototype.checkStates=function(){c.history.state===this.VE_BACK_BUTTON1&&this.lastHistoryState===this.VE_BACK_BUTTON2?this.onStateMatch():this.lastHistoryState===this.VE_BACK_BUTTON_REPLACED&&this.replaceStateMatch(),this.lastHistoryState=c.history.state},e.prototype.handleEvent=function(){this.readyStateInteractive?this.readyStateInteractive=!1:this.checkStates()},e.prototype.onPushState=function(a){this.lastHistoryState=a},e.prototype.overwritePushState=function(){var a=this,b=c.history.pushState;c.history.pushState=function(d){return"function"==typeof c.history.onpushstate&&c.history.onpushstate({state:d}),a.onPushState(d),b.apply(c.history,arguments)}},e.prototype.onReplaceState=function(a){switch(this.lastHistoryState){case this.VE_BACK_BUTTON1:this.VE_BACK_BUTTON1=a;break;case this.VE_BACK_BUTTON2:this.VE_BACK_BUTTON2=a;break;case this.VE_BACK_BUTTON_REPLACED:this.VE_BACK_BUTTON_REPLACED=a}this.lastHistoryState=a},e.prototype.overwriteReplaceState=function(){var a=this,b=c.history.replaceState;c.history.replaceState=function(d){return"function"==typeof c.history.onreplacestate&&c.history.onreplacestate({state:d}),a.onReplaceState(d),b.apply(c.history,arguments)}},e.prototype.setPushStateFunction=function(a){var b=a.length;this.stateFunctionsOverwrited||(this.stateFunctionsOverwrited=!0,a.state===this.VE_BACK_BUTTON2?a.pushState(this.VE_BACK_BUTTON_REPLACED,this.VE_BACK_BUTTON_REPLACED,c.location.href):(a.pushState(this.VE_BACK_BUTTON1,this.VE_BACK_BUTTON1,c.location.href),a.length<=b?a.replaceState(this.VE_BACK_BUTTON_REPLACED,this.VE_BACK_BUTTON_REPLACED,c.location.href):a.pushState(this.VE_BACK_BUTTON2,this.VE_BACK_BUTTON2,c.location.href)),this.lastHistoryState=a.state,this.overwritePushState(),this.overwriteReplaceState())},e.prototype.setEvent=function(){this.setPushStateFunction(c.history),"interactive"!==d.readyState||"Chrome"!==this.browser.browser()&&"Safari"!==this.browser.browser()||(this.readyStateInteractive=!0),this.handleEventBinded=g.bind(this.handleEvent,this),f.addEvent(c,"popstate",this.handleEventBinded)},e.prototype.add=function(){return c.history.state===this.VE_BACK_BUTTON1?(c.history.go(-1),this.isEventAdded=!0,setTimeout(g.bind(this.setEvent,this),10)):this.setEvent(),!0},e.prototype.activate=function(){this.isActive=!0},e.prototype.deactivate=function(){this.isActive=!1},e.prototype.remove=function(){return this.deactivate(),!0},b.exports=e}(window,document)},{"../../Shared/Utils/Event":74,"../../Shared/Utils/Functions":75}],47:[function(b,c,d){!function(){"use strict";function d(a){var b={};return a&&a.enabled?(b.isCookieEnabled=!0,b.timeToLive=a.timeToLive):(b.isCookieEnabled=!1,b.timeToLive=0),b}function e(){i.sessionIdError()}function f(a){a?i.sessionIdRetrieved(a):e()}function g(b){var c;a.extend(this,b),c="Ve."+this.journeyId+".",this.storage=h.getStorage(c)}var h=b("../../Shared/Utils/Storage.js"),i=b("./SessionMediator.js"),j=["api","appsmanagerinit"];g.prototype.init=function(){var a=d(this.cookieSettings),b=!0;a.referrerDomain=this.referrer,a.landingPage=this.landingPage,a.journeyCode=this.journeyCode,this.appsApi.request(j,null,f,e,"sessionInit request",a,0,b)},c.exports=g}()},{"../../Shared/Utils/Storage.js":83,"./SessionMediator.js":48}],48:[function(a,b,c){"use strict";var d=a("events"),e=new d;e.sessionId=null,e.isSessionIdRetrieved=function(){return!!this.sessionId},e.sessionIdRetrieved=function(a){this.sessionId=a.sessionId,this.emit("session_retrieved",a.sessionId)},e.sessionIdError=function(){this.emit("session_error")},e.getSessionId=function(){return this.sessionId},b.exports=e},{events:89}],49:[function(b,c,d){!function(){"use strict";function d(){i.init()}function e(a){var b=this;f.call(b),a=a||{},j(),b.tagData=a,b.settings=a.settings||{},b.sessionComplete=!1,b.cookieComplete=!1}var f=b("events"),g=b("./Session/Session"),h=b("./Session/SessionMediator"),i=b("../Shared/Classes/QueueManager"),j=b("../Shared/Utils/UtilsIframe"),k=b("../Shared/Utils/Storage"),l=b("../Shared/Utils/Shell"),m=b("../Shared/Utils/TabsManager"),n=b("../Shared/Utils/PromoCode"),o=b("../Shared/Classes/MessageManager"),p=b("./Cookies");
e.prototype=a.create(f.prototype),e.prototype.init=function(a,b){function c(){l.log("storage ready. Initialising Utils required storage"),d.initialiseStorageRequiredUtils(b)}var d=this,e=d.tagData;o.init(window.location.protocol+e.veHostDomain),k.init(e.veHostDomain,e.captureConfig.JourneyId,c),d.initSession(a),p.on("cookie_complete",function(){d.setCookieComplete()}),p.getCookie(e.evaDomain,e.journeycode)},e.prototype.initSession=function(a){var b,c=this,d=c.tagData,e={referrer:document.referrer,landingPage:window.location.href,journeyCode:d.journeycode,cookieSettings:d.settings.cookies,journeyId:d.captureConfig.JourneyId,appsApi:a};h.once("session_retrieved",function(a){c.onSessionRetrieved(a)}),h.once("session_error",function(){c.onSessionError()}),b=new g(e),b.init(),c.sessionManager=b},e.prototype.onSessionRetrieved=function(a){a=a.replace(/^(A|C)\|/,""),k.setSessionId(a),this.setSessionComplete()},e.prototype.onSessionError=function(){this.setSessionComplete()},e.prototype.initialiseStorageRequiredUtils=function(a){var b=this.settings;m.init(),n.init(a,b.promoCodeAutofill),n.checkForAutofill(),l.log("All utils ready. Running callback"),this.emit("utils_ready")},e.prototype.setSessionComplete=function(){this.sessionComplete=!0,this.cookieComplete&&d()},e.prototype.setCookieComplete=function(){this.cookieComplete=!0,this.sessionComplete&&d()},c.exports=e}()},{"../Shared/Classes/MessageManager":58,"../Shared/Classes/QueueManager":59,"../Shared/Utils/PromoCode":80,"../Shared/Utils/Shell":82,"../Shared/Utils/Storage":83,"../Shared/Utils/TabsManager":85,"../Shared/Utils/UtilsIframe":88,"./Cookies":37,"./Session/Session":47,"./Session/SessionMediator":48,events:89}],50:[function(a,b,c){!function(){"use strict";function c(a){a.manager={isLoaded:function(){return e?e.isLoaded():!1},isPlaying:function(){return e?e.isPlaying():!1},isDelayed:function(){return e?e.isDelayed():!1},isPaused:function(){return e?e.isPaused():!1},isStopped:function(){return e?e.isStopped():!1},hasBeenShown:function(){return e?e.hasBeenShown():!1},delay:function(){e&&e.delay()},resume:function(){e&&e.resume()},pause:function(){e&&e.pause()},stop:function(){e&&e.stop()},status:function(){e&&e.logCurrentStatusName()},isBackButtonEventAdded:function(){return e?e.isEventAdded("backButton"):!1},isExitEventAdded:function(){return e?e.isEventAdded("exit"):!1},isInactivityEventAdded:function(){return e?e.isEventAdded("inactivity"):!1},isExitIntentEventAdded:function(){return e?e.isEventAdded("exitIntent"):!1}},a.chat={show:function(){e.isLoaded()&&e.runApp("chat")}},a.assist={show:function(){e.isLoaded()&&e.runApp("assist")}},a.promote={show:function(){e.isLoaded()&&e.runApp("promote")}},a.JSONP=d.JSONP(),a.getVersion=function(){f.info("VeApps "+a.version.major+"."+a.version.minor+"."+a.version.revision+" Deploy:"+a.version.deploy+" Build:"+a.version.build)},a.capture={getCapturedControls:function(){return[]}},f.info("VeApps "+a.version.major+"."+a.version.minor+"."+a.version.revision+" Deploy:"+a.version.deploy+" Build:"+a.version.build)}var d=a("../Shared/Utils/Ajax"),f=a("../Shared/Utils/Shell");b.exports=c}()},{"../Shared/Utils/Ajax":61,"../Shared/Utils/Shell":82}],51:[function(a,b,c){!function(b,c){"use strict";function d(){try{e.onLoad(),e.onPageLoad()}catch(a){h.error("there was an error within the onLoad or onPageLoad customEvent"),h.error(a)}}var e,f,g=a("../Shared/Classes/ConsoleOverwrite"),h=a("../Shared/Utils/Shell"),i=a("../Shared/Utils/PageMediator"),j=a("./CaptureAppsStartup"),k=a("./Capture/CustomEvents"),l=a("./Capture/KlarnaIntegration"),m={liveData:["productAggregator","liveDataStorer"],byApp:{promote:["productAggregator","productLocalStorage"]}};g(),e=k(c.customEvents),f=new j(c,m,e),f.init(),b.ready(function(){b.ready&&delete b.ready,l(),d(),i.markAsLoaded()})}(window.VeAPI,window.veTagData)},{"../Shared/Classes/ConsoleOverwrite":55,"../Shared/Utils/PageMediator":79,"../Shared/Utils/Shell":82,"./Capture/CustomEvents":26,"./Capture/KlarnaIntegration":32,"./CaptureAppsStartup":22}],52:[function(a,b,c){!function(c){"use strict";function d(a){var b=new a.XMLHttpRequest({mozSystem:!0}),c=!1;return"withCredentials"in b&&(c=!0),c}function e(a){var b=!1;return a.XDomainRequest!==c&&(b=!0),b}function f(a,b){var c;if("function"==typeof b.getBaseUrl)c=b.getBaseUrl();else{if(!a)throw new Error("Unable to get baseUrl");c="//"+a}return c}function g(a){var b,c,g=this;a=a||{},b=a.methodWindow||{},c=a.HelperFunctions||{},g.xhr=b.XMLHttpRequest,g.requestTimeout=3e3,g.baseUrl=f(a.domain,c),g.useXHR=d(b),g.queueManager=a.queueManager,g.useXHR||(g.useXDR=e(b)),g.useXDR&&(g.xdr=b.XDomainRequest)}var h="Could not parse the response",i=3,j=a("../Utils/Json.js"),k=a("../Utils/Shell.js"),l=a("../Utils/Domain.js");g.prototype.request=function(a,b,c,d,e,f,g,h){function j(){g=g||0,g++,i>g?(k.log(g+" retry of the AJAX request for "+e),o.request(a,b,c,d,e,f,g,h)):("function"==typeof d&&d(),k.error("AJAX request for "+e+" not successful"))}var m,n,o=this;if(b=b||{},e=e||"",o.useXHR)m=l.createUrl(o.baseUrl,a,b),n=function(){o.xhrRequest(m,c,j,f)};else{if(!o.useXDR)throw new Error("This browser supports neither xhr nor xdr requests. Cannot call API.");m=l.createUrl(o.baseUrl,a,b,!0),n=function(){o.xdrRequest(m,c,j,f)}}o.queueManager&&!h?o.queueManager.request(n):n()},g.prototype.xdrRequest=function(a,b,c,d){function e(){"function"==typeof b&&(g.responseText?b(j.parseJSON(g.responseText,h)):b())}var f=d?"POST":"GET",g=new this.xdr;g.open(f,a),g.timeout=this.requestTimeout,g.ontimeout=c,g.onerror=c,g.onload=e,d?g.send(j.stringify(d)):g.send()},g.prototype.xhrRequest=function(a,b,c,d){function e(){this.status<400?b&&(this.responseText?b(j.parseJSON(this.responseText,h)):b()):this.status>=400&&c&&c()}var f=d?"POST":"GET",g=new this.xhr;g.open(f,a,!0),g.withCredentials=!0,g.timeout=this.requestTimeout,g.ontimeout=c,g.onerror=c,g.onload=e,"POST"===f?(g.setRequestHeader("content-type","application/json"),g.send(j.stringify(d))):g.send()},b.exports=g}()},{"../Utils/Domain.js":73,"../Utils/Json.js":76,"../Utils/Shell.js":82}],53:[function(b,c,d){!function(d){"use strict";function e(a){var b=this;b.browserName=null,b.browserVersion=null,b.deviceOS=null,b.deviceType=null,b.isSupported=!1,b.msgNotSupported="Browser is not supported.",b.unsupportedClientSettings=a,b.userAgent=d.navigator.userAgent}var f=b("../Utils/Shell.js"),g="unknown",h={desktop:0,mobile:1},i=[{name:"Chrome",nameRegExp:"CriOS",versionRegExp:".*?CriOS/([0-9\\.]+).*"},{name:"Opera mobile",nameRegExp:"OPR",versionRegExp:".*Chrome.*?OPR/([0-9\\.]+).*"},{name:"Chrome",nameRegExp:"Chrome",versionRegExp:"^(?!.*Version).*Chrome/([0-9\\.]+).*$"},{name:"Firefox",nameRegExp:"Firefox",versionRegExp:".*?Firefox/([0-9\\.]+).*"},{name:"Opera",nameRegExp:"Opera",versionRegExp:".*?Opera/([0-9\\.]+).*"},{name:"IE",nameRegExp:"Trident",versionRegExp:".*?Trident/([0-9\\.]+).*"},{name:"IE",nameRegExp:"MSIE",versionRegExp:".*?MSIE\\s([0-9\\.]+).*"},{name:"Android browser",nameRegExp:"Mobile\\s",versionRegExp:".*?Version/([0-9\\.]+).*"},{name:"Safari",nameRegExp:"Safari",versionRegExp:".*?Version/([0-9\\.]+).*"}],j=[{name:"iPhone/ipod",nameRegExp:"iPhone",deviceType:h.mobile},{name:"iPad",nameRegExp:"iPad",deviceType:h.mobile},{name:"Windows Phone",nameRegExp:"Windows Phone",deviceType:h.mobile},{name:"Windows Tablet",nameRegExp:"(Windows){1}.*?(Tablet PC)",deviceType:h.desktop},{name:"Android",nameRegExp:"Android",deviceType:h.mobile},{name:"Windows",nameRegExp:"Windows",deviceType:h.desktop},{name:"Mac",nameRegExp:"Mac",deviceType:h.desktop},{name:"Linux",nameRegExp:"Linux",deviceType:h.desktop}],k={"Windows Phone":null,Android:{Safari:null,"Android browser":null,"Opera mobile":null,Firefox:null},iPad:{Chrome:null,"Android browser":null,"Opera mobile":null,Firefox:null},"iPhone/ipod":{Chrome:null,"Android browser":null,"Opera mobile":null,Firefox:null},Windows:{Safari:null,IE:[5,6,7]},Opera:null};e.prototype.isSupportedBrowser=function(a){var b,c,d=this,e=!0;if(a)for(b in a)e&&(c=a[b],d.isOS(b)?e=!d.osMatchesUnsupported(b,c):d.isBrowser(b)&&(e=!d.browserMatchesUnsupported(b,c)));return e},e.prototype.isOS=function(a){var b,c=!1;for(b=0;b<j.length&&!c;b++)c=j[b].name.toLowerCase()===a.toLowerCase();return c},e.prototype.osMatchesUnsupported=function(a,b){var c,d=this.deviceOS===g,e=!1;if(!d){e=null===b;for(c in b)e||(e=this.browserMatchesUnsupported(c,b[c]));d=this.deviceOS.toLowerCase()===a.toLowerCase()&&e}return d},e.prototype.isBrowser=function(a){var b,c=!1;for(b=0;b<i.length&&!c;b++)c=i[b].name.toLowerCase()===a.toLowerCase();return c},e.prototype.browserMatchesUnsupported=function(a,b){var c,d=this.browserName===g;return d||(c=null===b||this.versionMatchesUnsupported(b),d=this.browserName.toLowerCase()===a.toLowerCase()&&c),d},e.prototype.versionMatchesUnsupported=function(a){var b,c=this.browserVersion===g;for(b=0;b<a.length&&!c;b++)c=a[b]===this.browserVersion;return c},e.prototype.searchVersion=function(a){var b,c=this,e=g;return null!==a&&(b=new RegExp(a.versionRegExp,"g"),e=d.parseFloat(c.userAgent.replace(b,"$1")),"Trident"===a.nameRegExp&&(e+=4),isNaN(e)&&(e=g)),e},e.prototype.getRegexConfig=function(a){var b,c,d=null;for(b=0;b<a.length&&null===d;b++)c=new RegExp(a[b].nameRegExp,"g"),c.test(this.userAgent)&&(d=a[b]);return d},e.prototype.checkForUnsupportedBrowsers=function(){var a=this,b=a.browserName!==g&&a.browserVersion!==g&&a.deviceOS!==g;b&&(b=a.isSupportedBrowser(k),b?a.unsupportedClientSettings&&(b=a.isSupportedBrowser(a.unsupportedClientSettings),b||(a.msgNotSupported="Browser is set as not supported in customer's settings.")):a.msgNotSupported="Browser is set as not supported in version's default settings."),a.isSupported=b},e.prototype.init=function(){var a=this,b=a.getRegexConfig(i),c=a.getRegexConfig(j);a.browserName=null===b?g:b.name,a.browserVersion=a.searchVersion(b),null===c?(a.deviceOS=g,a.deviceType=g):(a.deviceOS=c.name,a.deviceType=c.deviceType),a.publishVeApiBrowser(),a.checkForUnsupportedBrowsers(),f.info("Browser detected: "+a.browserName+(a.isSupported?"":" NOT")+" supported")},e.prototype.browser=function(){return this.browserName},e.prototype.version=function(){return this.browserVersion},e.prototype.OS=function(){return this.deviceOS},e.prototype.messageNotSupported=function(){return this.msgNotSupported},e.prototype.deviceIsOneOf=function(b){return a.contains(b,this.deviceType)},e.prototype.isDesktop=function(){return this.deviceType===h.desktop},e.prototype.isMobile=function(){return this.deviceType===h.mobile},e.prototype.publishVeApiBrowser=function(){d.VeAPI&&(d.VeAPI.browser=this)},c.exports=e}(window,document)},{"../Utils/Shell.js":82}],54:[function(b,c,d){!function(){"use strict";var d=b("../Utils/String"),e=b("../Utils/Domain"),f=b("../Utils/Shell"),g=b("../Utils/Dom/ElementSelectors"),h=";",i=new RegExp(h,"gi"),j={},k={ELEMENT_NODE:1,TEXT_NODE:3};j.isElementCaptureable=function(b){var c=["script","noscript","style","template"],d=!1;return b&&b.nodeType===k.ELEMENT_NODE&&!a.contains(c,b.nodeName.toLowerCase())&&(d=!0),d},j.getTextNodes=function(a){var b,c,d,e,f="";if(this.isElementCaptureable(a))for(b=a.childNodes,c=b.length,e=0;c>e;e++)d=b[e],d.nodeType===k.TEXT_NODE?f+=d.nodeValue+" ":d.nodeType===k.ELEMENT_NODE&&(f+=this.getTextNodes(d));return f},j.getInnerText=function(a){var b="";return a&&(b=this.getTextNodes(a),b=b.replace(new RegExp(String.fromCharCode(160),"gmi")," "),b=b.replace(/(\r\n|\n|\r)/gm," "),b=b.replace(/[\s]+/gm," "),b=d.trim(b)),b},j.aggregateCategories=function(a){var b,c,d=[];for(b=0;b<a.length;b++)c=this.getInnerText(a[b]),c=c.replace(i,""),d.push(c);return d.join(h)},j.parseHtml=function(a,b){var c,d;return a?(d=g.querySelectorAll(a,b),c=this.aggregateCategories(d)):c="",c},j.runCustomJSEvent=function(a,b,c){var d=this.customEvents||{};try{return d.onGetCaptureValue(a,b,c)}catch(e){return f.error(e),b}},j.readValue=function(a,b,c){var d;switch(b.toLowerCase()){case"value":d=a.value;break;case"checkbox":d=a.checked?"Checked":"Unchecked";break;case"innerhtml":case"text":d=this.getInnerText(a);break;case"src":d=a.src;break;case"class":d=a.className;break;case"id":d=a.id;break;case"href":d=a.href;break;case"visibility":d=a.style[b];break;case"html":d=this.parseHtml(c,a);break;default:d=a.getAttribute(b)}return d||""},j.getValue=function(a,b,c,d){var f=0,h=0,i=[],j=null,k=null;if("window.location.href"===a)i.push(e.getHref());else for(k=g.querySelectorAll(a),h=k.length,f=0;h>f;f++)j=this.readValue(k[f],b,d),c&&(j=this.runCustomJSEvent(c,j,k[f])),i.push(j);return i},j.init=function(a){j.customEvents=a},c.exports=j}()},{"../Utils/Dom/ElementSelectors":71,"../Utils/Domain":73,"../Utils/Shell":82,"../Utils/String":84}],55:[function(a,b,c){var d=a("../Utils/UtilsIframe");b.exports=function(){"use strict";var a,b=function(){};try{window.console&&window.console.log&&-1!==window.console.log.toString().indexOf("[native code]")||(a=d(),window.console=a.console,window.console||(window.console={debug:b,dir:b,error:b,group:b,groupCollapsed:b,groupEnd:b,info:b,log:b,time:b,timeEnd:b,trace:b,warn:b}),window.console.log("ve: console restored !"))}catch(c){}}},{"../Utils/UtilsIframe":88}],56:[function(a,b,c){!function(){"use strict";function c(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function d(a,b){this.namespace=b||"",this.storageInstance=a}var e=2,f=3,g=a("./MessageManager.js");d.prototype.getItem=function(a){var b=this.storageInstance,c=b.storage,d=null;return null!==c&&(c=c||{},d=c[this.namespace+a]),d},d.prototype.setItem=function(a,b){function c(){g.postMessage(h,{command:e,key:f,value:b},i)}var d=this.storageInstance,f=this.namespace+a,h=d.iframeElement.contentWindow,i=d.iframeDomain;d.storage=d.storage||{},d.storage[f]=b,d.iframeReady?c():d.queuedRequests.push(c)},d.prototype.removeItem=function(a){function b(){g.postMessage(e,{command:f,key:c},h)}var c=this.namespace+a,d=this.storageInstance,e=d.iframeElement.contentWindow,h=d.iframeDomain;null!==d.storage&&(d.storage=d.storage||{},delete d.storage[c],d.iframeReady?b():d.queuedRequests.push(b))},d.prototype.getAllItems=function(){var a,b=this.storageInstance.storage,d={},e=c(this.namespace),f=new RegExp("^"+e);for(a in b)f.test(a)&&(d[a.replace(f,"")]=b[a]);return d},b.exports=d}()},{"./MessageManager.js":58}],57:[function(a,b,c){!function(){"use strict";function c(a){return a.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function d(a){this.namespace=a||"",this.localStorage=localStorage}var e=a("../Utils/Json.js");d.prototype.getItem=function(a){return e.parseJSON(this.localStorage.getItem(this.namespace+a))},d.prototype.setItem=function(a,b){this.localStorage.setItem(this.namespace+a,e.stringify(b))},d.prototype.removeItem=function(a){this.localStorage.removeItem(this.namespace+a)},d.prototype.getAllItems=function(){var a,b,d=this.localStorage,e=d.length,f={},g=new RegExp("^"+c(this.namespace));for(a=0;e>a;a++)b=d.key(a),g.test(b)&&(f[b.replace(g,"")]=d.getItem(b));return f},b.exports=d}()},{"../Utils/Json.js":76}],58:[function(b,c,d){!function(){"use strict";function d(b,c,d){var e=a.contains(d,c);return!b||e}var e,f=function(){},g=b("../Utils/Event.js"),h=b("../Utils/Json.js");e={subscriptions:{},init:function(a){function b(a){var b,f,g,j=a.origin.replace(/http(s)?/,""),k={};if(g=h.parseJSON(a.data)||{},f=c.subscriptions[g.id]||[],k.data=g,d(i,j,e))for(b=0;b<f.length;b++)"function"==typeof f[b].callback&&f[b].callback.call(f[b].context,k)}var c=this,e=[],i="*"!==a;i&&(a=a.replace(/http(s)?/,""),e.push(a)),c.subscriptions={},g.addEvent(window,"message",b,!1),c.init=f},subscribeTo:function(a,b,c){this.subscriptions[a]=this.subscriptions[a]||[],this.subscriptions[a].push({callback:b,context:c})},postMessage:function(a,b,c){"string"!=typeof b&&(b=h.stringify(b)),a.postMessage(b,c)},unsubscribeFrom:function(a,b){var c,d=this.subscriptions[a]||[];for(c=d.length-1;c>=0;c--)d[c].callback===b&&d.splice(c,1)}},c.exports=e}()},{"../Utils/Event.js":74,"../Utils/Json.js":76}],59:[function(a,b,c){!function(){"use strict";function a(){this.queue=[],this.isInitialised=!1}a.prototype.init=function(){var a=this.queue;for(this.isInitialised=!0;a.length>0;)a[0](),a.shift()},a.prototype.request=function(a){this.isInitialised?a():this.queue.push(a)},b.exports=new a}()},{}],60:[function(a,b,c){!function(){"use strict";function c(a,b){this.appsManager=a,this.appsApiInstance=b}var d=a("../Utils/Event.js"),e=a("../Utils/Shell.js"),f=3,g=4,h=5,i=6,j=10;c.prototype.backButtonFired=function(a){this.sendReport(a,f)},c.prototype.exitEventFired=function(a){this.sendReport(a,g)},c.prototype.exitIntentFired=function(a){this.sendReport(a,j)},c.prototype.inactivityFired=function(a){this.sendReport(a,i)},c.prototype.appAccepted=function(a){function b(){clearTimeout(f)}function c(){e.appsManager.hasBeenShown()&&e.sendReport(a,h)}var e=this,f=null;d.addEvent(window,"unload",b),f=setTimeout(c,1e3)},c.prototype.sendReport=function(a,b){function c(){e.info(a+". Report "+b)}var d=this.getReportUrlOptions(a,b);this.appsApiInstance.request(d.path,d.params,c,null,a+". Report "+b)},c.prototype.getReportUrlOptions=function(a,b){var c=this.appsManager.getApp(a),d=c.agent,e={path:["api","log","agent",d.agentId,"agentFactory",d.id,"event",b,"session",d.sessionId],params:null};return d.firstMessageId&&(e.path.push("firstMessage"),e.path.push(d.firstMessageId)),e},b.exports=c}()},{"../Utils/Event.js":74,"../Utils/Shell.js":82}],61:[function(a,b,c){!function(){"use strict";var c=a("../Classes/QueueManager"),d=a("./Date"),e={JSONP:function(){var a={},b=0,e=d.now().toString()+Math.floor(1e7*Math.random()).toString();return{request:function(d,f,g){function h(){var c,h=document.getElementsByTagName("head")[0],i=document.createElement("script"),j=[],k=e+"_"+b;g||(g={}),d+=d.indexOf("?")+1?"&":"?",b++,g.jsoncallback="VeAPI.JSONP.callbacks.VEjQuery"+k,a["VEjQuery"+k]=function(b){h.removeChild(i),delete a["VEjQuery"+k],f&&f(b)};for(c in g)j.push(c+"="+encodeURIComponent(g[c]));d+=j.join("&"),i.type="text/javascript",i.src=d,h.appendChild(i)}c?c.request(h):h()},callbacks:a}}};b.exports=e}()},{"../Classes/QueueManager":59,"./Date":66}],62:[function(b,c,d){!function(){"use strict";var b={removeIndex:function(a,b){a[b]&&a.splice(b,1)},concatWithoutDuplicate:function(b,c){function d(b){var c;for(c=0;c<b.length;c++)a.contains(e,b[c])||e.push(b[c])}var e=[];return d(b),d(c),e},pushWithoutDuplicate:function(b,c){return a.contains(c,b)||c.push(b),c},removeNullElements:function(a){var b;for(b=0;b<a.length;b++)null===a[b]&&(a.splice(b,1),b--);return a},filterObjectsByAttributeValue:function(b,c,d){var e=[];return e=a.filter(b,function(a){return a[c]===d})}};c.exports=b}()},{}],63:[function(a,b,c){!function(){"use strict";var c,d=a("./CaptureAppsMediator"),e=a("../Classes/CaptureData"),f=a("../../Main/Capture/FormMappingBuilder");c={mediator:d,stringMatch:function(a,b){var c,d="\\.\\\\+\\?\\[\\^\\]\\$\\(\\)\\{\\}\\=\\!\\<\\>\\|\\:\\-";return a=this.toLowerCaseString(a),b=this.toLowerCaseString(b),a=a.replace(new RegExp("(?=["+d+"])","gi"),"\\"),a=a.replace(/\*/gi,"[^/]*"),c=new RegExp("^"+a+"$"),c.test(b)},toLowerCaseString:function(a){return a=new String(a).toString(),a=a.toLowerCase()},findFormById:function(a,b){var c;for(c=0;c<b.length;c++)if(b[c].FormId===a)return b[c];return!1},checkForControls:function(a){var b;return b=a instanceof f?a:new f(a),b.getElementsWithSelector()},getAppsMappingsValue:function(a){var b,c,d,f,g,h;for(a=a||[],b=a.length,g=0;b>g&&!f;g++)for(c=e.getValue(a[g]["CSS-selector"],a[g]["HTML-attribute"]),d=c.length,h=0;d>h&&!f;h++)f=c[h];return f||""},initialiseFormMappings:function(a){var b,c=[];for(b=0;b<a.length;b++)c.push(new f(a[b]));if(c.length!==a.length)throw new Error("Couldn't initialise all the form mappings");return a=c},getFormTypeIdByFormMappingId:function(a,b){var c,d,e,f=!1;for(b=b||[],c=0;c<b.length&&!f;c++)for(e=b[c].FormFields,d=0;d<e.length&&!f;d++)e[d].FormMappingId===a&&(f=b[c].FormTypeId);return f}},b.exports=c}()},{"../../Main/Capture/FormMappingBuilder":31,"../Classes/CaptureData":54,"./CaptureAppsMediator":64}],64:[function(a,b,c){!function(){"use strict";var c=a("events").EventEmitter,d=new c;d.onloadDataCaptured=!1,d.setFormTypeIdCaptured=function(a){this.formTypeId=a},d.getFormTypeIdCaptured=function(){return this.formTypeId},d.hasOnLoadDataBeenCaptured=function(){return this.onloadDataCaptured},d.onLoadDataHasBeenCaptured=function(){this.onloadDataCaptured=!0,this.emit("capture_onload-data-captured")},d.onChangeDataHasBeenCaptured=function(){this.emit("capture_onchange-data-captured")},d.onRerenderDataHasBeenCaptured=function(){this.emit("capture_onrerender-data-captured")},d.dataHasBeenProcessed=function(a,b){this.emit("capture_data-processed",a,b)},b.exports=d}()},{events:89}],65:[function(a,b,c){!function(){"use strict";var c=a("events"),d=a("../../Main/Capture/VeCompliance"),e=a("./PageMediator"),f=new c;f.init=function(a,b){function c(){h.startCompliance(b)}function g(a){h.complianceRequired()&&h.showCompliance()&&h.showEmailAuthForm(a)}var h=new d(a);e.hasBeenLoaded()?c():e.on("page_loaded",c),f.on("compliance_needed",g)},b.exports=f}()},{"../../Main/Capture/VeCompliance":36,"./PageMediator":79,events:89}],66:[function(a,b,c){!function(){"use strict";var c=a("./UtilsIframe"),d=c().Date,e={now:function(){return this.now=d.now||function(){return(new d).getTime()},this.now()}};b.exports=e}()},{"./UtilsIframe":88}],67:[function(a,b,c){!function(){"use strict";var c=a("./Object"),d=a("./Dom/ClassNames"),e=a("./Dom/ElementSelectors"),f=a("./Dom/BodyDimensions"),g=a("./Dom/WindowDimensions"),h=a("./Dom/CrudElements"),i={};i=c.concatenate(i,d),i=c.concatenate(i,e),i=c.concatenate(i,f),i=c.concatenate(i,g),i=c.concatenate(i,h),b.exports=i}()},{"./Dom/BodyDimensions":68,"./Dom/ClassNames":69,"./Dom/CrudElements":70,"./Dom/ElementSelectors":71,"./Dom/WindowDimensions":72,"./Object":78}],68:[function(a,b,c){!function(){"use strict";var a;a={bodyHeight:0,getBodyWidth:function(){return document.body.offsetWidth},getBodyHeight:function(){return document.body.offsetHeight},getLastUpdatedBodyHeight:function(){return this.bodyHeight},updateBodyHeight:function(){this.bodyHeight=this.getBodyHeight()}},b.exports=a}()},{}],69:[function(a,b,c){!function(){"use strict";var a;a={hasClass:function(a,b){return a.classList?this.hasClass=function(a,b){return a.classList.contains(b)}:this.hasClass=function(a,b){return new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)").test(a.className)},this.hasClass(a,b)},addClass:function(a,b){a.classList?this.addClass=function(a,b){a.classList.add(b)}:this.addClass=function(a,b){this.hasClass(a,b)||(a.className=a.className?[a.className,b].join(" "):b)},this.addClass(a,b)},removeClass:function(a,b){a.classList?this.removeClass=function(a,b){a.classList.remove(b)}:this.removeClass=function(a,b){var c;this.hasClass(a,b)&&(c=a.className,a.className=c.replace(new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)","g")," "))},this.removeClass(a,b)},toggleClass:function(a,b){this.hasClass(a,b)?this.removeClass(a,b):this.addClass(a,b)}},b.exports=a}()},{}],70:[function(a,b,c){!function(){"use strict";var a;a={exists:function(a){return null!==a},focus:function(a){a&&window.setTimeout(function(){try{a.focus()}catch(b){}},10)},createElement:function(a,b,c){var d,e=document.createElement(a);e.innerHTML=c||"";for(d in b)b.hasOwnProperty(d)&&e.setAttribute(d,b[d]);return e},createDiv:function(a,b){return this.createElement("div",a,b)},createAndSubmitForm:function(a,b,c){var d,e,f,g='<input type="hidden" name="{{ name }}" value="{{ value }}">',h="";for(f in b)b.hasOwnProperty(f)&&(e=g.replace("{{ name }}",f).replace("{{ value }}",b[f]),h+=e);d=document.createElement("form"),d.action=a,d.method="post",d.target=c?"_blank":"_parent",d.style.visibility="hidden",d.innerHTML=h,document.body.appendChild(d),d.submit()},removeElement:function(a){a&&a.parentElement.removeChild(a)}},b.exports=a}()},{}],71:[function(a,b,c){!function(){"use strict";var a;a={concatNodeList:function(a,b){if(!("object"==typeof a&&void 0!==a.length||"object"==typeof b&&void 0!==b.length))throw new TypeError("The parametters are supposed to be Arrays or Node List.");return a=Array.prototype.slice.call(a),b=Array.prototype.slice.call(b),a.concat(b)},getTopWindow:function(a){var b;return b=a.parent!==a?this.getTopWindow(a.parent):a},getElementsByClassName:function(a,b,c){return document.getElementsByClassName?this.getElementsByClassName=function(a,b,c){var d=[];return b=b||document,"string"!=typeof a?d:b.getElementsByClassName(a)}:document.querySelectorAll?this.getElementsByClassName=function(a,b,c){var d=[];return"string"!=typeof a?d:this.querySelectorAll("."+a,b)}:this.getElementsByClassName=function(a,b,c){var d,e,f,g,h,i=[];if("string"!=typeof a)return i;for(b=b||document,c=c||"*",d=b.getElementsByTagName(c),e=d.length,f=new RegExp("(^|\\s)"+a+"(\\s|$)"),g=0,h=0;e>g;g++)f.test(d[g].className)&&(i[h]=d[g],h++);return i},this.getElementsByClassName(a,b,c)},getElementsByDataAttribute:function(a,b,c){var d,e=[],f=0;if(null!==a)for(d=a.getElementsByTagName("*"),f=0;f<d.length;f++)!d[f].hasAttribute(b)||void 0!==c&&d[f].getAttribute(b)!==c||e.push(d[f]);return e},querySelectorAll:function(a,b){var c;b=b||document;try{c=b.querySelectorAll(a)}catch(d){c=b===document?VEjQuery(a):VEjQuery(b).find(a)}return c},getElementsByQuerySelectors:function(a){var b=0,c=[];if("object"!=typeof a||void 0===a.length)throw new TypeError("The parametter is supposed to be an Array.");for(b=0;b<a.length;b++)c=this.concatNodeList(c,this.querySelectorAll(a[b]));return c},getParentById:function(a,b){var c=a&&a.parentNode;return a=null,c!==document.body&&(c&&c.getAttribute("id")!==b&&(c=this.getParentById(c,b)),a=c),a},getParentByTagName:function(a,b){var c=a&&a.parentNode;return a=null,c&&c.tagName&&(c.tagName.toLowerCase()!==b.toLowerCase()&&(c=this.getParentByTagName(c,b)),a=c),a},getParentByDataAttribute:function(a,b,c){var d=a&&a.parentNode;return a=null,d&&d.hasAttribute&&((!d.hasAttribute(b)||void 0!==c&&d.getAttribute(b)!==c)&&(d=this.getParentByDataAttribute(d,b,c)),a=d),a}},b.exports=a}()},{}],72:[function(a,b,c){!function(){"use strict";var a;a={windowTop:function(){return void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop},getWindowWidth:function(){return window.innerWidth||document.documentElement.clientWidth},getWindowHeight:function(){return window.innerHeight||document.documentElement.clientHeight}},b.exports=a}()},{}],73:[function(a,b,c){!function(){"use strict";var c=(a("./Object.js"),{isInIframe:function(){return window.location!==window.parent.location},referrerIsInDomains:function(a,b){function c(a,b){for(;d<b.length;d++)if(b[d]=b[d].replace(/\./g,"\\."),e=new RegExp("(^|\\.)"+b[d]+"$"),e.test(a))return!0;return!1}var d=0,e=null;return""!==a?0===b.length?!1:(a=a.split("/")[2],a=a.replace("www.",""),c(a,b)):!0},getHref:function(){return window.location.href},createUrl:function(a,b,c,d){var e,f,g,h,i;if(b)for(e=0,f=b.length;f>e;e++)d&&(b[e]=encodeURIComponent(b[e])),a=0===e?a+("/"!==a[a.length-1]?"/":"")+b[e]:a+"/"+b[e];e=0;for(g in c)d?(h=encodeURIComponent(g),i=encodeURIComponent(c[g])):(h=g,i=c[g]),a=a+(0===e&&-1===a.indexOf("?")?"?":"&")+h+"="+i,e++;return a},getQueryParameter:function(a,b){var c=b?b:window.location.search,d=c.match(new RegExp("[?&]"+a+"=([^&]*)(&?)","i"));return d?decodeURIComponent(d[1]):d},isURL:function(a){return!0},recursiveURIDecode:function(a){for(var b="";b!==a;){b=a;try{a=decodeURIComponent(b)}catch(c){return a}}return a},getDomainHost:function(a){var b,c=this,d="";return c.isURL(a)&&(b=document.createElement("a"),b.href=a,d=b.hostname),d},getSearchEngineKeywords:function(){return{google:"q",yahoo:"p",aol:"q",ask:"q",bing:"q",baidu:"wd",yandex:"text"}},getSearchEngineRegExp:function(){var a,b="",c=this.getSearchEngineKeywords();for(a in c)a.hasOwnProperty()||(b=b+"|"+a);return b.replace("|","")},getSearchEngine:function(a){var b,c=new RegExp(".*?(\\.|://)("+this.getSearchEngineRegExp()+")\\..*");return b=c.test(a)?a.replace(c,"$2"):!1},encodeParameter:function(a){return encodeURIComponent(a)}});b.exports=c}()},{"./Object.js":78}],74:[function(a,b,c){!function(){"use strict";var c=a("./Dom.js"),d={addEvent:function(a,b,c,d){return a.addEventListener?this.addEvent=function(a,b,c,d){return d=d?!0:!1,a.addEventListener(b,c,d),!0}:a.attachEvent?this.addEvent=function(a,b,c){return a.attachEvent("on"+b,c),!0}:this.addEvent=function(){return!1},this.addEvent(a,b,c,d)},removeEvent:function(a,b,c,d){return a.removeEventListener?this.removeEvent=function(a,b,c,d){return d=d?!0:!1,a.removeEventListener(b,c,d),!0}:a.detachEvent?this.removeEvent=function(a,b,c){return a.detachEvent("on"+b,c),!0}:this.removeEvent=function(){return!1},this.removeEvent(a,b,c,d)},addEventsToArray:function(a,b,c,d){var e,f;if(void 0===a)throw new TypeError("Argument array should not be undefined or NULL.");for(f=a.length>>>0,e=0;f>e;e++)this.addEvent(a[e],b,c,d)},removeEventsFromArray:function(a,b,c,d){var e,f,g=!0,h=!0;if("undefined"==typeof a)throw new TypeError("Argument array should not be undefined or NULL.");for(e=a.length>>>0,f=0;e>f;f++)h=this.removeEvent(a[f],b,c,d),g=h&&g?!0:!1;return g},preventDefault:function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,a},getSrcElement:function(a){return a.target||a.srcElement},onClick:function(a,b){c.exists(a)&&this.addEvent(a,"click",b)},isOpeningNewWindow:function(a){var b=!1,c=!1;if(a.which)switch(a.which){case 1:b=!0;break;case 2:c=!0}else switch(a.button){case 1:b=!0;break;case 4:c=!0}return c||b&&(a.shiftKey||a.ctrlKey)},checkRightClick:function(a){return a.wich&&3===a.wich||!a.wich&&a.button&&2===a.button}};b.exports=d}()},{"./Dom.js":67}],75:[function(a,b,c){!function(){"use strict";b.exports={bind:function(a,b){var c=Array.prototype.slice.call(arguments,1),d=Array.prototype.slice.call(arguments,2),e=function(){},f=function(){return a.apply(this instanceof e?this:b,d.concat(Array.prototype.slice.call(arguments)))};if("function"!=typeof a)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return a.bind?c.length>1?a.bind.apply(a,c):a.bind(b):(e.prototype=a.prototype,f.prototype=new e,f)}}}()},{}],76:[function(a,b,c){!function(){"use strict";var c=a("json3"),d=a("./Shell.js"),e={parseJSON:function(a,b){var e=a;if("object"!=typeof a)try{e=c.parse(a)}catch(f){b&&d.log(b)}return e},stringify:function(a,b){var e=a;if("string"!=typeof a)try{e=c.stringify(a)}catch(f){b&&d.log(b)}return e}};b.exports=e}()},{"./Shell.js":82,json3:90}],77:[function(a,b,c){!function(){"use strict";function c(a,b,c,d){this.element=a,this.eventType=b,this.handler=c,this.bubbling=d?!0:!1,this.isEventAdded=!1}var d=a("./Date"),e=a("./Event"),f={Timer:function(a){var b,c=null;this.duration=null,this.isEventAdded=!1,this.start=function(e){"number"==typeof e&&e>0&&(this.stop(),this.duration=e,b=d.now(),c=setTimeout(a,e),this.isEventAdded=!0)},this.stop=function(){b=0,clearTimeout(c),this.isEventAdded=!1},this.reset=function(a){this.stop(),this.start(a)},this.counter=function(){return 0!==b?((d.now()-b)/1e3).toString()+" secs":"stopped"}}};c.prototype.addEvent=function(){this.isEventAdded=e.addEvent(this.element,this.eventType,this.handler,this.bubbling)},c.prototype.removeEvent=function(){this.isEventAdded=e.removeEvent(this.element,this.eventType,this.handler,this.bubbling)},f.Event=c,b.exports=f}()},{"./Date":66,"./Event":74}],78:[function(a,b,c){!function(){"use strict";var a={isEmpty:function(a){var b;for(b in a)if(a.hasOwnProperty(b))return!1;return!0},areEqual:function(a,b){function c(e,f){for(d in e){if("object"==typeof e[d]&&f[d]){if(!c(e[d],f[d]))return!1}else if(e[d]!==f[d])return!1;delete a[d],delete b[d]}return!0}var d="";return c(a,b)&&c(b,a)},concatenate:function(a,b){var c,d={};for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);for(c in b)b.hasOwnProperty(c)&&!d.hasOwnProperty(c)&&(d[c]=b[c]);
return d}};b.exports=a}()},{}],79:[function(a,b,c){!function(){"use strict";var c,d=a("events"),e=a("./Shell");c=new d,c.isLoaded=!1,c.markAsLoaded=function(){e.log("page has loaded"),this.isLoaded=!0,this.emit("page_loaded")},c.hasBeenLoaded=function(){return this.isLoaded},b.exports=c}()},{"./Shell":82,events:89}],80:[function(a,b,c){!function(){"use strict";function c(a,b){var c,d,f,g=!1;for(c=new e(b),d=c.getElementsWithSelector(),f=0;f<d.length;f++)"input"===d[f].tagName.toLowerCase()&&(d[f].value=a,g=!0);return g}var d={},e=a("../../Main/Capture/FormMappingBuilder"),f=a("./TimerManager"),g=a("../Classes/MessageManager");d.init=function(a,b){this.session=a,this.mappingList=b},d.fillWithPromoCode=function(){var a,b=this.session.getItem("promoCode"),d=this.mappingList,e=!1;if(b&&d)for(a=0;a<d.length;a++)e=c(b,d[a]);return e},d.thereIsPromoCode=function(){return!!this.session.getItem("promoCode")},d.checkForAutofill=function(){var a=this,b=750,c=function(){var d=!1;d=a.fillWithPromoCode(a.session,a.mappingList),d&&f.removeCallback(b,c)};a.thereIsPromoCode()&&a.mappingList&&f.addCallback(b,c)},d.listenForPromoCode=function(a){g.subscribeTo(a,function(a){var b=a.data.messageBody||{},c=b.promoCode;c&&(this._temporaryPromoCode=c)},this)},d.storePromoCode=function(){var a=this;a._temporaryPromoCode&&(a.session.setItem("promoCode",a._temporaryPromoCode),delete a._temporaryPromoCode)},b.exports=d}()},{"../../Main/Capture/FormMappingBuilder":31,"../Classes/MessageManager":58,"./TimerManager":87}],81:[function(a,b,c){!function(){"use strict";var c=a("./Date"),d={generateUUID:function(){var a=c.now(),b="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;return("x"===b?c:3&c|8).toString(16)});return b}};b.exports=d}()},{"./Date":66}],82:[function(a,b,c){!function(){"use strict";var a={log:function(a){try{g.consoleMessagesEnabled&&console.log("VeApps: "+a)}catch(b){}},info:function(a){try{g.consoleMessagesEnabled&&console.info("VeApps: "+a)}catch(b){}},error:function(a){try{g.consoleMessagesEnabled&&console.error("VeApps: "+a)}catch(b){}}};b.exports=a}()},{}],83:[function(a,b,c){!function(c){"use strict";var d=60,e=6e4,f=1,g=a("../Classes/LocalStorageProxy.js"),h=a("../Classes/IframeStorageProxy.js"),i=a("./Domain.js"),j=a("../Classes/MessageManager.js"),k=a("./Date.js"),l=a("./Functions.js"),m={iframeReady:null,queuedRequests:[],init:function(a,b,d){var e=this,f=!0;e.iframeReady=!1,e.iframeDomain="https:"+a,e.iframeId=e.createIframe(b),e.iframeElement=c.getElementById(e.iframeId),j.subscribeTo(e.iframeId,function(a){var b,c,g=a.data.messageBody;if("object"==typeof g)e.storage=g,f&&(f=!1,d());else{for(e.iframeReady=!0,c=e.queuedRequests,b=0;b<c.length;b++)"function"==typeof c[b]&&c[b]();e.queuedRequests=[]}})},createIframe:function(a){var b,d=this,e=d.iframeId||k.now(),f=c.body,g=c.createElement("iframe"),h={iframeId:e,journeyId:a};return null===f&&(b=c.getElementsByTagName("script"),f=b[b.length-1].parentNode),g.id=e,g.style.display="none",g.tabindex=-1,g.src=i.createUrl(d.iframeDomain,["scripts","shared","iframeStorage.html"],h),f.appendChild(g),e},setSessionId:function(a){var b=function(){j.postMessage(this.iframeElement.contentWindow,{command:f,sessionId:a},this.iframeDomain)},c=l.bind(b,this);this.iframeReady?c():this.queuedRequests.push(c)},isInVeSession:function(a){var b=(k.now()-a)/e;return d>b},getStorage:function(a,b){var c;return c=b?new g(a):new h(this,a)}};b.exports=m}(document)},{"../Classes/IframeStorageProxy.js":56,"../Classes/LocalStorageProxy.js":57,"../Classes/MessageManager.js":58,"./Date.js":66,"./Domain.js":73,"./Functions.js":75}],84:[function(a,b,c){!function(){"use strict";var a=function(a){return function(b){var c=null,d=1,e=0;for(c=b.length;c--;)e+=(d^=1)?a[b[c]]:parseInt(b[c],10);return e%10===0&&e>0}}([0,2,4,6,8,1,3,5,7,9]);b.exports={startsWith:function(a,b){return""===b?!1:0===a.indexOf(b)},endsWith:function(a,b){return a&&b?-1!==a.indexOf(b,a.length-b.length):!1},trim:function(a){return"string"==typeof a?a.replace(/^\s+|\s+$/g,""):void 0},isValidEmail:function(a){var b=/\b[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}\b/;return a=a.toUpperCase(),-1===a.search(b)?!1:!0},isCreditCard:function(b){var c=!1;return b.match(/[a-z]/i)||(b=b.replace(/[^0-9]/gi,""),b.length>11&&b.length<20&&(c=a(b))),c},formatString:function(a){var b=Array.prototype.slice.call(arguments,1);return a.replace(/{(\d+)}/g,function(a,c){return"undefined"!=typeof b[c]?b[c]:a})}}}()},{}],85:[function(a,b,c){!function(c){"use strict";function d(){var a=i.generateUUID();return f.info("registering tab "+a),a}var e,f=a("./Shell"),g=a("./Event"),h=a("./Storage"),i=a("./Random");e={getCurrentTabInfo:function(){var a=this.storage.getItem(this.tabId);return a||{}},setCurrentTabInfo:function(a){var b=this.tabId||d();this.tabId=b,this.storage.setItem(b,a)},removeCurrentTabInfo:function(){f.info("de-registering tab: "+this.tabId),this.storage.removeItem(this.tabId),this.stop()},getAllTabsInfo:function(){return this.storage.getAllItems()},stop:function(){var a=function(){};this.setCurrentTabInfo=a,this.removeCurrentTabInfo=a},init:function(){var a=this;g.addEvent(c,"beforeunload",function(){a.removeCurrentTabInfo()}),a.storage=h.getStorage("tabs.")}},b.exports=e}(window)},{"./Event":74,"./Random":81,"./Shell":82,"./Storage":83}],86:[function(b,c,d){!function(){"use strict";var b;b={removeNotAvailableAppsFromTag:function(b,c){var d,e=[];for(d=0;d<b.length;d++)a.contains(c,b[d].name)&&e.push(b[d]);return e},appForceLoad:function(a,c){var d;return d=b.removeNotAvailableAppsFromTag(a,[c]),d[0]&&(d[0].load=!0),d},removeDisabledApps:function(b,c){var d,e=[],f=[];for(d=0;d<c.length;d++)c[d].enabled&&e.push(c[d].name);for(d=0;d<b.length;d++)a.contains(e,b[d])&&f.push(b[d]);return f}},c.exports=b}()},{}],87:[function(a,b,c){!function(a){"use strict";var c;c={_ids:{},_callbacks:{},addCallback:function(b,c,d){var e=this;e._callbacks[b]=e._callbacks[b]||[],e._callbacks[b].push({callback:c,context:d}),e._ids[b]||(e._ids[b]=a.setInterval(function(a){a.executeCallbacks(b)},b,e))},removeCallback:function(b,c){var d=this,e=0,f=d._callbacks[b],g=!1;if(f){for(e=0;e<f.length&&!g;e++)f[e].callback===c&&(f.splice(e,1),g=!0);0===f.length&&(a.clearInterval(d._ids[b]),delete d._ids[b],delete d._callbacks[b])}},executeCallbacks:function(b){var c,d,e=this._callbacks[b]||[];for(c=0;c<e.length;c++)"function"==typeof e[c].callback&&(d=e[c].context||a,e[c].callback.call(d))}},b.exports=c}(window)},{}],88:[function(a,b,c){!function(a){"use strict";b.exports=function(){var b="veUtilsIframe",c=window.veTagData===a,d=document.getElementById(b);return c?d={contentWindow:window}:null===d&&(d=document.createElement("iframe"),d.id=b,d.style.visibility="hidden",d.style.display="none",d.border="0px",d.frameBorder="0",d.width="0px",d.height="0px",d.tabindex=-1,document.documentElement.appendChild(d),d=document.getElementById(b)),d.contentWindow}}()},{}],89:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||0>a||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;throw TypeError('Uncaught, unspecified "error" event.')}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];c.apply(this,f)}else if(g(c)){for(d=arguments.length,f=new Array(d-1),i=1;d>i;i++)f[i-1]=arguments[i];for(j=c.slice(),d=j.length,i=0;d>i;i++)j[i].apply(this,f)}return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned){var c;c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())}return this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(0>d)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.listenerCount=function(a,b){var c;return c=a._events&&a._events[b]?e(a._events[b])?1:a._events[b].length:0}},{}],90:[function(a,c,d){(function(a){(function(){function e(a,b){function c(a){if(c[a]!==q)return c[a];var e;if("bug-string-char-index"==a)e="a"!="a"[0];else if("json"==a)e=c("json-stringify")&&c("json-parse");else{var g,h='{"a":[1,true,false,null,"\\u0000\\b\\n\\f\\r\\t"]}';if("json-stringify"==a){var i=b.stringify,k="function"==typeof i&&t;if(k){(g=function(){return 1}).toJSON=g;try{k="0"===i(0)&&"0"===i(new d)&&'""'==i(new f)&&i(s)===q&&i(q)===q&&i()===q&&"1"===i(g)&&"[1]"==i([g])&&"[null]"==i([q])&&"null"==i(null)&&"[null,null,null]"==i([q,s,null])&&i({a:[g,!0,!1,null,"\x00\b\n\f\r	"]})==h&&"1"===i(null,g)&&"[\n 1,\n 2\n]"==i([1,2],null,1)&&'"-271821-04-20T00:00:00.000Z"'==i(new j(-864e13))&&'"+275760-09-13T00:00:00.000Z"'==i(new j(864e13))&&'"-000001-01-01T00:00:00.000Z"'==i(new j(-621987552e5))&&'"1969-12-31T23:59:59.999Z"'==i(new j(-1))}catch(l){k=!1}}e=k}if("json-parse"==a){var m=b.parse;if("function"==typeof m)try{if(0===m("0")&&!m(!1)){g=m(h);var n=5==g.a.length&&1===g.a[0];if(n){try{n=!m('"	"')}catch(l){}if(n)try{n=1!==m("01")}catch(l){}if(n)try{n=1!==m("1.")}catch(l){}}}}catch(l){n=!1}e=n}}return c[a]=!!e}a||(a=i.Object()),b||(b=i.Object());var d=a.Number||i.Number,f=a.String||i.String,h=a.Object||i.Object,j=a.Date||i.Date,k=a.SyntaxError||i.SyntaxError,l=a.TypeError||i.TypeError,m=a.Math||i.Math,n=a.JSON||i.JSON;"object"==typeof n&&n&&(b.stringify=n.stringify,b.parse=n.parse);var o,p,q,r=h.prototype,s=r.toString,t=new j(-0xc782b5b800cec);try{t=-109252==t.getUTCFullYear()&&0===t.getUTCMonth()&&1===t.getUTCDate()&&10==t.getUTCHours()&&37==t.getUTCMinutes()&&6==t.getUTCSeconds()&&708==t.getUTCMilliseconds()}catch(u){}if(!c("json")){var v="[object Function]",w="[object Date]",x="[object Number]",y="[object String]",z="[object Array]",A="[object Boolean]",B=c("bug-string-char-index");if(!t)var C=m.floor,D=[0,31,59,90,120,151,181,212,243,273,304,334],E=function(a,b){return D[b]+365*(a-1970)+C((a-1969+(b=+(b>1)))/4)-C((a-1901+b)/100)+C((a-1601+b)/400)};if((o=r.hasOwnProperty)||(o=function(a){var b,c={};return(c.__proto__=null,c.__proto__={toString:1},c).toString!=s?o=function(a){var b=this.__proto__,c=a in(this.__proto__=null,this);return this.__proto__=b,c}:(b=c.constructor,o=function(a){var c=(this.constructor||b).prototype;return a in this&&!(a in c&&this[a]===c[a])}),c=null,o.call(this,a)}),p=function(a,b){var c,d,e,f=0;(c=function(){this.valueOf=0}).prototype.valueOf=0,d=new c;for(e in d)o.call(d,e)&&f++;return c=d=null,f?p=2==f?function(a,b){var c,d={},e=s.call(a)==v;for(c in a)e&&"prototype"==c||o.call(d,c)||!(d[c]=1)||!o.call(a,c)||b(c)}:function(a,b){var c,d,e=s.call(a)==v;for(c in a)e&&"prototype"==c||!o.call(a,c)||(d="constructor"===c)||b(c);(d||o.call(a,c="constructor"))&&b(c)}:(d=["valueOf","toString","toLocaleString","propertyIsEnumerable","isPrototypeOf","hasOwnProperty","constructor"],p=function(a,b){var c,e,f=s.call(a)==v,h=!f&&"function"!=typeof a.constructor&&g[typeof a.hasOwnProperty]&&a.hasOwnProperty||o;for(c in a)f&&"prototype"==c||!h.call(a,c)||b(c);for(e=d.length;c=d[--e];h.call(a,c)&&b(c));}),p(a,b)},!c("json-stringify")){var F={92:"\\\\",34:'\\"',8:"\\b",12:"\\f",10:"\\n",13:"\\r",9:"\\t"},G="000000",H=function(a,b){return(G+(b||0)).slice(-a)},I="\\u00",J=function(a){for(var b='"',c=0,d=a.length,e=!B||d>10,f=e&&(B?a.split(""):a);d>c;c++){var g=a.charCodeAt(c);switch(g){case 8:case 9:case 10:case 12:case 13:case 34:case 92:b+=F[g];break;default:if(32>g){b+=I+H(2,g.toString(16));break}b+=e?f[c]:a.charAt(c)}}return b+'"'},K=function(a,b,c,d,e,f,g){var h,i,j,k,m,n,r,t,u,v,B,D,F,G,I,L;try{h=b[a]}catch(M){}if("object"==typeof h&&h)if(i=s.call(h),i!=w||o.call(h,"toJSON"))"function"==typeof h.toJSON&&(i!=x&&i!=y&&i!=z||o.call(h,"toJSON"))&&(h=h.toJSON(a));else if(h>-1/0&&1/0>h){if(E){for(m=C(h/864e5),j=C(m/365.2425)+1970-1;E(j+1,0)<=m;j++);for(k=C((m-E(j,0))/30.42);E(j,k+1)<=m;k++);m=1+m-E(j,k),n=(h%864e5+864e5)%864e5,r=C(n/36e5)%24,t=C(n/6e4)%60,u=C(n/1e3)%60,v=n%1e3}else j=h.getUTCFullYear(),k=h.getUTCMonth(),m=h.getUTCDate(),r=h.getUTCHours(),t=h.getUTCMinutes(),u=h.getUTCSeconds(),v=h.getUTCMilliseconds();h=(0>=j||j>=1e4?(0>j?"-":"+")+H(6,0>j?-j:j):H(4,j))+"-"+H(2,k+1)+"-"+H(2,m)+"T"+H(2,r)+":"+H(2,t)+":"+H(2,u)+"."+H(3,v)+"Z"}else h=null;if(c&&(h=c.call(b,a,h)),null===h)return"null";if(i=s.call(h),i==A)return""+h;if(i==x)return h>-1/0&&1/0>h?""+h:"null";if(i==y)return J(""+h);if("object"==typeof h){for(G=g.length;G--;)if(g[G]===h)throw l();if(g.push(h),B=[],I=f,f+=e,i==z){for(F=0,G=h.length;G>F;F++)D=K(F,h,c,d,e,f,g),B.push(D===q?"null":D);L=B.length?e?"[\n"+f+B.join(",\n"+f)+"\n"+I+"]":"["+B.join(",")+"]":"[]"}else p(d||h,function(a){var b=K(a,h,c,d,e,f,g);b!==q&&B.push(J(a)+":"+(e?" ":"")+b)}),L=B.length?e?"{\n"+f+B.join(",\n"+f)+"\n"+I+"}":"{"+B.join(",")+"}":"{}";return g.pop(),L}};b.stringify=function(a,b,c){var d,e,f,h;if(g[typeof b]&&b)if((h=s.call(b))==v)e=b;else if(h==z){f={};for(var i,j=0,k=b.length;k>j;i=b[j++],h=s.call(i),(h==y||h==x)&&(f[i]=1));}if(c)if((h=s.call(c))==x){if((c-=c%1)>0)for(d="",c>10&&(c=10);d.length<c;d+=" ");}else h==y&&(d=c.length<=10?c:c.slice(0,10));return K("",(i={},i[""]=a,i),e,f,d,"",[])}}if(!c("json-parse")){var L,M,N=f.fromCharCode,O={92:"\\",34:'"',47:"/",98:"\b",116:"	",110:"\n",102:"\f",114:"\r"},P=function(){throw L=M=null,k()},Q=function(){for(var a,b,c,d,e,f=M,g=f.length;g>L;)switch(e=f.charCodeAt(L)){case 9:case 10:case 13:case 32:L++;break;case 123:case 125:case 91:case 93:case 58:case 44:return a=B?f.charAt(L):f[L],L++,a;case 34:for(a="@",L++;g>L;)if(e=f.charCodeAt(L),32>e)P();else if(92==e)switch(e=f.charCodeAt(++L)){case 92:case 34:case 47:case 98:case 116:case 110:case 102:case 114:a+=O[e],L++;break;case 117:for(b=++L,c=L+4;c>L;L++)e=f.charCodeAt(L),e>=48&&57>=e||e>=97&&102>=e||e>=65&&70>=e||P();a+=N("0x"+f.slice(b,L));break;default:P()}else{if(34==e)break;for(e=f.charCodeAt(L),b=L;e>=32&&92!=e&&34!=e;)e=f.charCodeAt(++L);a+=f.slice(b,L)}if(34==f.charCodeAt(L))return L++,a;P();default:if(b=L,45==e&&(d=!0,e=f.charCodeAt(++L)),e>=48&&57>=e){for(48==e&&(e=f.charCodeAt(L+1),e>=48&&57>=e)&&P(),d=!1;g>L&&(e=f.charCodeAt(L),e>=48&&57>=e);L++);if(46==f.charCodeAt(L)){for(c=++L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}if(e=f.charCodeAt(L),101==e||69==e){for(e=f.charCodeAt(++L),(43==e||45==e)&&L++,c=L;g>c&&(e=f.charCodeAt(c),e>=48&&57>=e);c++);c==L&&P(),L=c}return+f.slice(b,L)}if(d&&P(),"true"==f.slice(L,L+4))return L+=4,!0;if("false"==f.slice(L,L+5))return L+=5,!1;if("null"==f.slice(L,L+4))return L+=4,null;P()}return"$"},R=function(a){var b,c;if("$"==a&&P(),"string"==typeof a){if("@"==(B?a.charAt(0):a[0]))return a.slice(1);if("["==a){for(b=[];a=Q(),"]"!=a;c||(c=!0))c&&(","==a?(a=Q(),"]"==a&&P()):P()),","==a&&P(),b.push(R(a));return b}if("{"==a){for(b={};a=Q(),"}"!=a;c||(c=!0))c&&(","==a?(a=Q(),"}"==a&&P()):P()),(","==a||"string"!=typeof a||"@"!=(B?a.charAt(0):a[0])||":"!=Q())&&P(),b[a.slice(1)]=R(Q());return b}P()}return a},S=function(a,b,c){var d=T(a,b,c);d===q?delete a[b]:a[b]=d},T=function(a,b,c){var d,e=a[b];if("object"==typeof e&&e)if(s.call(e)==z)for(d=e.length;d--;)S(e,d,c);else p(e,function(a){S(e,a,c)});return c.call(a,b,e)};b.parse=function(a,b){var c,d;return L=0,M=""+a,c=R(Q()),"$"!=Q()&&P(),L=M=null,b&&s.call(b)==v?T((d={},d[""]=c,d),"",b):c}}}return b.runInContext=e,b}var f="function"==typeof b&&b.amd,g={"function":!0,object:!0},h=g[typeof d]&&d&&!d.nodeType&&d,i=g[typeof window]&&window||this,j=h&&g[typeof c]&&c&&!c.nodeType&&"object"==typeof a&&a;if(!j||j.global!==j&&j.window!==j&&j.self!==j||(i=j),h&&!f)e(i,h);else{var k=i.JSON,l=i.JSON3,m=!1,n=e(i,i.JSON3={noConflict:function(){return m||(m=!0,i.JSON=k,i.JSON3=l,k=l=null),n}});i.JSON={parse:n.parse,stringify:n.stringify}}f&&b(function(){return n})}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[51])},10))}();